From jhovold@gmail.com  Mon May 17 11:09:56 2010
From: Johan Hovold <jhovold@gmail.com>
Date: Sun, 16 May 2010 15:06:55 +0200
Subject: USB: visor: increase bulk-out buffer size
To: Greg Kroah-Hartman <gregkh@suse.de>
Cc: linux-usb@vger.kernel.org, Johan Hovold <jhovold@gmail.com>
Message-ID: <1274015215-26575-1-git-send-email-jhovold@gmail.com>


Increase the bulk-out buffer size to avoid any regression in throughput
after replacing the old writing scheme which used dynamic buffers (e.g.
up to 2k).

256b has been determined to be a good choice for several drivers
including ftdi_sio which used to have a more or less identical write
implementation.

Signed-off-by: Johan Hovold <jhovold@gmail.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

---
 drivers/usb/serial/visor.c |    3 +++
 1 file changed, 3 insertions(+)

--- a/drivers/usb/serial/visor.c
+++ b/drivers/usb/serial/visor.c
@@ -186,6 +186,7 @@ static struct usb_serial_driver handspri
 	.usb_driver =		&visor_driver,
 	.id_table =		id_table,
 	.num_ports =		2,
+	.bulk_out_size =	256,
 	.open =			visor_open,
 	.close =		visor_close,
 	.throttle =		usb_serial_generic_throttle,
@@ -206,6 +207,7 @@ static struct usb_serial_driver clie_5_d
 	.usb_driver =		&visor_driver,
 	.id_table =		clie_id_5_table,
 	.num_ports =		2,
+	.bulk_out_size =	256,
 	.open =			visor_open,
 	.close =		visor_close,
 	.throttle =		usb_serial_generic_throttle,
@@ -226,6 +228,7 @@ static struct usb_serial_driver clie_3_5
 	.usb_driver =		&visor_driver,
 	.id_table =		clie_id_3_5_table,
 	.num_ports =		1,
+	.bulk_out_size =	256,
 	.open =			visor_open,
 	.close =		visor_close,
 	.throttle =		usb_serial_generic_throttle,
