From linux-usb-owner@vger.kernel.org Thu Apr 10 09:45:48 2008
From: Alan Stern <stern@rowland.harvard.edu>
Date: Thu, 10 Apr 2008 12:45:34 -0400 (EDT)
Subject: USB: log an error message when USB enumeration fails
To: Greg KH <greg@kroah.com>
Cc: Németh Márton <nm127@freemail.hu>, USB list <linux-usb@vger.kernel.org>
Message-ID: <Pine.LNX.4.44L0.0804101243370.5123-100000@iolanthe.rowland.org>


This patch (as1077) logs an error message whenever the kernel is
unable to enumerate a new USB device.

Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
Cc: stable <stable@kernel.org>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

---
 drivers/usb/core/hub.c |    1 +
 1 file changed, 1 insertion(+)

--- a/drivers/usb/core/hub.c
+++ b/drivers/usb/core/hub.c
@@ -2709,6 +2709,7 @@ loop:
 		if ((status == -ENOTCONN) || (status == -ENOTSUPP))
 			break;
 	}
+	dev_err(hub_dev, "unable to enumerate USB device on port %d\n", port1);
  
 done:
 	hub_port_disable(hub, port1, 1);
