From oneukum@suse.de Thu Aug 16 07:02:10 2007
From: Oliver Neukum <oneukum@suse.de>
Date: Thu, 16 Aug 2007 16:02:08 +0200
Subject: USB: missing test for ESHUTDOWN in adutux driver
To: gregkh@suse.de, linux-usb-devel@lists.sourceforge.net
Message-ID: <200708161602.08411.oneukum@suse.de>
Content-Disposition: inline

this driver lacks a test for unlink due to ESHUTDOWN

Signed-off-by: Oliver Neukum <oneukum@suse.de>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

---
 drivers/usb/misc/adutux.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

--- a/drivers/usb/misc/adutux.c
+++ b/drivers/usb/misc/adutux.c
@@ -188,7 +188,8 @@ static void adu_interrupt_in_callback(st
 	spin_lock(&dev->buflock);
 
 	if (status != 0) {
-		if ((status != -ENOENT) && (status != -ECONNRESET)) {
+		if ((status != -ENOENT) && (status != -ECONNRESET) &&
+			(status != -ESHUTDOWN)) {
 			dbg(1," %s : nonzero status received: %d",
 			    __FUNCTION__, status);
 		}
