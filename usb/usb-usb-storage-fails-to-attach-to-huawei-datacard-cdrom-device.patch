From huananhu@huawei.com  Fri Aug  7 16:56:38 2009
From: fangxiaozhi 00110321 <huananhu@huawei.com>
Date: Fri, 07 Aug 2009 12:30:35 +0800
Subject: USB: usb-storage fails to attach to Huawei Datacard cdrom device
To: linux-usb@vger.kernel.org
Cc: linux-kernel@vger.kernel.org, zihan@huawei.com, greg@kroah.com
Message-ID: <fa3ec44c288d2.288d2fa3ec44c@huawei.com>
Content-Disposition: inline


From: fangxiaozhi <huananhu@huawei.com>

In this patch, we always make the return value of function
usb_stor_huawei_e220_init to be zero. Then it will not prevent usb-storage
driver from attaching to the CDROM device of Huawei Datacard.

Signed-off-by: fangxiaozhi <huananhu@huawei.com>
Cc: stable <stable@kernel.org>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

---
 drivers/usb/storage/initializers.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/drivers/usb/storage/initializers.c
+++ b/drivers/usb/storage/initializers.c
@@ -102,5 +102,5 @@ int usb_stor_huawei_e220_init(struct us_
 				      USB_TYPE_STANDARD | USB_RECIP_DEVICE,
 				      0x01, 0x0, NULL, 0x0, 1000);
 	US_DEBUGP("Huawei mode set result is %d\n", result);
-	return (result ? 0 : -ENODEV);
+	return 0;
 }
