From neukum@b1-systems.de  Fri Feb 26 14:22:45 2010
From: Oliver Neukum <neukum@b1-systems.de>
Date: Sat, 20 Feb 2010 02:03:19 +0100
Subject: USB: storage: onetouch: unnecessary GFP_ATOMIC
To: Nick Sillik <n.sillik@temple.edu>
Cc: usb-storage@lists.one-eyed-alien.net, Matthew Dharm <mdharm-usb@one-eyed-alien.net>, Greg KH <greg@kroah.com>, linux-usb@vger.kernel.org
Message-ID: <201002200203.19955.neukum@b1-systems.de>


From: Oliver Neukum <oliver@neukum.org>

No need to use GFP_ATOMIC to allocate buffers.

Signed-off-by: Oliver Neukum <neukum@b1-systems.de>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

---
 drivers/usb/storage/onetouch.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/drivers/usb/storage/onetouch.c
+++ b/drivers/usb/storage/onetouch.c
@@ -202,7 +202,7 @@ static int onetouch_connect_input(struct
 		goto fail1;
 
 	onetouch->data = usb_buffer_alloc(udev, ONETOUCH_PKT_LEN,
-					  GFP_ATOMIC, &onetouch->data_dma);
+					  GFP_KERNEL, &onetouch->data_dma);
 	if (!onetouch->data)
 		goto fail1;
 
