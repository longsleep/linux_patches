From oliver@neukum.org  Thu Oct 25 12:01:48 2007
From: Oliver Neukum <oliver@neukum.org>
Date: Thu, 25 Oct 2007 15:42:38 +0200
Subject: USB: missing error check in emi62
To: greg@kroah.com, linux-usb-devel@lists.sourceforge.net
Message-ID: <200710251542.38758.oliver@neukum.org>
Content-Disposition: inline

the emi62 also lacks an error check.

Signed-off-by: Oliver Neukum <oneukum@suse.de>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

---
 drivers/usb/misc/emi62.c |    4 ++++
 1 file changed, 4 insertions(+)

--- a/drivers/usb/misc/emi62.c
+++ b/drivers/usb/misc/emi62.c
@@ -123,6 +123,10 @@ static int emi62_load_firmware (struct u
 
 	/* De-assert reset (let the CPU run) */
 	err = emi62_set_reset(dev,0);
+	if (err < 0) {
+		err("%s - error loading firmware: error = %d", __FUNCTION__, err);
+		goto wraperr;
+	}
 	msleep(250);	/* let device settle */
 
 	/* 2. We upload the FPGA firmware into the EMI
