From akpm@linux-foundation.org  Wed Feb 17 12:26:41 2010
From: Roel Kluin <roel.kluin@gmail.com>
Date: Tue, 02 Feb 2010 14:47:17 -0800
Subject: USB: musb: test always evaluates to false
To: greg@kroah.com
Cc: linux-usb@vger.kernel.org, akpm@linux-foundation.org, roel.kluin@gmail.com, dbrownell@users.sourceforge.net, felipe.balbi@nokia.com, gregkh@suse.de
Message-ID: <201002022247.o12MlITg019543@imap1.linux-foundation.org>


From: Roel Kluin <roel.kluin@gmail.com>

The removed part always evaluates to false.

Signed-off-by: Roel Kluin <roel.kluin@gmail.com>
Cc: Felipe Balbi <felipe.balbi@nokia.com>
Cc: Greg Kroah-Hartman <gregkh@suse.de>
Acked-by: David Brownell <dbrownell@users.sourceforge.net>
Signed-off-by: Andrew Morton <akpm@linux-foundation.org>

---
 drivers/usb/musb/musb_gadget.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

--- a/drivers/usb/musb/musb_gadget.c
+++ b/drivers/usb/musb/musb_gadget.c
@@ -1710,8 +1710,7 @@ int usb_gadget_register_driver(struct us
 		return -EINVAL;
 
 	/* driver must be initialized to support peripheral mode */
-	if (!musb || !(musb->board_mode == MUSB_OTG
-				|| musb->board_mode != MUSB_OTG)) {
+	if (!musb) {
 		DBG(1, "%s, no dev??\n", __func__);
 		return -ENODEV;
 	}
