From sarah.a.sharp@intel.com  Thu Oct 25 11:14:14 2007
From: Sarah Sharp <sarah.a.sharp@intel.com>
Date: Thu, 25 Oct 2007 10:58:43 -0700
Subject: USB: usb_serial_resume bug fix
To: linux-usb-devel@lists.sourceforge.net
Cc: Greg KH <greg@kroah.com>
Message-ID: <20071025175843.GA8970@localdomain>
Content-Disposition: inline


Avoid potential null pointer dereference.

Signed-off-by: Sarah Sharp <sarah.a.sharp@intel.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

---
 drivers/usb/serial/usb-serial.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

--- a/drivers/usb/serial/usb-serial.c
+++ b/drivers/usb/serial/usb-serial.c
@@ -1123,7 +1123,9 @@ int usb_serial_resume(struct usb_interfa
 {
 	struct usb_serial *serial = usb_get_intfdata(intf);
 
-	return serial->type->resume(serial);
+	if (serial->type->resume)
+		return serial->type->resume(serial);
+	return 0;
 }
 EXPORT_SYMBOL(usb_serial_resume);
 
