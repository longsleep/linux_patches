From broonie@opensource.wolfsonmicro.com  Fri Jul 17 07:28:39 2009
From: Mark Brown <broonie@opensource.wolfsonmicro.com>
Date: Fri, 17 Jul 2009 15:06:08 +0100
Subject: Driver core: Add accessor for device platform data
To: Greg Kroah-Hartman <gregkh@suse.de>
Cc: linux-kernel@vger.kernel.org, Mark Brown <broonie@opensource.wolfsonmicro.com>
Message-ID: <1247839568-23225-1-git-send-email-broonie@opensource.wolfsonmicro.com>


For consistency with driver data provide a dev_get_platdata() accessor
for reading the platform data from a device.

Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

---
 include/linux/device.h |    5 +++++
 1 file changed, 5 insertions(+)

--- a/include/linux/device.h
+++ b/include/linux/device.h
@@ -482,6 +482,11 @@ extern const char *device_get_nodename(s
 extern void *dev_get_drvdata(const struct device *dev);
 extern void dev_set_drvdata(struct device *dev, void *data);
 
+static inline void *dev_get_platdata(const struct device *dev)
+{
+	return dev->platform_data;
+}
+
 /*
  * Root device objects for grouping under /sys/devices
  */
