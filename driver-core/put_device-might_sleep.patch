From: Greg Kroah-Hartman <gregkh@suse.de>
Subject: Make put_device() warn that it will sleep

This makes scsi emit messages all over the place...
But it's something that we need to fix up.

Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

---
 drivers/base/core.c |    1 +
 1 file changed, 1 insertion(+)

--- a/drivers/base/core.c
+++ b/drivers/base/core.c
@@ -471,6 +471,7 @@ EXPORT_SYMBOL_GPL(device_create_bin_file
  */
 void device_remove_bin_file(struct device *dev, struct bin_attribute *attr)
 {
+	/* might_sleep(); */
 	if (dev)
 		sysfs_remove_bin_file(&dev->kobj, attr);
 }
