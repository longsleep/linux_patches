From foo@baz Tue Apr  9 12:12:43 2002
Date: Thu,  1 Nov 2007 09:29:06 -0600 (MDT)
To: Greg KH <greg@kroah.com>
From: Greg Kroah-Hartman <gregkh@suse.de>
Subject: kset: move /sys/slab to /sys/kernel/slab

/sys/kernel is where these things should go.

Cc: Kay Sievers <kay.sievers@vrfy.org>
Cc: Christoph Lameter <clameter@sgi.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

---
 mm/slub.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

--- a/mm/slub.c
+++ b/mm/slub.c
@@ -4108,7 +4108,8 @@ static int __init slab_sysfs_init(void)
 	struct kmem_cache *s;
 	int err;
 
-	slab_kset = kset_create_and_register("slab", &slab_uevent_ops, NULL);
+	slab_kset = kset_create_and_register("slab", &slab_uevent_ops,
+					     kernel_kset);
 	if (IS_ERR(slab_kset)) {
 		printk(KERN_ERR "Cannot register slab subsystem.\n");
 		return PTR_ERR(slab_kset);
