From kay.sievers@suse.de  Thu Apr 16 10:07:35 2009
From: Kay Sievers <kay.sievers@suse.de>
Date: Thu, 16 Apr 2009 18:40:23 +0200
Subject: Driver Core: set default SYSFS_DEPRECATED=n
To: gregkh <gregkh@suse.de>
Message-ID: <1239900023.17211.19.camel@poy>


From: Kay Sievers <kay.sievers@vrfy.org>

All recent distros depend on the non-deprecated sysfs layout, so
change the default value of the option to reflect that.

Signed-off-by: Kay Sievers <kay.sievers@vrfy.org>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

---
 init/Kconfig |   10 +++-------
 1 file changed, 3 insertions(+), 7 deletions(-)

--- a/init/Kconfig
+++ b/init/Kconfig
@@ -612,16 +612,12 @@ config MM_OWNER
 	bool
 
 config SYSFS_DEPRECATED
-	bool
-
-config SYSFS_DEPRECATED_V2
-	bool "Create deprecated sysfs layout for older userspace tools"
+	bool "remove sysfs features which may confuse old userspace tools"
 	depends on SYSFS
-	default y
-	select SYSFS_DEPRECATED
+	default n
 	help
 	  This option switches the layout of sysfs to the deprecated
-	  version.
+	  version. Do not use it on recent distributions.
 
 	  The current sysfs layout features a unified device tree at
 	  /sys/devices/, which is able to express a hierarchy between
