From akpm@linux-foundation.org Mon Jul  9 11:56:09 2007
From: Andrew Morton <akpm@linux-foundation.org>
Date: Mon, 09 Jul 2007 11:55:50 -0700
Subject: PCI: pci-x-pci-express-read-control-interfaces cleanups
To: greg@kroah.com
Cc: akpm@linux-foundation.org, peter.oruba@amd.com, rolandd@cisco.com
Message-ID: <200707091855.l69Ito8V002110@imap1.linux-foundation.org>


From: Andrew Morton <akpm@linux-foundation.org>

- remove unneeded local

- 80-col fix

Cc: Peter Oruba <peter.oruba@amd.com>
Cc: Roland Dreier <rolandd@cisco.com>
Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

---
 drivers/pci/pci.c    |    6 ++----
 drivers/pci/quirks.c |    4 ++--
 2 files changed, 4 insertions(+), 6 deletions(-)

--- a/drivers/pci/pci.c
+++ b/drivers/pci/pci.c
@@ -1383,7 +1383,7 @@ pci_set_consistent_dma_mask(struct pci_d
  */
 int pcix_get_max_mmrbc(struct pci_dev *dev)
 {
-	int ret, err, cap;
+	int err, cap;
 	u32 stat;
 
 	cap = pci_find_capability(dev, PCI_CAP_ID_PCIX);
@@ -1394,9 +1394,7 @@ int pcix_get_max_mmrbc(struct pci_dev *d
 	if (err)
 		return -EINVAL;
 
-	ret = (stat & PCI_X_STATUS_MAX_READ) >> 12;
-
-	return ret;
+	return (stat & PCI_X_STATUS_MAX_READ) >> 12;
 }
 EXPORT_SYMBOL(pcix_get_max_mmrbc);
 
--- a/drivers/pci/quirks.c
+++ b/drivers/pci/quirks.c
@@ -633,8 +633,8 @@ static void __init quirk_amd_8131_mmrbc(
 
 	pci_read_config_byte(dev, PCI_REVISION_ID, &revid);
 	if (dev->subordinate && revid <= 0x12) {
-		printk(KERN_INFO "AMD8131 rev %x detected, disabling PCI-X MMRBC\n",
-			revid);
+		printk(KERN_INFO "AMD8131 rev %x detected, disabling PCI-X "
+				"MMRBC\n", revid);
 		dev->subordinate->bus_flags |= PCI_BUS_FLAGS_NO_MMRBC;
 	}
 }
