From wfp5p@virginia.edu Mon Mar 16 17:20:11 2009
From: Bill Pemberton <wfp5p@virginia.edu>
Date: Mon, 16 Mar 2009 22:05:25 -0400
Subject: Staging: comedi: Remove comedi_driver typedef
To: greg@kroah.com
Message-ID: <20090317020525.14467.92138.stgit@viridian.itc.Virginia.EDU>


Signed-off-by: Bill Pemberton <wfp5p@virginia.edu>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
---

 drivers/staging/comedi/comedidev.h                     |   11 ++++------
 drivers/staging/comedi/drivers.c                       |   18 ++++++++---------
 drivers/staging/comedi/drivers/8255.c                  |    2 -
 drivers/staging/comedi/drivers/acl7225b.c              |    2 -
 drivers/staging/comedi/drivers/addi-data/addi_common.c |    2 -
 drivers/staging/comedi/drivers/adl_pci6208.c           |    2 -
 drivers/staging/comedi/drivers/adl_pci7296.c           |    2 -
 drivers/staging/comedi/drivers/adl_pci7432.c           |    2 -
 drivers/staging/comedi/drivers/adl_pci8164.c           |    2 -
 drivers/staging/comedi/drivers/adl_pci9111.c           |    2 -
 drivers/staging/comedi/drivers/adl_pci9118.c           |    2 -
 drivers/staging/comedi/drivers/adq12b.c                |    4 +--
 drivers/staging/comedi/drivers/adv_pci1710.c           |    2 -
 drivers/staging/comedi/drivers/adv_pci1723.c           |    4 +--
 drivers/staging/comedi/drivers/adv_pci_dio.c           |    2 -
 drivers/staging/comedi/drivers/aio_aio12_8.c           |    2 -
 drivers/staging/comedi/drivers/aio_iiro_16.c           |    2 -
 drivers/staging/comedi/drivers/amplc_dio200.c          |    4 +--
 drivers/staging/comedi/drivers/amplc_pc236.c           |    4 +--
 drivers/staging/comedi/drivers/amplc_pc263.c           |    4 +--
 drivers/staging/comedi/drivers/amplc_pci224.c          |    4 +--
 drivers/staging/comedi/drivers/amplc_pci230.c          |    4 +--
 drivers/staging/comedi/drivers/c6xdigio.c              |    2 -
 drivers/staging/comedi/drivers/cb_das16_cs.c           |    2 -
 drivers/staging/comedi/drivers/cb_pcidas.c             |    4 +--
 drivers/staging/comedi/drivers/cb_pcidas64.c           |    2 -
 drivers/staging/comedi/drivers/cb_pcidda.c             |    4 +--
 drivers/staging/comedi/drivers/cb_pcidio.c             |    4 +--
 drivers/staging/comedi/drivers/cb_pcimdas.c            |    4 +--
 drivers/staging/comedi/drivers/cb_pcimdda.c            |    4 +--
 drivers/staging/comedi/drivers/comedi_bond.c           |    6 ++---
 drivers/staging/comedi/drivers/comedi_parport.c        |    2 -
 drivers/staging/comedi/drivers/comedi_rt_timer.c       |    2 -
 drivers/staging/comedi/drivers/comedi_test.c           |    2 -
 drivers/staging/comedi/drivers/contec_pci_dio.c        |    2 -
 drivers/staging/comedi/drivers/daqboard2000.c          |    2 -
 drivers/staging/comedi/drivers/das08.c                 |    2 -
 drivers/staging/comedi/drivers/das08_cs.c              |    2 -
 drivers/staging/comedi/drivers/das16.c                 |    2 -
 drivers/staging/comedi/drivers/das16m1.c               |    2 -
 drivers/staging/comedi/drivers/das1800.c               |    2 -
 drivers/staging/comedi/drivers/das6402.c               |    2 -
 drivers/staging/comedi/drivers/das800.c                |    2 -
 drivers/staging/comedi/drivers/dmm32at.c               |    6 ++---
 drivers/staging/comedi/drivers/dt2801.c                |    2 -
 drivers/staging/comedi/drivers/dt2811.c                |    2 -
 drivers/staging/comedi/drivers/dt2814.c                |    2 -
 drivers/staging/comedi/drivers/dt2815.c                |    2 -
 drivers/staging/comedi/drivers/dt2817.c                |    2 -
 drivers/staging/comedi/drivers/dt282x.c                |    2 -
 drivers/staging/comedi/drivers/dt3000.c                |    2 -
 drivers/staging/comedi/drivers/dt9812.c                |    2 -
 drivers/staging/comedi/drivers/fl512.c                 |    2 -
 drivers/staging/comedi/drivers/gsc_hpdi.c              |    2 -
 drivers/staging/comedi/drivers/icp_multi.c             |    2 -
 drivers/staging/comedi/drivers/ii_pci20kc.c            |    2 -
 drivers/staging/comedi/drivers/jr3_pci.c               |    2 -
 drivers/staging/comedi/drivers/ke_counter.c            |    2 -
 drivers/staging/comedi/drivers/me4000.c                |    2 -
 drivers/staging/comedi/drivers/me_daq.c                |    3 +-
 drivers/staging/comedi/drivers/mpc624.c                |    2 -
 drivers/staging/comedi/drivers/mpc8260cpm.c            |    2 -
 drivers/staging/comedi/drivers/multiq3.c               |    2 -
 drivers/staging/comedi/drivers/ni_6527.c               |    2 -
 drivers/staging/comedi/drivers/ni_65xx.c               |    2 -
 drivers/staging/comedi/drivers/ni_660x.c               |    2 -
 drivers/staging/comedi/drivers/ni_670x.c               |    2 -
 drivers/staging/comedi/drivers/ni_at_a2150.c           |    2 -
 drivers/staging/comedi/drivers/ni_at_ao.c              |    2 -
 drivers/staging/comedi/drivers/ni_atmio.c              |    2 -
 drivers/staging/comedi/drivers/ni_atmio16d.c           |    2 -
 drivers/staging/comedi/drivers/ni_daq_700.c            |    2 -
 drivers/staging/comedi/drivers/ni_daq_dio24.c          |    2 -
 drivers/staging/comedi/drivers/ni_labpc.c              |    2 -
 drivers/staging/comedi/drivers/ni_labpc_cs.c           |    2 -
 drivers/staging/comedi/drivers/ni_mio_cs.c             |    2 -
 drivers/staging/comedi/drivers/ni_pcidio.c             |    2 -
 drivers/staging/comedi/drivers/ni_pcimio.c             |    2 -
 drivers/staging/comedi/drivers/pcl711.c                |    2 -
 drivers/staging/comedi/drivers/pcl724.c                |    2 -
 drivers/staging/comedi/drivers/pcl725.c                |    2 -
 drivers/staging/comedi/drivers/pcl726.c                |    2 -
 drivers/staging/comedi/drivers/pcl730.c                |    2 -
 drivers/staging/comedi/drivers/pcl812.c                |    2 -
 drivers/staging/comedi/drivers/pcl816.c                |    2 -
 drivers/staging/comedi/drivers/pcl818.c                |    2 -
 drivers/staging/comedi/drivers/pcm3724.c               |    2 -
 drivers/staging/comedi/drivers/pcm3730.c               |    2 -
 drivers/staging/comedi/drivers/pcmad.c                 |    2 -
 drivers/staging/comedi/drivers/pcmda12.c               |    4 +--
 drivers/staging/comedi/drivers/pcmmio.c                |    4 +--
 drivers/staging/comedi/drivers/pcmuio.c                |    4 +--
 drivers/staging/comedi/drivers/poc.c                   |    2 -
 drivers/staging/comedi/drivers/quatech_daqp_cs.c       |    2 -
 drivers/staging/comedi/drivers/rtd520.c                |    4 +--
 drivers/staging/comedi/drivers/rti800.c                |    2 -
 drivers/staging/comedi/drivers/rti802.c                |    2 -
 drivers/staging/comedi/drivers/s526.c                  |    4 +--
 drivers/staging/comedi/drivers/s626.c                  |    2 -
 drivers/staging/comedi/drivers/serial2002.c            |    2 -
 drivers/staging/comedi/drivers/skel.c                  |    6 ++---
 drivers/staging/comedi/drivers/ssv_dnp.c               |    4 +--
 drivers/staging/comedi/drivers/unioxx5.c               |    2 -
 drivers/staging/comedi/drivers/usbdux.c                |    2 -
 drivers/staging/comedi/drivers/usbduxfast.c            |    2 -
 drivers/staging/comedi/proc.c                          |    4 +--
 106 files changed, 144 insertions(+), 144 deletions(-)

--- a/drivers/staging/comedi/comedidev.h
+++ b/drivers/staging/comedi/comedidev.h
@@ -121,7 +121,6 @@
 #define COMEDI_NUM_BOARD_MINORS 0x30
 #define COMEDI_FIRST_SUBDEVICE_MINOR COMEDI_NUM_BOARD_MINORS
 
-typedef struct comedi_driver_struct comedi_driver;
 typedef struct comedi_lrange_struct comedi_lrange;
 
 typedef struct device device_create_result_type;
@@ -239,8 +238,8 @@ struct comedi_async {
 			unsigned int x);
 };
 
-struct comedi_driver_struct {
-	struct comedi_driver_struct *next;
+struct comedi_driver {
+	struct comedi_driver *next;
 
 	const char *driver_name;
 	struct module *module;
@@ -256,7 +255,7 @@ struct comedi_driver_struct {
 
 struct comedi_device {
 	int use_count;
-	comedi_driver *driver;
+	struct comedi_driver *driver;
 	void *private;
 
 	device_create_result_type *class_dev;
@@ -343,8 +342,8 @@ static inline struct comedi_subdevice *c
 
 void comedi_device_detach(struct comedi_device *dev);
 int comedi_device_attach(struct comedi_device *dev, comedi_devconfig *it);
-int comedi_driver_register(comedi_driver *);
-int comedi_driver_unregister(comedi_driver *);
+int comedi_driver_register(struct comedi_driver *);
+int comedi_driver_unregister(struct comedi_driver *);
 
 void init_polling(void);
 void cleanup_polling(void);
--- a/drivers/staging/comedi/drivers/8255.c
+++ b/drivers/staging/comedi/drivers/8255.c
@@ -107,7 +107,7 @@ struct subdev_8255_struct {
 
 static int dev_8255_attach(struct comedi_device *dev, comedi_devconfig * it);
 static int dev_8255_detach(struct comedi_device *dev);
-static comedi_driver driver_8255 = {
+static struct comedi_driver driver_8255 = {
       driver_name:"8255",
       module:THIS_MODULE,
       attach:dev_8255_attach,
--- a/drivers/staging/comedi/drivers/acl7225b.c
+++ b/drivers/staging/comedi/drivers/acl7225b.c
@@ -38,7 +38,7 @@ static const boardtype boardtypes[] = {
 #define n_boardtypes (sizeof(boardtypes)/sizeof(boardtype))
 #define this_board ((const boardtype *)dev->board_ptr)
 
-static comedi_driver driver_acl7225b = {
+static struct comedi_driver driver_acl7225b = {
       driver_name:"acl7225b",
       module:THIS_MODULE,
       attach:acl7225b_attach,
--- a/drivers/staging/comedi/drivers/addi-data/addi_common.c
+++ b/drivers/staging/comedi/drivers/addi-data/addi_common.c
@@ -2527,7 +2527,7 @@ static const boardtype boardtypes[] = {
 
 #define n_boardtypes (sizeof(boardtypes)/sizeof(boardtype))
 
-comedi_driver driver_addi = {
+struct comedi_driver driver_addi = {
       driver_name:"addi_common",
       module:THIS_MODULE,
       attach:i_ADDI_Attach,
--- a/drivers/staging/comedi/drivers/adl_pci6208.c
+++ b/drivers/staging/comedi/drivers/adl_pci6208.c
@@ -112,7 +112,7 @@ static int pci6208_detach(struct comedi_
 #define pci6208_board_nbr \
 	(sizeof(pci6208_boards) / sizeof(pci6208_board))
 
-static comedi_driver driver_pci6208 = {
+static struct comedi_driver driver_pci6208 = {
       driver_name:PCI6208_DRIVER_NAME,
       module:THIS_MODULE,
       attach:pci6208_attach,
--- a/drivers/staging/comedi/drivers/adl_pci7296.c
+++ b/drivers/staging/comedi/drivers/adl_pci7296.c
@@ -65,7 +65,7 @@ typedef struct {
 
 static int adl_pci7296_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int adl_pci7296_detach(struct comedi_device * dev);
-static comedi_driver driver_adl_pci7296 = {
+static struct comedi_driver driver_adl_pci7296 = {
       driver_name:"adl_pci7296",
       module:THIS_MODULE,
       attach:adl_pci7296_attach,
--- a/drivers/staging/comedi/drivers/adl_pci7432.c
+++ b/drivers/staging/comedi/drivers/adl_pci7432.c
@@ -60,7 +60,7 @@ typedef struct {
 
 static int adl_pci7432_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int adl_pci7432_detach(struct comedi_device * dev);
-static comedi_driver driver_adl_pci7432 = {
+static struct comedi_driver driver_adl_pci7432 = {
       driver_name:"adl_pci7432",
       module:THIS_MODULE,
       attach:adl_pci7432_attach,
--- a/drivers/staging/comedi/drivers/adl_pci8164.c
+++ b/drivers/staging/comedi/drivers/adl_pci8164.c
@@ -72,7 +72,7 @@ typedef struct {
 
 static int adl_pci8164_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int adl_pci8164_detach(struct comedi_device * dev);
-static comedi_driver driver_adl_pci8164 = {
+static struct comedi_driver driver_adl_pci8164 = {
       driver_name:"adl_pci8164",
       module:THIS_MODULE,
       attach:adl_pci8164_attach,
--- a/drivers/staging/comedi/drivers/adl_pci9111.c
+++ b/drivers/staging/comedi/drivers/adl_pci9111.c
@@ -326,7 +326,7 @@ static const pci9111_board_struct pci911
 #define pci9111_board_nbr \
   (sizeof(pci9111_boards)/sizeof(pci9111_board_struct))
 
-static comedi_driver pci9111_driver = {
+static struct comedi_driver pci9111_driver = {
       driver_name:PCI9111_DRIVER_NAME,
       module:THIS_MODULE,
       attach:pci9111_attach,
--- a/drivers/staging/comedi/drivers/adl_pci9118.c
+++ b/drivers/staging/comedi/drivers/adl_pci9118.c
@@ -229,7 +229,7 @@ static const boardtype boardtypes[] = {
 
 #define n_boardtypes (sizeof(boardtypes)/sizeof(boardtype))
 
-static comedi_driver driver_pci9118 = {
+static struct comedi_driver driver_pci9118 = {
       driver_name:"adl_pci9118",
       module:THIS_MODULE,
       attach:pci9118_attach,
--- a/drivers/staging/comedi/drivers/adq12b.c
+++ b/drivers/staging/comedi/drivers/adq12b.c
@@ -157,14 +157,14 @@ typedef struct{
 #define devpriv ((adq12b_private *)dev->private)
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
  */
 static int adq12b_attach(struct comedi_device *dev,comedi_devconfig *it);
 static int adq12b_detach(struct comedi_device *dev);
-static comedi_driver driver_adq12b={
+static struct comedi_driver driver_adq12b={
         driver_name:    "adq12b",
         module:         THIS_MODULE,
         attach:         adq12b_attach,
--- a/drivers/staging/comedi/drivers/adv_pci1710.c
+++ b/drivers/staging/comedi/drivers/adv_pci1710.c
@@ -256,7 +256,7 @@ static const boardtype boardtypes[] = {
 
 #define n_boardtypes (sizeof(boardtypes)/sizeof(boardtype))
 
-static comedi_driver driver_pci1710 = {
+static struct comedi_driver driver_pci1710 = {
 	.driver_name = DRV_NAME,
 	.module = THIS_MODULE,
 	.attach = pci1710_attach,
--- a/drivers/staging/comedi/drivers/adv_pci1723.c
+++ b/drivers/staging/comedi/drivers/adv_pci1723.c
@@ -138,7 +138,7 @@ static DEFINE_PCI_DEVICE_TABLE(pci1723_p
 MODULE_DEVICE_TABLE(pci, pci1723_pci_table);
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
@@ -148,7 +148,7 @@ static int pci1723_detach(struct comedi_
 
 #define n_boardtypes (sizeof(boardtypes)/sizeof(boardtype))
 
-static comedi_driver driver_pci1723 = {
+static struct comedi_driver driver_pci1723 = {
       driver_name:"adv_pci1723",
       module:THIS_MODULE,
       attach:pci1723_attach,
--- a/drivers/staging/comedi/drivers/adv_pci_dio.c
+++ b/drivers/staging/comedi/drivers/adv_pci_dio.c
@@ -322,7 +322,7 @@ static const boardtype boardtypes[] = {
 
 #define n_boardtypes (sizeof(boardtypes)/sizeof(boardtype))
 
-static comedi_driver driver_pci_dio = {
+static struct comedi_driver driver_pci_dio = {
       driver_name:"adv_pci_dio",
       module:THIS_MODULE,
       attach:pci_dio_attach,
--- a/drivers/staging/comedi/drivers/aio_aio12_8.c
+++ b/drivers/staging/comedi/drivers/aio_aio12_8.c
@@ -213,7 +213,7 @@ static int aio_aio12_8_detach(struct com
 	return 0;
 }
 
-static comedi_driver driver_aio_aio12_8 = {
+static struct comedi_driver driver_aio_aio12_8 = {
       driver_name:"aio_aio12_8",
       module:THIS_MODULE,
       attach:aio_aio12_8_attach,
--- a/drivers/staging/comedi/drivers/aio_iiro_16.c
+++ b/drivers/staging/comedi/drivers/aio_iiro_16.c
@@ -71,7 +71,7 @@ static int aio_iiro_16_attach(struct com
 
 static int aio_iiro_16_detach(struct comedi_device * dev);
 
-static comedi_driver driver_aio_iiro_16 = {
+static struct comedi_driver driver_aio_iiro_16 = {
       driver_name:"aio_iiro_16",
       module:THIS_MODULE,
       attach:aio_iiro_16_attach,
--- a/drivers/staging/comedi/drivers/amplc_dio200.c
+++ b/drivers/staging/comedi/drivers/amplc_dio200.c
@@ -468,14 +468,14 @@ typedef struct {
 } dio200_subdev_intr;
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
  */
 static int dio200_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int dio200_detach(struct comedi_device * dev);
-static comedi_driver driver_amplc_dio200 = {
+static struct comedi_driver driver_amplc_dio200 = {
       driver_name:DIO200_DRIVER_NAME,
       module:THIS_MODULE,
       attach:dio200_attach,
--- a/drivers/staging/comedi/drivers/amplc_pc236.c
+++ b/drivers/staging/comedi/drivers/amplc_pc236.c
@@ -160,14 +160,14 @@ typedef struct {
 #define devpriv ((pc236_private *)dev->private)
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
  */
 static int pc236_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int pc236_detach(struct comedi_device * dev);
-static comedi_driver driver_amplc_pc236 = {
+static struct comedi_driver driver_amplc_pc236 = {
       driver_name:PC236_DRIVER_NAME,
       module:THIS_MODULE,
       attach:pc236_attach,
--- a/drivers/staging/comedi/drivers/amplc_pc263.c
+++ b/drivers/staging/comedi/drivers/amplc_pc263.c
@@ -127,14 +127,14 @@ typedef struct {
 #endif /* CONFIG_COMEDI_PCI */
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
  */
 static int pc263_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int pc263_detach(struct comedi_device * dev);
-static comedi_driver driver_amplc_pc263 = {
+static struct comedi_driver driver_amplc_pc263 = {
       driver_name:PC263_DRIVER_NAME,
       module:THIS_MODULE,
       attach:pc263_attach,
--- a/drivers/staging/comedi/drivers/amplc_pci224.c
+++ b/drivers/staging/comedi/drivers/amplc_pci224.c
@@ -421,14 +421,14 @@ typedef struct {
 #define devpriv ((pci224_private *)dev->private)
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
  */
 static int pci224_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int pci224_detach(struct comedi_device * dev);
-static comedi_driver driver_amplc_pci224 = {
+static struct comedi_driver driver_amplc_pci224 = {
       driver_name:DRIVER_NAME,
       module:THIS_MODULE,
       attach:pci224_attach,
--- a/drivers/staging/comedi/drivers/amplc_pci230.c
+++ b/drivers/staging/comedi/drivers/amplc_pci230.c
@@ -596,14 +596,14 @@ static const comedi_lrange pci230_ao_ran
 static const unsigned char pci230_ao_bipolar[2] = { 0, 1 };
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
  */
 static int pci230_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int pci230_detach(struct comedi_device * dev);
-static comedi_driver driver_amplc_pci230 = {
+static struct comedi_driver driver_amplc_pci230 = {
       driver_name:"amplc_pci230",
       module:THIS_MODULE,
       attach:pci230_attach,
--- a/drivers/staging/comedi/drivers.c
+++ b/drivers/staging/comedi/drivers.c
@@ -50,13 +50,13 @@
 static int postconfig(struct comedi_device *dev);
 static int insn_rw_emulate_bits(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static void *comedi_recognize(comedi_driver * driv, const char *name);
-static void comedi_report_boards(comedi_driver *driv);
+static void *comedi_recognize(struct comedi_driver * driv, const char *name);
+static void comedi_report_boards(struct comedi_driver *driv);
 static int poll_invalid(struct comedi_device *dev, struct comedi_subdevice *s);
 int comedi_buf_alloc(struct comedi_device *dev, struct comedi_subdevice *s,
 	unsigned long new_size);
 
-comedi_driver *comedi_drivers;
+struct comedi_driver *comedi_drivers;
 
 int comedi_modprobe(int minor)
 {
@@ -115,7 +115,7 @@ void comedi_device_detach(struct comedi_
 
 int comedi_device_attach(struct comedi_device *dev, comedi_devconfig *it)
 {
-	comedi_driver *driv;
+	struct comedi_driver *driv;
 	int ret;
 
 	if (dev->attached)
@@ -180,7 +180,7 @@ attached:
 	return 0;
 }
 
-int comedi_driver_register(comedi_driver *driver)
+int comedi_driver_register(struct comedi_driver *driver)
 {
 	driver->next = comedi_drivers;
 	comedi_drivers = driver;
@@ -188,9 +188,9 @@ int comedi_driver_register(comedi_driver
 	return 0;
 }
 
-int comedi_driver_unregister(comedi_driver *driver)
+int comedi_driver_unregister(struct comedi_driver *driver)
 {
-	comedi_driver *prev;
+	struct comedi_driver *prev;
 	int i;
 
 	/* check for devices using this driver */
@@ -298,7 +298,7 @@ static int postconfig(struct comedi_devi
 }
 
 /*  generic recognize function for drivers that register their supported board names */
-void *comedi_recognize(comedi_driver * driv, const char *name)
+void *comedi_recognize(struct comedi_driver * driv, const char *name)
 {
 	unsigned i;
 	const char *const *name_ptr = driv->board_name;
@@ -313,7 +313,7 @@ void *comedi_recognize(comedi_driver * d
 	return NULL;
 }
 
-void comedi_report_boards(comedi_driver *driv)
+void comedi_report_boards(struct comedi_driver *driv)
 {
 	unsigned int i;
 	const char *const *name_ptr;
--- a/drivers/staging/comedi/drivers/c6xdigio.c
+++ b/drivers/staging/comedi/drivers/c6xdigio.c
@@ -99,7 +99,7 @@ union encvaluetype {
 
 static int c6xdigio_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int c6xdigio_detach(struct comedi_device * dev);
-comedi_driver driver_c6xdigio = {
+struct comedi_driver driver_c6xdigio = {
       driver_name:"c6xdigio",
       module:THIS_MODULE,
       attach:c6xdigio_attach,
--- a/drivers/staging/comedi/drivers/cb_das16_cs.c
+++ b/drivers/staging/comedi/drivers/cb_das16_cs.c
@@ -91,7 +91,7 @@ typedef struct {
 
 static int das16cs_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int das16cs_detach(struct comedi_device * dev);
-static comedi_driver driver_das16cs = {
+static struct comedi_driver driver_das16cs = {
       driver_name:"cb_das16_cs",
       module:THIS_MODULE,
       attach:das16cs_attach,
--- a/drivers/staging/comedi/drivers/cb_pcidas64.c
+++ b/drivers/staging/comedi/drivers/cb_pcidas64.c
@@ -1127,7 +1127,7 @@ static inline pcidas64_private *priv(str
  */
 static int attach(struct comedi_device * dev, comedi_devconfig * it);
 static int detach(struct comedi_device * dev);
-static comedi_driver driver_cb_pcidas = {
+static struct comedi_driver driver_cb_pcidas = {
       driver_name:"cb_pcidas64",
       module:THIS_MODULE,
       attach:attach,
--- a/drivers/staging/comedi/drivers/cb_pcidas.c
+++ b/drivers/staging/comedi/drivers/cb_pcidas.c
@@ -435,14 +435,14 @@ typedef struct {
 #define devpriv ((cb_pcidas_private *)dev->private)
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
  */
 static int cb_pcidas_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int cb_pcidas_detach(struct comedi_device * dev);
-static comedi_driver driver_cb_pcidas = {
+static struct comedi_driver driver_cb_pcidas = {
       driver_name:"cb_pcidas",
       module:THIS_MODULE,
       attach:cb_pcidas_attach,
--- a/drivers/staging/comedi/drivers/cb_pcidda.c
+++ b/drivers/staging/comedi/drivers/cb_pcidda.c
@@ -249,12 +249,12 @@ static void cb_pcidda_calibrate(struct c
 	unsigned int range);
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
  */
-static comedi_driver driver_cb_pcidda = {
+static struct comedi_driver driver_cb_pcidda = {
       driver_name:"cb_pcidda",
       module:THIS_MODULE,
       attach:cb_pcidda_attach,
--- a/drivers/staging/comedi/drivers/cb_pcidio.c
+++ b/drivers/staging/comedi/drivers/cb_pcidio.c
@@ -122,14 +122,14 @@ typedef struct {
 #define devpriv ((pcidio_private *)dev->private)
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
  */
 static int pcidio_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int pcidio_detach(struct comedi_device * dev);
-static comedi_driver driver_cb_pcidio = {
+static struct comedi_driver driver_cb_pcidio = {
       driver_name:"cb_pcidio",
       module:THIS_MODULE,
       attach:pcidio_attach,
--- a/drivers/staging/comedi/drivers/cb_pcimdas.c
+++ b/drivers/staging/comedi/drivers/cb_pcimdas.c
@@ -170,14 +170,14 @@ typedef struct {
 #define devpriv ((cb_pcimdas_private *)dev->private)
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
  */
 static int cb_pcimdas_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int cb_pcimdas_detach(struct comedi_device * dev);
-static comedi_driver driver_cb_pcimdas = {
+static struct comedi_driver driver_cb_pcimdas = {
       driver_name:"cb_pcimdas",
       module:THIS_MODULE,
       attach:cb_pcimdas_attach,
--- a/drivers/staging/comedi/drivers/cb_pcimdda.c
+++ b/drivers/staging/comedi/drivers/cb_pcimdda.c
@@ -176,14 +176,14 @@ typedef struct {
 #define devpriv ((private *)dev->private)
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
  */
 static int attach(struct comedi_device * dev, comedi_devconfig * it);
 static int detach(struct comedi_device * dev);
-static comedi_driver cb_pcimdda_driver = {
+static struct comedi_driver cb_pcimdda_driver = {
       driver_name:"cb_pcimdda",
       module:THIS_MODULE,
       attach:attach,
--- a/drivers/staging/comedi/drivers/comedi_bond.c
+++ b/drivers/staging/comedi/drivers/comedi_bond.c
@@ -59,7 +59,7 @@ Configuration Options:
  * Devices: a full list of the boards that attempt to be supported by
  *   the driver.  Format is "(manufacturer) board name [comedi name]",
  *   where comedi_name is the name that is used to configure the board.
- *   See the comment near board_name: in the comedi_driver structure
+ *   See the comment near board_name: in the struct comedi_driver structure
  *   below.  If (manufacturer) or [comedi name] is missing, the previous
  *   value is used.
  * Author: you
@@ -171,7 +171,7 @@ struct Private {
 #define devpriv ((struct Private *)dev->private)
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
@@ -185,7 +185,7 @@ static void doDevUnconfig(struct comedi_
  * what can I say?  I like to do wasteful memcopies.. :) */
 static void *Realloc(const void *ptr, size_t len, size_t old_len);
 
-static comedi_driver driver_bonding = {
+static struct comedi_driver driver_bonding = {
       .driver_name =	MODULE_NAME,
       .module =		THIS_MODULE,
       .attach =		bonding_attach,
--- a/drivers/staging/comedi/drivers/comedi_parport.c
+++ b/drivers/staging/comedi/drivers/comedi_parport.c
@@ -92,7 +92,7 @@ pin, which can be used to wake up tasks.
 
 static int parport_attach(struct comedi_device *dev, comedi_devconfig *it);
 static int parport_detach(struct comedi_device *dev);
-static comedi_driver driver_parport = {
+static struct comedi_driver driver_parport = {
       .driver_name =	"comedi_parport",
       .module =		THIS_MODULE,
       .attach =		parport_attach,
--- a/drivers/staging/comedi/drivers/comedi_rt_timer.c
+++ b/drivers/staging/comedi/drivers/comedi_rt_timer.c
@@ -128,7 +128,7 @@ static int timer_inttrig(struct comedi_d
 	unsigned int trig_num);
 static int timer_start_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
 
-static comedi_driver driver_timer = {
+static struct comedi_driver driver_timer = {
       module:THIS_MODULE,
       driver_name:"comedi_rt_timer",
       attach:timer_attach,
--- a/drivers/staging/comedi/drivers/comedi_test.c
+++ b/drivers/staging/comedi/drivers/comedi_test.c
@@ -95,7 +95,7 @@ struct waveform_private {
 
 static int waveform_attach(struct comedi_device *dev, comedi_devconfig *it);
 static int waveform_detach(struct comedi_device *dev);
-static comedi_driver driver_waveform = {
+static struct comedi_driver driver_waveform = {
       .driver_name =	"comedi_test",
       .module =		THIS_MODULE,
       .attach =		waveform_attach,
--- a/drivers/staging/comedi/drivers/contec_pci_dio.c
+++ b/drivers/staging/comedi/drivers/contec_pci_dio.c
@@ -77,7 +77,7 @@ typedef struct {
 
 static int contec_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int contec_detach(struct comedi_device * dev);
-static comedi_driver driver_contec = {
+static struct comedi_driver driver_contec = {
       driver_name:"contec_pci_dio",
       module:THIS_MODULE,
       attach:contec_attach,
--- a/drivers/staging/comedi/drivers/daqboard2000.c
+++ b/drivers/staging/comedi/drivers/daqboard2000.c
@@ -299,7 +299,7 @@ typedef struct daqboard2000_hw {
 static int daqboard2000_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int daqboard2000_detach(struct comedi_device * dev);
 
-static comedi_driver driver_daqboard2000 = {
+static struct comedi_driver driver_daqboard2000 = {
       driver_name:"daqboard2000",
       module:THIS_MODULE,
       attach:daqboard2000_attach,
--- a/drivers/staging/comedi/drivers/das08.c
+++ b/drivers/staging/comedi/drivers/das08.c
@@ -829,7 +829,7 @@ static int das08_counter_config(struct c
 
 static int das08_attach(struct comedi_device * dev, comedi_devconfig * it);
 
-static comedi_driver driver_das08 = {
+static struct comedi_driver driver_das08 = {
       driver_name: DRV_NAME,
       module:THIS_MODULE,
       attach:das08_attach,
--- a/drivers/staging/comedi/drivers/das08_cs.c
+++ b/drivers/staging/comedi/drivers/das08_cs.c
@@ -58,7 +58,7 @@ static struct pcmcia_device *cur_dev = N
 
 static int das08_cs_attach(struct comedi_device * dev, comedi_devconfig * it);
 
-static comedi_driver driver_das08_cs = {
+static struct comedi_driver driver_das08_cs = {
       driver_name:"das08_cs",
       module:THIS_MODULE,
       attach:das08_cs_attach,
--- a/drivers/staging/comedi/drivers/das16.c
+++ b/drivers/staging/comedi/drivers/das16.c
@@ -700,7 +700,7 @@ static const struct das16_board_struct d
 
 static int das16_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int das16_detach(struct comedi_device * dev);
-static comedi_driver driver_das16 = {
+static struct comedi_driver driver_das16 = {
       driver_name:"das16",
       module:THIS_MODULE,
       attach:das16_attach,
--- a/drivers/staging/comedi/drivers/das16m1.c
+++ b/drivers/staging/comedi/drivers/das16m1.c
@@ -168,7 +168,7 @@ static const das16m1_board das16m1_board
 
 static int das16m1_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int das16m1_detach(struct comedi_device * dev);
-static comedi_driver driver_das16m1 = {
+static struct comedi_driver driver_das16m1 = {
       driver_name:"das16m1",
       module:THIS_MODULE,
       attach:das16m1_attach,
--- a/drivers/staging/comedi/drivers/das1800.c
+++ b/drivers/staging/comedi/drivers/das1800.c
@@ -504,7 +504,7 @@ static const comedi_lrange range_ao_2 = 
 };
 */
 
-static comedi_driver driver_das1800 = {
+static struct comedi_driver driver_das1800 = {
       driver_name:"das1800",
       module:THIS_MODULE,
       attach:das1800_attach,
--- a/drivers/staging/comedi/drivers/das6402.c
+++ b/drivers/staging/comedi/drivers/das6402.c
@@ -100,7 +100,7 @@ This driver has suffered bitrot.
 
 static int das6402_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int das6402_detach(struct comedi_device * dev);
-static comedi_driver driver_das6402 = {
+static struct comedi_driver driver_das6402 = {
       driver_name:"das6402",
       module:THIS_MODULE,
       attach:das6402_attach,
--- a/drivers/staging/comedi/drivers/das800.c
+++ b/drivers/staging/comedi/drivers/das800.c
@@ -246,7 +246,7 @@ static int das800_attach(struct comedi_d
 static int das800_detach(struct comedi_device * dev);
 static int das800_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 
-static comedi_driver driver_das800 = {
+static struct comedi_driver driver_das800 = {
       driver_name:"das800",
       module:THIS_MODULE,
       attach:das800_attach,
--- a/drivers/staging/comedi/drivers/dmm32at.c
+++ b/drivers/staging/comedi/drivers/dmm32at.c
@@ -46,7 +46,7 @@ Configuration Options:
  * Devices: a full list of the boards that attempt to be supported by
  *   the driver.  Format is "(manufacturer) board name [comedi name]",
  *   where comedi_name is the name that is used to configure the board.
- *   See the comment near board_name: in the comedi_driver structure
+ *   See the comment near board_name: in the struct comedi_driver structure
  *   below.  If (manufacturer) or [comedi name] is missing, the previous
  *   value is used.
  * Author: you
@@ -253,14 +253,14 @@ typedef struct {
 #define devpriv ((dmm32at_private *)dev->private)
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
  */
 static int dmm32at_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int dmm32at_detach(struct comedi_device * dev);
-static comedi_driver driver_dmm32at = {
+static struct comedi_driver driver_dmm32at = {
       driver_name:"dmm32at",
       module:THIS_MODULE,
       attach:dmm32at_attach,
--- a/drivers/staging/comedi/drivers/dt2801.c
+++ b/drivers/staging/comedi/drivers/dt2801.c
@@ -90,7 +90,7 @@ Configuration options:
 
 static int dt2801_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int dt2801_detach(struct comedi_device * dev);
-static comedi_driver driver_dt2801 = {
+static struct comedi_driver driver_dt2801 = {
       driver_name:"dt2801",
       module:THIS_MODULE,
       attach:dt2801_attach,
--- a/drivers/staging/comedi/drivers/dt2811.c
+++ b/drivers/staging/comedi/drivers/dt2811.c
@@ -214,7 +214,7 @@ static const boardtype boardtypes[] = {
 
 static int dt2811_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int dt2811_detach(struct comedi_device * dev);
-static comedi_driver driver_dt2811 = {
+static struct comedi_driver driver_dt2811 = {
       driver_name:"dt2811",
       module:THIS_MODULE,
       attach:dt2811_attach,
--- a/drivers/staging/comedi/drivers/dt2814.c
+++ b/drivers/staging/comedi/drivers/dt2814.c
@@ -61,7 +61,7 @@ addition, the clock does not seem to be 
 
 static int dt2814_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int dt2814_detach(struct comedi_device * dev);
-static comedi_driver driver_dt2814 = {
+static struct comedi_driver driver_dt2814 = {
       driver_name:"dt2814",
       module:THIS_MODULE,
       attach:dt2814_attach,
--- a/drivers/staging/comedi/drivers/dt2815.c
+++ b/drivers/staging/comedi/drivers/dt2815.c
@@ -77,7 +77,7 @@ static const comedi_lrange range_dt2815_
 
 static int dt2815_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int dt2815_detach(struct comedi_device * dev);
-static comedi_driver driver_dt2815 = {
+static struct comedi_driver driver_dt2815 = {
       driver_name:"dt2815",
       module:THIS_MODULE,
       attach:dt2815_attach,
--- a/drivers/staging/comedi/drivers/dt2817.c
+++ b/drivers/staging/comedi/drivers/dt2817.c
@@ -49,7 +49,7 @@ Configuration options:
 
 static int dt2817_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int dt2817_detach(struct comedi_device * dev);
-static comedi_driver driver_dt2817 = {
+static struct comedi_driver driver_dt2817 = {
       driver_name:"dt2817",
       module:THIS_MODULE,
       attach:dt2817_attach,
--- a/drivers/staging/comedi/drivers/dt282x.c
+++ b/drivers/staging/comedi/drivers/dt282x.c
@@ -396,7 +396,7 @@ typedef struct {
 
 static int dt282x_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int dt282x_detach(struct comedi_device * dev);
-static comedi_driver driver_dt282x = {
+static struct comedi_driver driver_dt282x = {
       driver_name:"dt282x",
       module:THIS_MODULE,
       attach:dt282x_attach,
--- a/drivers/staging/comedi/drivers/dt3000.c
+++ b/drivers/staging/comedi/drivers/dt3000.c
@@ -273,7 +273,7 @@ typedef struct {
 
 static int dt3000_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int dt3000_detach(struct comedi_device * dev);
-static comedi_driver driver_dt3000 = {
+static struct comedi_driver driver_dt3000 = {
       driver_name:"dt3000",
       module:THIS_MODULE,
       attach:dt3000_attach,
--- a/drivers/staging/comedi/drivers/dt9812.c
+++ b/drivers/staging/comedi/drivers/dt9812.c
@@ -1108,7 +1108,7 @@ static int dt9812_detach(struct comedi_d
 	return 0;
 }
 
-static comedi_driver dt9812_comedi_driver = {
+static struct comedi_driver dt9812_comedi_driver = {
 	.module = THIS_MODULE,
 	.driver_name = "dt9812",
 	.attach = dt9812_attach,
--- a/drivers/staging/comedi/drivers/fl512.c
+++ b/drivers/staging/comedi/drivers/fl512.c
@@ -43,7 +43,7 @@ static const comedi_lrange range_fl512 =
 static int fl512_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int fl512_detach(struct comedi_device * dev);
 
-static comedi_driver driver_fl512 = {
+static struct comedi_driver driver_fl512 = {
       driver_name:"fl512",
       module:THIS_MODULE,
       attach:fl512_attach,
--- a/drivers/staging/comedi/drivers/gsc_hpdi.c
+++ b/drivers/staging/comedi/drivers/gsc_hpdi.c
@@ -327,7 +327,7 @@ static inline hpdi_private *priv(struct 
 	return dev->private;
 }
 
-static comedi_driver driver_hpdi = {
+static struct comedi_driver driver_hpdi = {
       driver_name:"gsc_hpdi",
       module:THIS_MODULE,
       attach:hpdi_attach,
--- a/drivers/staging/comedi/drivers/icp_multi.c
+++ b/drivers/staging/comedi/drivers/icp_multi.c
@@ -173,7 +173,7 @@ static const struct boardtype boardtypes
 
 #define n_boardtypes (sizeof(boardtypes)/sizeof(struct boardtype))
 
-static comedi_driver driver_icp_multi = {
+static struct comedi_driver driver_icp_multi = {
       driver_name:"icp_multi",
       module : THIS_MODULE,
       attach : icp_multi_attach,
--- a/drivers/staging/comedi/drivers/ii_pci20kc.c
+++ b/drivers/staging/comedi/drivers/ii_pci20kc.c
@@ -159,7 +159,7 @@ typedef struct {
 static int pci20xxx_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int pci20xxx_detach(struct comedi_device * dev);
 
-static comedi_driver driver_pci20xxx = {
+static struct comedi_driver driver_pci20xxx = {
       driver_name:"ii_pci20kc",
       module:THIS_MODULE,
       attach:pci20xxx_attach,
--- a/drivers/staging/comedi/drivers/jr3_pci.c
+++ b/drivers/staging/comedi/drivers/jr3_pci.c
@@ -106,7 +106,7 @@ static int comedi_load_firmware(struct c
 static int jr3_pci_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int jr3_pci_detach(struct comedi_device * dev);
 
-static comedi_driver driver_jr3_pci = {
+static struct comedi_driver driver_jr3_pci = {
       driver_name:"jr3_pci",
       module:THIS_MODULE,
       attach:jr3_pci_attach,
--- a/drivers/staging/comedi/drivers/ke_counter.c
+++ b/drivers/staging/comedi/drivers/ke_counter.c
@@ -86,7 +86,7 @@ typedef struct {
 
 #define devpriv ((cnt_device_private *)dev->private)
 
-static comedi_driver cnt_driver = {
+static struct comedi_driver cnt_driver = {
       driver_name:CNT_DRIVER_NAME,
       module:THIS_MODULE,
       attach:cnt_attach,
--- a/drivers/staging/comedi/drivers/me4000.c
+++ b/drivers/staging/comedi/drivers/me4000.c
@@ -120,7 +120,7 @@ static const me4000_board_t me4000_board
   ---------------------------------------------------------------------------*/
 static int me4000_attach(struct comedi_device *dev, comedi_devconfig *it);
 static int me4000_detach(struct comedi_device *dev);
-static comedi_driver driver_me4000 = {
+static struct comedi_driver driver_me4000 = {
       driver_name:"me4000",
       module : THIS_MODULE,
       attach : me4000_attach,
--- a/drivers/staging/comedi/drivers/me_daq.c
+++ b/drivers/staging/comedi/drivers/me_daq.c
@@ -246,7 +246,8 @@ static const struct me_board me_boards[]
 
 #define me_board_nbr (sizeof(me_boards)/sizeof(struct me_board))
 
-static comedi_driver me_driver = {
+
+static struct comedi_driver me_driver = {
       .driver_name =	ME_DRIVER_NAME,
       .module =		THIS_MODULE,
       .attach =		me_attach,
--- a/drivers/staging/comedi/drivers/mpc624.c
+++ b/drivers/staging/comedi/drivers/mpc624.c
@@ -147,7 +147,7 @@ static const comedi_lrange range_mpc624_
 static int mpc624_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int mpc624_detach(struct comedi_device * dev);
 //----------------------------------------------------------------------------
-static comedi_driver driver_mpc624 = {
+static struct comedi_driver driver_mpc624 = {
       driver_name:"mpc624",
       module:THIS_MODULE,
       attach:mpc624_attach,
--- a/drivers/staging/comedi/drivers/mpc8260cpm.c
+++ b/drivers/staging/comedi/drivers/mpc8260cpm.c
@@ -46,7 +46,7 @@ typedef struct {
 
 static int mpc8260cpm_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int mpc8260cpm_detach(struct comedi_device * dev);
-static comedi_driver driver_mpc8260cpm = {
+static struct comedi_driver driver_mpc8260cpm = {
       driver_name:"mpc8260cpm",
       module:THIS_MODULE,
       attach:mpc8260cpm_attach,
--- a/drivers/staging/comedi/drivers/multiq3.c
+++ b/drivers/staging/comedi/drivers/multiq3.c
@@ -84,7 +84,7 @@ Devices: [Quanser Consulting] MultiQ-3 (
 
 static int multiq3_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int multiq3_detach(struct comedi_device * dev);
-static comedi_driver driver_multiq3 = {
+static struct comedi_driver driver_multiq3 = {
       driver_name:"multiq3",
       module:THIS_MODULE,
       attach:multiq3_attach,
--- a/drivers/staging/comedi/drivers/ni_6527.c
+++ b/drivers/staging/comedi/drivers/ni_6527.c
@@ -77,7 +77,7 @@ Updated: Sat, 25 Jan 2003 13:24:40 -0800
 
 static int ni6527_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int ni6527_detach(struct comedi_device * dev);
-static comedi_driver driver_ni6527 = {
+static struct comedi_driver driver_ni6527 = {
       driver_name:"ni6527",
       module:THIS_MODULE,
       attach:ni6527_attach,
--- a/drivers/staging/comedi/drivers/ni_65xx.c
+++ b/drivers/staging/comedi/drivers/ni_65xx.c
@@ -104,7 +104,7 @@ static inline unsigned Filter_Enable(uns
 
 static int ni_65xx_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int ni_65xx_detach(struct comedi_device * dev);
-static comedi_driver driver_ni_65xx = {
+static struct comedi_driver driver_ni_65xx = {
       driver_name:"ni_65xx",
       module:THIS_MODULE,
       attach:ni_65xx_attach,
--- a/drivers/staging/comedi/drivers/ni_660x.c
+++ b/drivers/staging/comedi/drivers/ni_660x.c
@@ -450,7 +450,7 @@ static void init_tio_chip(struct comedi_
 static void ni_660x_select_pfi_output(struct comedi_device * dev, unsigned pfi_channel,
 	unsigned output_select);
 
-static comedi_driver driver_ni_660x = {
+static struct comedi_driver driver_ni_660x = {
       driver_name:"ni_660x",
       module:THIS_MODULE,
       attach:ni_660x_attach,
--- a/drivers/staging/comedi/drivers/ni_670x.c
+++ b/drivers/staging/comedi/drivers/ni_670x.c
@@ -111,7 +111,7 @@ typedef struct {
 static int ni_670x_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int ni_670x_detach(struct comedi_device * dev);
 
-static comedi_driver driver_ni_670x = {
+static struct comedi_driver driver_ni_670x = {
       driver_name:"ni_670x",
       module:THIS_MODULE,
       attach:ni_670x_attach,
--- a/drivers/staging/comedi/drivers/ni_at_a2150.c
+++ b/drivers/staging/comedi/drivers/ni_at_a2150.c
@@ -171,7 +171,7 @@ static int a2150_attach(struct comedi_de
 static int a2150_detach(struct comedi_device * dev);
 static int a2150_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 
-static comedi_driver driver_a2150 = {
+static struct comedi_driver driver_a2150 = {
       driver_name:"ni_at_a2150",
       module:THIS_MODULE,
       attach:a2150_attach,
--- a/drivers/staging/comedi/drivers/ni_at_ao.c
+++ b/drivers/staging/comedi/drivers/ni_at_ao.c
@@ -180,7 +180,7 @@ typedef struct {
 
 static int atao_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int atao_detach(struct comedi_device * dev);
-static comedi_driver driver_atao = {
+static struct comedi_driver driver_atao = {
       driver_name:"ni_at_ao",
       module:THIS_MODULE,
       attach:atao_attach,
--- a/drivers/staging/comedi/drivers/ni_atmio16d.c
+++ b/drivers/staging/comedi/drivers/ni_atmio16d.c
@@ -134,7 +134,7 @@ static void reset_counters(struct comedi
 static void reset_atmio16d(struct comedi_device * dev);
 
 /* main driver struct */
-static comedi_driver driver_atmio16d = {
+static struct comedi_driver driver_atmio16d = {
       driver_name:"atmio16",
       module:THIS_MODULE,
       attach:atmio16d_attach,
--- a/drivers/staging/comedi/drivers/ni_atmio.c
+++ b/drivers/staging/comedi/drivers/ni_atmio.c
@@ -340,7 +340,7 @@ MODULE_DEVICE_TABLE(pnp, device_ids);
 
 static int ni_atmio_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int ni_atmio_detach(struct comedi_device * dev);
-static comedi_driver driver_atmio = {
+static struct comedi_driver driver_atmio = {
       driver_name:"ni_atmio",
       module:THIS_MODULE,
       attach:ni_atmio_attach,
--- a/drivers/staging/comedi/drivers/ni_daq_700.c
+++ b/drivers/staging/comedi/drivers/ni_daq_700.c
@@ -97,7 +97,7 @@ typedef struct {
 
 #define devpriv ((dio700_private *)dev->private)
 
-static comedi_driver driver_dio700 = {
+static struct comedi_driver driver_dio700 = {
       driver_name:"ni_daq_700",
       module:THIS_MODULE,
       attach:dio700_attach,
--- a/drivers/staging/comedi/drivers/ni_daq_dio24.c
+++ b/drivers/staging/comedi/drivers/ni_daq_dio24.c
@@ -97,7 +97,7 @@ typedef struct {
 
 #define devpriv ((dio24_private *)dev->private)
 
-static comedi_driver driver_dio24 = {
+static struct comedi_driver driver_dio24 = {
       driver_name:"ni_daq_dio24",
       module:THIS_MODULE,
       attach:dio24_attach,
--- a/drivers/staging/comedi/drivers/ni_labpc.c
+++ b/drivers/staging/comedi/drivers/ni_labpc.c
@@ -429,7 +429,7 @@ static const int sample_size = 2;	// 2 b
 
 #define devpriv ((labpc_private *)dev->private)
 
-static comedi_driver driver_labpc = {
+static struct comedi_driver driver_labpc = {
 	.driver_name = DRV_NAME,
 	.module = THIS_MODULE,
 	.attach = labpc_attach,
--- a/drivers/staging/comedi/drivers/ni_labpc_cs.c
+++ b/drivers/staging/comedi/drivers/ni_labpc_cs.c
@@ -116,7 +116,7 @@ static const labpc_board labpc_cs_boards
  */
 #define thisboard ((const labpc_board *)dev->board_ptr)
 
-static comedi_driver driver_labpc_cs = {
+static struct comedi_driver driver_labpc_cs = {
 	.driver_name = "ni_labpc_cs",
 	.module = THIS_MODULE,
 	.attach = &labpc_attach,
--- a/drivers/staging/comedi/drivers/ni_mio_cs.c
+++ b/drivers/staging/comedi/drivers/ni_mio_cs.c
@@ -227,7 +227,7 @@ static uint16_t mio_cs_win_in(struct com
 
 static int mio_cs_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int mio_cs_detach(struct comedi_device * dev);
-static comedi_driver driver_ni_mio_cs = {
+static struct comedi_driver driver_ni_mio_cs = {
       driver_name:"ni_mio_cs",
       module:THIS_MODULE,
       attach:mio_cs_attach,
--- a/drivers/staging/comedi/drivers/ni_pcidio.c
+++ b/drivers/staging/comedi/drivers/ni_pcidio.c
@@ -291,7 +291,7 @@ static int nidio_attach(struct comedi_de
 static int nidio_detach(struct comedi_device * dev);
 static int ni_pcidio_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 
-static comedi_driver driver_pcidio = {
+static struct comedi_driver driver_pcidio = {
       driver_name:"ni_pcidio",
       module:THIS_MODULE,
       attach:nidio_attach,
--- a/drivers/staging/comedi/drivers/ni_pcimio.c
+++ b/drivers/staging/comedi/drivers/ni_pcimio.c
@@ -1209,7 +1209,7 @@ static const ni_board ni_boards[] = {
 
 static int pcimio_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int pcimio_detach(struct comedi_device * dev);
-static comedi_driver driver_pcimio = {
+static struct comedi_driver driver_pcimio = {
 	driver_name: DRV_NAME,
 	module:THIS_MODULE,
 	attach:pcimio_attach,
--- a/drivers/staging/comedi/drivers/pcl711.c
+++ b/drivers/staging/comedi/drivers/pcl711.c
@@ -156,7 +156,7 @@ static const boardtype boardtypes[] = {
 
 static int pcl711_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int pcl711_detach(struct comedi_device * dev);
-static comedi_driver driver_pcl711 = {
+static struct comedi_driver driver_pcl711 = {
       driver_name:"pcl711",
       module:THIS_MODULE,
       attach:pcl711_attach,
--- a/drivers/staging/comedi/drivers/pcl724.c
+++ b/drivers/staging/comedi/drivers/pcl724.c
@@ -81,7 +81,7 @@ static const boardtype boardtypes[] = {
 #define n_boardtypes (sizeof(boardtypes)/sizeof(boardtype))
 #define this_board ((const boardtype *)dev->board_ptr)
 
-static comedi_driver driver_pcl724 = {
+static struct comedi_driver driver_pcl724 = {
       driver_name:"pcl724",
       module:THIS_MODULE,
       attach:pcl724_attach,
--- a/drivers/staging/comedi/drivers/pcl725.c
+++ b/drivers/staging/comedi/drivers/pcl725.c
@@ -22,7 +22,7 @@ Devices: [Advantech] PCL-725 (pcl725)
 
 static int pcl725_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int pcl725_detach(struct comedi_device * dev);
-static comedi_driver driver_pcl725 = {
+static struct comedi_driver driver_pcl725 = {
       driver_name:"pcl725",
       module:THIS_MODULE,
       attach:pcl725_attach,
--- a/drivers/staging/comedi/drivers/pcl726.c
+++ b/drivers/staging/comedi/drivers/pcl726.c
@@ -149,7 +149,7 @@ static const boardtype boardtypes[] = {
 #define n_boardtypes (sizeof(boardtypes)/sizeof(boardtype))
 #define this_board ((const boardtype *)dev->board_ptr)
 
-static comedi_driver driver_pcl726 = {
+static struct comedi_driver driver_pcl726 = {
       driver_name:"pcl726",
       module:THIS_MODULE,
       attach:pcl726_attach,
--- a/drivers/staging/comedi/drivers/pcl730.c
+++ b/drivers/staging/comedi/drivers/pcl730.c
@@ -43,7 +43,7 @@ static const boardtype boardtypes[] = {
 #define n_boardtypes (sizeof(boardtypes)/sizeof(boardtype))
 #define this_board ((const boardtype *)dev->board_ptr)
 
-static comedi_driver driver_pcl730 = {
+static struct comedi_driver driver_pcl730 = {
       driver_name:"pcl730",
       module:THIS_MODULE,
       attach:pcl730_attach,
--- a/drivers/staging/comedi/drivers/pcl812.c
+++ b/drivers/staging/comedi/drivers/pcl812.c
@@ -374,7 +374,7 @@ static const boardtype boardtypes[] = {
 #define n_boardtypes (sizeof(boardtypes)/sizeof(boardtype))
 #define this_board ((const boardtype *)dev->board_ptr)
 
-static comedi_driver driver_pcl812 = {
+static struct comedi_driver driver_pcl812 = {
       driver_name:"pcl812",
       module:THIS_MODULE,
       attach:pcl812_attach,
--- a/drivers/staging/comedi/drivers/pcl816.c
+++ b/drivers/staging/comedi/drivers/pcl816.c
@@ -154,7 +154,7 @@ static int RTC_lock = 0;	/* RTC lock */
 static int RTC_timer_lock = 0;	/* RTC int lock */
 #endif
 
-static comedi_driver driver_pcl816 = {
+static struct comedi_driver driver_pcl816 = {
       driver_name:"pcl816",
       module:THIS_MODULE,
       attach:pcl816_attach,
--- a/drivers/staging/comedi/drivers/pcl818.c
+++ b/drivers/staging/comedi/drivers/pcl818.c
@@ -299,7 +299,7 @@ static const boardtype boardtypes[] = {
 
 #define n_boardtypes (sizeof(boardtypes)/sizeof(boardtype))
 
-static comedi_driver driver_pcl818 = {
+static struct comedi_driver driver_pcl818 = {
       driver_name:"pcl818",
       module:THIS_MODULE,
       attach:pcl818_attach,
--- a/drivers/staging/comedi/drivers/pcm3724.c
+++ b/drivers/staging/comedi/drivers/pcm3724.c
@@ -85,7 +85,7 @@ static const boardtype boardtypes[] = {
 #define n_boardtypes (sizeof(boardtypes)/sizeof(boardtype))
 #define this_board ((const boardtype *)dev->board_ptr)
 
-static comedi_driver driver_pcm3724 = {
+static struct comedi_driver driver_pcm3724 = {
       driver_name:"pcm3724",
       module:THIS_MODULE,
       attach:pcm3724_attach,
--- a/drivers/staging/comedi/drivers/pcm3730.c
+++ b/drivers/staging/comedi/drivers/pcm3730.c
@@ -30,7 +30,7 @@ Configuration options:
 
 static int pcm3730_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int pcm3730_detach(struct comedi_device * dev);
-static comedi_driver driver_pcm3730 = {
+static struct comedi_driver driver_pcm3730 = {
       driver_name:"pcm3730",
       module:THIS_MODULE,
       attach:pcm3730_attach,
--- a/drivers/staging/comedi/drivers/pcmad.c
+++ b/drivers/staging/comedi/drivers/pcmad.c
@@ -78,7 +78,7 @@ struct pcmad_priv_struct {
 
 static int pcmad_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int pcmad_detach(struct comedi_device * dev);
-static comedi_driver driver_pcmad = {
+static struct comedi_driver driver_pcmad = {
       driver_name:"pcmad",
       module:THIS_MODULE,
       attach:pcmad_attach,
--- a/drivers/staging/comedi/drivers/pcmda12.c
+++ b/drivers/staging/comedi/drivers/pcmda12.c
@@ -100,7 +100,7 @@ typedef struct {
 #define devpriv ((pcmda12_private *)(dev->private))
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
@@ -110,7 +110,7 @@ static int pcmda12_detach(struct comedi_
 
 static void zero_chans(struct comedi_device * dev);
 
-static comedi_driver driver = {
+static struct comedi_driver driver = {
       driver_name:"pcmda12",
       module:THIS_MODULE,
       attach:pcmda12_attach,
--- a/drivers/staging/comedi/drivers/pcmmio.c
+++ b/drivers/staging/comedi/drivers/pcmmio.c
@@ -259,7 +259,7 @@ typedef struct {
 #define devpriv ((pcmmio_private *)dev->private)
 #define subpriv ((pcmmio_subdev_private *)s->private)
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
@@ -267,7 +267,7 @@ typedef struct {
 static int pcmmio_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int pcmmio_detach(struct comedi_device * dev);
 
-static comedi_driver driver = {
+static struct comedi_driver driver = {
       driver_name:"pcmmio",
       module:THIS_MODULE,
       attach:pcmmio_attach,
--- a/drivers/staging/comedi/drivers/pcmuio.c
+++ b/drivers/staging/comedi/drivers/pcmuio.c
@@ -217,7 +217,7 @@ typedef struct {
 #define devpriv ((pcmuio_private *)dev->private)
 #define subpriv ((pcmuio_subdev_private *)s->private)
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
@@ -225,7 +225,7 @@ typedef struct {
 static int pcmuio_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int pcmuio_detach(struct comedi_device * dev);
 
-static comedi_driver driver = {
+static struct comedi_driver driver = {
       driver_name:"pcmuio",
       module:THIS_MODULE,
       attach:pcmuio_attach,
--- a/drivers/staging/comedi/drivers/poc.c
+++ b/drivers/staging/comedi/drivers/poc.c
@@ -103,7 +103,7 @@ static const struct boarddef_struct boar
 #define n_boards (sizeof(boards)/sizeof(boards[0]))
 #define this_board ((const struct boarddef_struct *)dev->board_ptr)
 
-static comedi_driver driver_poc = {
+static struct comedi_driver driver_poc = {
       driver_name:"poc",
       module:THIS_MODULE,
       attach:poc_attach,
--- a/drivers/staging/comedi/drivers/quatech_daqp_cs.c
+++ b/drivers/staging/comedi/drivers/quatech_daqp_cs.c
@@ -199,7 +199,7 @@ static const comedi_lrange range_daqp_ao
 
 static int daqp_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int daqp_detach(struct comedi_device * dev);
-static comedi_driver driver_daqp = {
+static struct comedi_driver driver_daqp = {
       driver_name:"quatech_daqp_cs",
       module:THIS_MODULE,
       attach:daqp_attach,
--- a/drivers/staging/comedi/drivers/rtd520.c
+++ b/drivers/staging/comedi/drivers/rtd520.c
@@ -675,7 +675,7 @@ struct rtdPrivate {
     readb (devpriv->lcfg+LCFG_DMACSR1)
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attac/detach)
  * the board, and also about the kernel module that contains
  * the device code.
@@ -683,7 +683,7 @@ struct rtdPrivate {
 static int rtd_attach(struct comedi_device *dev, comedi_devconfig *it);
 static int rtd_detach(struct comedi_device *dev);
 
-static comedi_driver rtd520Driver = {
+static struct comedi_driver rtd520Driver = {
       driver_name: DRV_NAME,
       module : THIS_MODULE,
       attach : rtd_attach,
--- a/drivers/staging/comedi/drivers/rti800.c
+++ b/drivers/staging/comedi/drivers/rti800.c
@@ -131,7 +131,7 @@ static const boardtype boardtypes[] = {
 
 static int rti800_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int rti800_detach(struct comedi_device * dev);
-static comedi_driver driver_rti800 = {
+static struct comedi_driver driver_rti800 = {
       driver_name:"rti800",
       module:THIS_MODULE,
       attach:rti800_attach,
--- a/drivers/staging/comedi/drivers/rti802.c
+++ b/drivers/staging/comedi/drivers/rti802.c
@@ -49,7 +49,7 @@ Configuration Options:
 
 static int rti802_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int rti802_detach(struct comedi_device * dev);
-static comedi_driver driver_rti802 = {
+static struct comedi_driver driver_rti802 = {
       driver_name:"rti802",
       module:THIS_MODULE,
       attach:rti802_attach,
--- a/drivers/staging/comedi/drivers/s526.c
+++ b/drivers/staging/comedi/drivers/s526.c
@@ -210,14 +210,14 @@ typedef struct {
 #define devpriv ((s526_private *)dev->private)
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
  */
 static int s526_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int s526_detach(struct comedi_device * dev);
-static comedi_driver driver_s526 = {
+static struct comedi_driver driver_s526 = {
       driver_name:"s526",
       module:THIS_MODULE,
       attach:s526_attach,
--- a/drivers/staging/comedi/drivers/s626.c
+++ b/drivers/staging/comedi/drivers/s626.c
@@ -121,7 +121,7 @@ MODULE_DEVICE_TABLE(pci, s626_pci_table)
 static int s626_attach(struct comedi_device *dev, comedi_devconfig *it);
 static int s626_detach(struct comedi_device *dev);
 
-static comedi_driver driver_s626 = {
+static struct comedi_driver driver_s626 = {
       driver_name:"s626",
       module : THIS_MODULE,
       attach : s626_attach,
--- a/drivers/staging/comedi/drivers/serial2002.c
+++ b/drivers/staging/comedi/drivers/serial2002.c
@@ -87,7 +87,7 @@ typedef struct {
 
 static int serial2002_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int serial2002_detach(struct comedi_device * dev);
-comedi_driver driver_serial2002 = {
+struct comedi_driver driver_serial2002 = {
       driver_name:"serial2002",
       module:THIS_MODULE,
       attach:serial2002_attach,
--- a/drivers/staging/comedi/drivers/skel.c
+++ b/drivers/staging/comedi/drivers/skel.c
@@ -44,7 +44,7 @@ Configuration Options:
  * Devices: a full list of the boards that attempt to be supported by
  *   the driver.  Format is "(manufacturer) board name [comedi name]",
  *   where comedi_name is the name that is used to configure the board.
- *   See the comment near board_name: in the comedi_driver structure
+ *   See the comment near board_name: in the struct comedi_driver structure
  *   below.  If (manufacturer) or [comedi name] is missing, the previous
  *   value is used.
  * Author: you
@@ -146,14 +146,14 @@ typedef struct {
 #define devpriv ((skel_private *)dev->private)
 
 /*
- * The comedi_driver structure tells the Comedi core module
+ * The struct comedi_driver structure tells the Comedi core module
  * which functions to call to configure/deconfigure (attach/detach)
  * the board, and also about the kernel module that contains
  * the device code.
  */
 static int skel_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int skel_detach(struct comedi_device * dev);
-static comedi_driver driver_skel = {
+static struct comedi_driver driver_skel = {
       driver_name:"dummy",
       module:THIS_MODULE,
       attach:skel_attach,
--- a/drivers/staging/comedi/drivers/ssv_dnp.c
+++ b/drivers/staging/comedi/drivers/ssv_dnp.c
@@ -80,7 +80,7 @@ typedef struct {
 #define devpriv ((dnp_private *)dev->private)
 
 /* ------------------------------------------------------------------------- */
-/* The comedi_driver structure tells the Comedi core module which functions  */
+/* The struct comedi_driver structure tells the Comedi core module which functions  */
 /* to call to configure/deconfigure (attach/detach) the board, and also      */
 /* about the kernel module that contains the device code.                    */
 /*                                                                           */
@@ -90,7 +90,7 @@ typedef struct {
 static int dnp_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int dnp_detach(struct comedi_device * dev);
 
-static comedi_driver driver_dnp = {
+static struct comedi_driver driver_dnp = {
       driver_name:"ssv_dnp",
       module:THIS_MODULE,
       attach:dnp_attach,
--- a/drivers/staging/comedi/drivers/unioxx5.c
+++ b/drivers/staging/comedi/drivers/unioxx5.c
@@ -102,7 +102,7 @@ static int __unioxx5_analog_read(unioxx5
 static int __unioxx5_define_chan_offset(int chan_num);
 static void __unioxx5_analog_config(unioxx5_subd_priv * usp, int channel);
 
-static comedi_driver unioxx5_driver = {
+static struct comedi_driver unioxx5_driver = {
       driver_name:DRIVER_NAME,
       module:THIS_MODULE,
       attach:unioxx5_attach,
--- a/drivers/staging/comedi/drivers/usbdux.c
+++ b/drivers/staging/comedi/drivers/usbdux.c
@@ -2903,7 +2903,7 @@ static int usbdux_detach(struct comedi_d
 }
 
 /* main driver struct */
-static comedi_driver driver_usbdux = {
+static struct comedi_driver driver_usbdux = {
       .driver_name =	"usbdux",
       .module =		THIS_MODULE,
       .attach =		usbdux_attach,
--- a/drivers/staging/comedi/drivers/usbduxfast.c
+++ b/drivers/staging/comedi/drivers/usbduxfast.c
@@ -1856,7 +1856,7 @@ static int usbduxfast_detach(struct come
 /*
  * main driver struct
  */
-static comedi_driver driver_usbduxfast = {
+static struct comedi_driver driver_usbduxfast = {
 	.driver_name	= "usbduxfast",
 	.module		= THIS_MODULE,
 	.attach		= usbduxfast_attach,
--- a/drivers/staging/comedi/proc.c
+++ b/drivers/staging/comedi/proc.c
@@ -36,7 +36,7 @@
 int comedi_read_procmem(char *buf, char **start, off_t offset, int len,
 	int *eof, void *data);
 
-extern comedi_driver *comedi_drivers;
+extern struct comedi_driver *comedi_drivers;
 
 int comedi_read_procmem(char *buf, char **start, off_t offset, int len,
 	int *eof, void *data)
@@ -44,7 +44,7 @@ int comedi_read_procmem(char *buf, char 
 	int i;
 	int devices_q = 0;
 	int l = 0;
-	comedi_driver *driv;
+	struct comedi_driver *driv;
 
 	l += sprintf(buf + l,
 		"comedi version " COMEDI_RELEASE "\n"
