From alan@linux.intel.com  Mon Oct 26 14:58:56 2009
From: Alan Cox <alan@linux.intel.com>
Date: Tue, 06 Oct 2009 15:50:05 +0100
Subject: Staging: et131x: tx ring mac error is only used as a local
To: greg@kroah.com
Message-ID: <20091006145004.8604.23231.stgit@localhost.localdomain>


So make it a local

Signed-off-by: Alan Cox <alan@linux.intel.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

---
 drivers/staging/et131x/et1310_tx.h  |    4 +---
 drivers/staging/et131x/et131x_isr.c |    5 ++---
 2 files changed, 3 insertions(+), 6 deletions(-)

--- a/drivers/staging/et131x/et1310_tx.h
+++ b/drivers/staging/et131x/et1310_tx.h
@@ -143,9 +143,7 @@ struct tx_ring {
 	u32 *tx_status;
 	dma_addr_t tx_status_pa;
 
-	TXMAC_ERR_t TxMacErr;
-
-	/* Variables to track the Tx interrupt coalescing features */
+	/* Packets since the last IRQ: used for interrupt coalescing */
 	int since_irq;
 };
 
--- a/drivers/staging/et131x/et131x_isr.c
+++ b/drivers/staging/et131x/et131x_isr.c
@@ -397,8 +397,7 @@ void et131x_isr_handler(struct work_stru
 
 		/* Let's move on to the TxMac */
 		if (status & ET_INTR_TXMAC) {
-			etdev->tx_ring.TxMacErr.value =
-				readl(&iomem->txmac.err.value);
+			u32 err = readl(&iomem->txmac.err.value);
 
 			/*
 			 * When any of the errors occur and TXMAC generates
@@ -412,7 +411,7 @@ void et131x_isr_handler(struct work_stru
 			 */
 			dev_warn(&etdev->pdev->dev,
 				    "TXMAC interrupt, error 0x%08x\n",
-				    etdev->tx_ring.TxMacErr.value);
+				    err);
 
 			/* If we are debugging, we want to see this error,
 			 * otherwise we just want the device to be reset and
