From wfp5p@virginia.edu Mon Mar 16 17:20:17 2009
From: Bill Pemberton <wfp5p@virginia.edu>
Date: Mon, 16 Mar 2009 22:05:31 -0400
Subject: Staging: comedi: Remove comedi_lrange typedef
To: greg@kroah.com
Message-ID: <20090317020531.14467.58503.stgit@viridian.itc.Virginia.EDU>


Signed-off-by: Bill Pemberton <wfp5p@virginia.edu>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
---

 drivers/staging/comedi/comedidev.h                        |   20 +++----
 drivers/staging/comedi/drivers/addi-data/addi_common.h    |    2 
 drivers/staging/comedi/drivers/addi-data/hwdrv_APCI1710.h |    6 +-
 drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.h  |    2 
 drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.h |    2 
 drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.h |    4 -
 drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.h |    4 -
 drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.h |    2 
 drivers/staging/comedi/drivers/addi-data/hwdrv_apci3xxx.h |    6 +-
 drivers/staging/comedi/drivers/adl_pci9111.c              |    6 +-
 drivers/staging/comedi/drivers/adl_pci9118.c              |    8 +-
 drivers/staging/comedi/drivers/adq12b.c                   |    4 -
 drivers/staging/comedi/drivers/adv_pci1710.c              |   14 ++--
 drivers/staging/comedi/drivers/adv_pci1723.c              |    4 -
 drivers/staging/comedi/drivers/aio_aio12_8.c              |    2 
 drivers/staging/comedi/drivers/amplc_pci224.c             |   12 ++--
 drivers/staging/comedi/drivers/amplc_pci230.c             |    4 -
 drivers/staging/comedi/drivers/cb_das16_cs.c              |    2 
 drivers/staging/comedi/drivers/cb_pcidas.c                |    8 +-
 drivers/staging/comedi/drivers/cb_pcidas64.c              |   22 +++----
 drivers/staging/comedi/drivers/cb_pcidda.c                |    4 -
 drivers/staging/comedi/drivers/cb_pcimdas.c               |    2 
 drivers/staging/comedi/drivers/comedi_test.c              |    2 
 drivers/staging/comedi/drivers/daqboard2000.c             |    4 -
 drivers/staging/comedi/drivers/das08.c                    |    8 +-
 drivers/staging/comedi/drivers/das16.c                    |   24 ++++----
 drivers/staging/comedi/drivers/das16m1.c                  |    2 
 drivers/staging/comedi/drivers/das1800.c                  |   10 +--
 drivers/staging/comedi/drivers/das800.c                   |   12 ++--
 drivers/staging/comedi/drivers/dmm32at.c                  |    8 +-
 drivers/staging/comedi/drivers/dt2801.c                   |   16 ++---
 drivers/staging/comedi/drivers/dt2811.c                   |   22 +++----
 drivers/staging/comedi/drivers/dt2815.c                   |    8 +-
 drivers/staging/comedi/drivers/dt282x.c                   |   24 ++++----
 drivers/staging/comedi/drivers/dt3000.c                   |    6 +-
 drivers/staging/comedi/drivers/dt9812.c                   |    8 +-
 drivers/staging/comedi/drivers/fl512.c                    |    2 
 drivers/staging/comedi/drivers/icp_multi.c                |    6 +-
 drivers/staging/comedi/drivers/ii_pci20kc.c               |   12 ++--
 drivers/staging/comedi/drivers/jr3_pci.c                  |    8 +-
 drivers/staging/comedi/drivers/me4000.c                   |    4 -
 drivers/staging/comedi/drivers/me_daq.c                   |   10 +--
 drivers/staging/comedi/drivers/mpc624.c                   |    4 -
 drivers/staging/comedi/drivers/ni_670x.c                  |    6 +-
 drivers/staging/comedi/drivers/ni_at_a2150.c              |    2 
 drivers/staging/comedi/drivers/ni_atmio16d.c              |    8 +-
 drivers/staging/comedi/drivers/ni_labpc.c                 |    6 +-
 drivers/staging/comedi/drivers/ni_labpc.h                 |    4 -
 drivers/staging/comedi/drivers/ni_mio_common.c            |   20 +++----
 drivers/staging/comedi/drivers/ni_pcimio.c                |    6 +-
 drivers/staging/comedi/drivers/ni_stc.h                   |    4 -
 drivers/staging/comedi/drivers/pcl711.c                   |    8 +-
 drivers/staging/comedi/drivers/pcl726.c                   |   14 ++--
 drivers/staging/comedi/drivers/pcl812.c                   |   40 +++++++-------
 drivers/staging/comedi/drivers/pcl816.c                   |    6 +-
 drivers/staging/comedi/drivers/pcl818.c                   |   20 +++----
 drivers/staging/comedi/drivers/pcmda12.c                  |    2 
 drivers/staging/comedi/drivers/pcmmio.c                   |    6 +-
 drivers/staging/comedi/drivers/poc.c                      |    2 
 drivers/staging/comedi/drivers/quatech_daqp_cs.c          |    4 -
 drivers/staging/comedi/drivers/rtd520.c                   |    6 +-
 drivers/staging/comedi/drivers/rti800.c                   |    8 +-
 drivers/staging/comedi/drivers/rti802.c                   |    2 
 drivers/staging/comedi/drivers/s626.c                     |    2 
 drivers/staging/comedi/drivers/serial2002.c               |    4 -
 drivers/staging/comedi/drivers/usbdux.c                   |    4 -
 drivers/staging/comedi/drivers/usbduxfast.c               |    2 
 drivers/staging/comedi/kcomedilib/get.c                   |    2 
 drivers/staging/comedi/range.c                            |   14 ++--
 69 files changed, 270 insertions(+), 272 deletions(-)

--- a/drivers/staging/comedi/comedidev.h
+++ b/drivers/staging/comedi/comedidev.h
@@ -121,8 +121,6 @@
 #define COMEDI_NUM_BOARD_MINORS 0x30
 #define COMEDI_FIRST_SUBDEVICE_MINOR COMEDI_NUM_BOARD_MINORS
 
-typedef struct comedi_lrange_struct comedi_lrange;
-
 typedef struct device device_create_result_type;
 
 #define COMEDI_DEVICE_CREATE(cs, parent, devt, drvdata, device, fmt...) \
@@ -154,8 +152,8 @@ struct comedi_subdevice {
 
 	unsigned int settling_time_0;
 
-	const comedi_lrange *range_table;
-	const comedi_lrange *const *range_table_list;
+	const struct comedi_lrange *range_table;
+	const struct comedi_lrange *const *range_table_list;
 
 	unsigned int *chanlist;	/* driver-owned chanlist (not used) */
 
@@ -396,12 +394,12 @@ int insn_inval(struct comedi_device *dev
 #define BIP_RANGE(a)		{-(a)*1e6, (a)*1e6, 0}
 #define UNI_RANGE(a)		{0, (a)*1e6, 0}
 
-extern const comedi_lrange range_bipolar10;
-extern const comedi_lrange range_bipolar5;
-extern const comedi_lrange range_bipolar2_5;
-extern const comedi_lrange range_unipolar10;
-extern const comedi_lrange range_unipolar5;
-extern const comedi_lrange range_unknown;
+extern const struct comedi_lrange range_bipolar10;
+extern const struct comedi_lrange range_bipolar5;
+extern const struct comedi_lrange range_bipolar2_5;
+extern const struct comedi_lrange range_unipolar10;
+extern const struct comedi_lrange range_unipolar5;
+extern const struct comedi_lrange range_unknown;
 
 #define range_digital		range_unipolar5
 
@@ -411,7 +409,7 @@ extern const comedi_lrange range_unknown
 #define GCC_ZERO_LENGTH_ARRAY 0
 #endif
 
-struct comedi_lrange_struct {
+struct comedi_lrange {
 	int length;
 	comedi_krange range[GCC_ZERO_LENGTH_ARRAY];
 };
--- a/drivers/staging/comedi/drivers/addi-data/addi_common.h
+++ b/drivers/staging/comedi/drivers/addi-data/addi_common.h
@@ -51,7 +51,7 @@ typedef unsigned int ULONG, *PULONG;	/* 
 typedef unsigned int DWORD, *PDWORD;	/* 32-bit */
 typedef unsigned long ULONG_PTR;
 
-typedef const comedi_lrange *PCRANGE;
+typedef const struct comedi_lrange *PCRANGE;
 
 #define LOBYTE(W)	(BYTE)((W) & 0xFF)
 #define HIBYTE(W)	(BYTE)(((W) >> 8) & 0xFF)
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.h
@@ -34,7 +34,7 @@ struct {
 } Config_Parameters_Main;
 
 /* ANALOG INPUT RANGE */
-comedi_lrange range_apci035_ai = { 8, {
+struct comedi_lrange range_apci035_ai = { 8, {
 				       BIP_RANGE(10),
 				       BIP_RANGE(5),
 				       BIP_RANGE(2),
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.h
@@ -41,7 +41,7 @@
 
 #ifdef __KERNEL__
 
-static const comedi_lrange range_apci16xx_ttl = { 12,
+static const struct comedi_lrange range_apci16xx_ttl = { 12,
 	{BIP_RANGE(1),
 	 BIP_RANGE(1),
 	 BIP_RANGE(1),
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_APCI1710.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_APCI1710.h
@@ -46,7 +46,7 @@
 
 //MODULE INFO STRUCTURE
 
-static const comedi_lrange range_apci1710_ttl = { 4, {
+static const struct comedi_lrange range_apci1710_ttl = { 4, {
 						      BIP_RANGE(10),
 						      BIP_RANGE(5),
 						      BIP_RANGE(2),
@@ -54,7 +54,7 @@ static const comedi_lrange range_apci171
 						      }
 };
 
-static const comedi_lrange range_apci1710_ssi = { 4, {
+static const struct comedi_lrange range_apci1710_ssi = { 4, {
 						      BIP_RANGE(10),
 						      BIP_RANGE(5),
 						      BIP_RANGE(2),
@@ -62,7 +62,7 @@ static const comedi_lrange range_apci171
 						      }
 };
 
-static const comedi_lrange range_apci1710_inccpt = { 4, {
+static const struct comedi_lrange range_apci1710_inccpt = { 4, {
 							 BIP_RANGE(10),
 							 BIP_RANGE(5),
 							 BIP_RANGE(2),
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.h
@@ -21,7 +21,7 @@
 // comedi related defines
 
 //ANALOG INPUT RANGE
-static const comedi_lrange range_apci3120_ai = { 8, {
+static const struct comedi_lrange range_apci3120_ai = { 8, {
 						     BIP_RANGE(10),
 						     BIP_RANGE(5),
 						     BIP_RANGE(2),
@@ -34,7 +34,7 @@ static const comedi_lrange range_apci312
 };
 
 // ANALOG OUTPUT RANGE
-static const comedi_lrange range_apci3120_ao = { 2, {
+static const struct comedi_lrange range_apci3120_ao = { 2, {
 						     BIP_RANGE(10),
 						     UNI_RANGE(10)
 						     }
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.h
@@ -35,7 +35,7 @@ struct {
     Config_Parameters_Module3, Config_Parameters_Module4;
 
 //ANALOG INPUT RANGE
-static const comedi_lrange range_apci3200_ai = { 8, {
+static const struct comedi_lrange range_apci3200_ai = { 8, {
 						     BIP_RANGE(10),
 						     BIP_RANGE(5),
 						     BIP_RANGE(2),
@@ -47,7 +47,7 @@ static const comedi_lrange range_apci320
 						     }
 };
 
-static const comedi_lrange range_apci3300_ai = { 4, {
+static const struct comedi_lrange range_apci3300_ai = { 4, {
 						     UNI_RANGE(10),
 						     UNI_RANGE(5),
 						     UNI_RANGE(2),
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.h
@@ -32,7 +32,7 @@
 #define MODE0                                     0
 #define MODE1                                     1
 // ANALOG OUTPUT RANGE
-comedi_lrange range_apci3501_ao = { 2, {
+struct comedi_lrange range_apci3501_ao = { 2, {
 					BIP_RANGE(10),
 					UNI_RANGE(10)
 					}
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3xxx.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3xxx.h
@@ -32,7 +32,7 @@
 
 #ifdef __KERNEL__
 
-static const comedi_lrange range_apci3XXX_ai = { 8, {BIP_RANGE(10),
+static const struct comedi_lrange range_apci3XXX_ai = { 8, {BIP_RANGE(10),
 						     BIP_RANGE(5),
 						     BIP_RANGE(2),
 						     BIP_RANGE(1),
@@ -42,7 +42,7 @@ static const comedi_lrange range_apci3XX
 						     UNI_RANGE(1)}
 };
 
-static const comedi_lrange range_apci3XXX_ttl = { 12, {BIP_RANGE(1),
+static const struct comedi_lrange range_apci3XXX_ttl = { 12, {BIP_RANGE(1),
 						       BIP_RANGE(1),
 						       BIP_RANGE(1),
 						       BIP_RANGE(1),
@@ -56,7 +56,7 @@ static const comedi_lrange range_apci3XX
 						       BIP_RANGE(1)}
 };
 
-static const comedi_lrange range_apci3XXX_ao = { 2, {BIP_RANGE(10),
+static const struct comedi_lrange range_apci3XXX_ao = { 2, {BIP_RANGE(10),
 						     UNI_RANGE(10)}
 };
 #endif
--- a/drivers/staging/comedi/drivers/adl_pci9111.c
+++ b/drivers/staging/comedi/drivers/adl_pci9111.c
@@ -270,7 +270,7 @@ static int pci9111_detach(struct comedi_
 static void pci9111_ai_munge(struct comedi_device * dev, struct comedi_subdevice * s,
 	void *data, unsigned int num_bytes, unsigned int start_chan_index);
 
-static const comedi_lrange pci9111_hr_ai_range = {
+static const struct comedi_lrange pci9111_hr_ai_range = {
 	5,
 	{
 			BIP_RANGE(10),
@@ -303,8 +303,8 @@ typedef struct {
 	int ai_resolution_mask;
 	int ao_resolution;	// resolution of D/A
 	int ao_resolution_mask;
-	const comedi_lrange *ai_range_list;	// rangelist for A/D
-	const comedi_lrange *ao_range_list;	// rangelist for D/A
+	const struct comedi_lrange *ai_range_list;	// rangelist for A/D
+	const struct comedi_lrange *ao_range_list;	// rangelist for D/A
 	unsigned int ai_acquisition_period_min_ns;
 } pci9111_board_struct;
 
--- a/drivers/staging/comedi/drivers/adl_pci9118.c
+++ b/drivers/staging/comedi/drivers/adl_pci9118.c
@@ -152,7 +152,7 @@ Configuration options:
 
 #define EXTTRG_AI	0	/* ext trg is used by AI */
 
-static const comedi_lrange range_pci9118dg_hr = { 8, {
+static const struct comedi_lrange range_pci9118dg_hr = { 8, {
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
 			BIP_RANGE(1.25),
@@ -164,7 +164,7 @@ static const comedi_lrange range_pci9118
 	}
 };
 
-static const comedi_lrange range_pci9118hg = { 8, {
+static const struct comedi_lrange range_pci9118hg = { 8, {
 			BIP_RANGE(5),
 			BIP_RANGE(0.5),
 			BIP_RANGE(0.05),
@@ -194,8 +194,8 @@ typedef struct {
 	int n_aochan;		// num of D/A chans
 	int ai_maxdata;		// resolution of A/D
 	int ao_maxdata;		// resolution of D/A
-	const comedi_lrange *rangelist_ai;	// rangelist for A/D
-	const comedi_lrange *rangelist_ao;	// rangelist for D/A
+	const struct comedi_lrange *rangelist_ai;	// rangelist for A/D
+	const struct comedi_lrange *rangelist_ao;	// rangelist for D/A
 	unsigned int ai_ns_min;	// max sample speed of card v ns
 	unsigned int ai_pacer_min;	// minimal pacer value (c1*c2 or c1 in burst)
 	int half_fifo_size;	// size of FIFO/2
--- a/drivers/staging/comedi/drivers/adq12b.c
+++ b/drivers/staging/comedi/drivers/adq12b.c
@@ -100,14 +100,14 @@ If you do not specify any options, they 
 #define TIMEOUT        20
 
 // available ranges through the PGA gains
-static const comedi_lrange range_adq12b_ai_bipolar = { 4, {
+static const struct comedi_lrange range_adq12b_ai_bipolar = { 4, {
         BIP_RANGE( 5 ),
         BIP_RANGE( 2 ),
         BIP_RANGE( 1 ),
         BIP_RANGE( 0.5 )
 }};
 
-static const comedi_lrange range_adq12b_ai_unipolar = { 4, {
+static const struct comedi_lrange range_adq12b_ai_unipolar = { 4, {
         UNI_RANGE( 5 ),
         UNI_RANGE( 2 ),
         UNI_RANGE( 1 ),
--- a/drivers/staging/comedi/drivers/adv_pci1710.c
+++ b/drivers/staging/comedi/drivers/adv_pci1710.c
@@ -121,7 +121,7 @@ Configuration options:
 // D/A synchronized control (PCI1720_SYNCONT)
 #define Syncont_SC0	 1	/* set synchronous output mode */
 
-static const comedi_lrange range_pci1710_3 = { 9, {
+static const struct comedi_lrange range_pci1710_3 = { 9, {
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
 			BIP_RANGE(1.25),
@@ -137,7 +137,7 @@ static const comedi_lrange range_pci1710
 static const char range_codes_pci1710_3[] =
 	{ 0x00, 0x01, 0x02, 0x03, 0x04, 0x10, 0x11, 0x12, 0x13 };
 
-static const comedi_lrange range_pci1710hg = { 12, {
+static const struct comedi_lrange range_pci1710hg = { 12, {
 			BIP_RANGE(5),
 			BIP_RANGE(0.5),
 			BIP_RANGE(0.05),
@@ -157,7 +157,7 @@ static const char range_codes_pci1710hg[
 	{ 0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x10, 0x11, 0x12,
 		0x13 };
 
-static const comedi_lrange range_pci17x1 = { 5, {
+static const struct comedi_lrange range_pci17x1 = { 5, {
 			BIP_RANGE(10),
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
@@ -168,7 +168,7 @@ static const comedi_lrange range_pci17x1
 
 static const char range_codes_pci17x1[] = { 0x00, 0x01, 0x02, 0x03, 0x04 };
 
-static const comedi_lrange range_pci1720 = { 4, {
+static const struct comedi_lrange range_pci1720 = { 4, {
 			UNI_RANGE(5),
 			UNI_RANGE(10),
 			BIP_RANGE(5),
@@ -176,7 +176,7 @@ static const comedi_lrange range_pci1720
 	}
 };
 
-static const comedi_lrange range_pci171x_da = { 2, {
+static const struct comedi_lrange range_pci171x_da = { 2, {
 			UNI_RANGE(5),
 			UNI_RANGE(10),
 	}
@@ -199,9 +199,9 @@ typedef struct {
 	int n_counter;		// num of counters
 	int ai_maxdata;		// resolution of A/D
 	int ao_maxdata;		// resolution of D/A
-	const comedi_lrange *rangelist_ai;	// rangelist for A/D
+	const struct comedi_lrange *rangelist_ai;	// rangelist for A/D
 	const char *rangecode_ai;	// range codes for programming
-	const comedi_lrange *rangelist_ao;	// rangelist for D/A
+	const struct comedi_lrange *rangelist_ao;	// rangelist for D/A
 	unsigned int ai_ns_min;	// max sample speed of card v ns
 	unsigned int fifo_half_size;	// size of FIFO/2
 } boardtype;
--- a/drivers/staging/comedi/drivers/adv_pci1723.c
+++ b/drivers/staging/comedi/drivers/adv_pci1723.c
@@ -94,7 +94,7 @@ TODO:
 
 //static unsigned short pci_list_builded=0;     /*=1 list of card is know */
 
-static const comedi_lrange range_pci1723 = { 1, {
+static const struct comedi_lrange range_pci1723 = { 1, {
 			BIP_RANGE(10)
 	}
 };
@@ -111,7 +111,7 @@ typedef struct pci1723_board_struct {
 	int n_aochan;		// num of D/A chans
 	int n_diochan;		// num of DIO chans
 	int ao_maxdata;		// resolution of D/A
-	const comedi_lrange *rangelist_ao;	// rangelist for D/A
+	const struct comedi_lrange *rangelist_ao;	// rangelist for D/A
 } boardtype;
 
 static const boardtype boardtypes[] = {
--- a/drivers/staging/comedi/drivers/aio_aio12_8.c
+++ b/drivers/staging/comedi/drivers/aio_aio12_8.c
@@ -151,7 +151,7 @@ static int aio_aio12_8_ao_write(struct c
 	return insn->n;
 }
 
-static const comedi_lrange range_aio_aio12_8 = {
+static const struct comedi_lrange range_aio_aio12_8 = {
 	4,
 	{
 			UNI_RANGE(5),
--- a/drivers/staging/comedi/drivers/amplc_pci224.c
+++ b/drivers/staging/comedi/drivers/amplc_pci224.c
@@ -278,7 +278,7 @@ Caveats:
  */
 
 /* The software selectable internal ranges for PCI224 (option[2] == 0). */
-static const comedi_lrange range_pci224_internal = {
+static const struct comedi_lrange range_pci224_internal = {
 	8,
 	{
 			BIP_RANGE(10),
@@ -304,7 +304,7 @@ static const unsigned short hwrange_pci2
 };
 
 /* The software selectable external ranges for PCI224 (option[2] == 1). */
-static const comedi_lrange range_pci224_external = {
+static const struct comedi_lrange range_pci224_external = {
 	2,
 	{
 			RANGE_ext(-1, 1),	/* bipolar [-Vref,+Vref] */
@@ -319,7 +319,7 @@ static const unsigned short hwrange_pci2
 
 /* The hardware selectable Vref*2 external range for PCI234
  * (option[2] == 1, option[3+n] == 0). */
-static const comedi_lrange range_pci234_ext2 = {
+static const struct comedi_lrange range_pci234_ext2 = {
 	1,
 	{
 			RANGE_ext(-2, 2),
@@ -328,7 +328,7 @@ static const comedi_lrange range_pci234_
 
 /* The hardware selectable Vref external range for PCI234
  * (option[2] == 1, option[3+n] == 1). */
-static const comedi_lrange range_pci234_ext = {
+static const struct comedi_lrange range_pci234_ext = {
 	1,
 	{
 			RANGE_ext(-1, 1),
@@ -1417,10 +1417,10 @@ static int pci224_attach(struct comedi_d
 	/* Sort out channel range options. */
 	if (thisboard->model == pci234_model) {
 		/* PCI234 range options. */
-		const comedi_lrange **range_table_list;
+		const struct comedi_lrange **range_table_list;
 
 		s->range_table_list = range_table_list =
-			kmalloc(sizeof(comedi_lrange *) * s->n_chan,
+			kmalloc(sizeof(struct comedi_lrange *) * s->n_chan,
 			GFP_KERNEL);
 		if (!s->range_table_list) {
 			return -ENOMEM;
--- a/drivers/staging/comedi/drivers/amplc_pci230.c
+++ b/drivers/staging/comedi/drivers/amplc_pci230.c
@@ -568,7 +568,7 @@ static const unsigned int pci230_timebas
 };
 
 /* PCI230 analogue input range table */
-static const comedi_lrange pci230_ai_range = { 7, {
+static const struct comedi_lrange pci230_ai_range = { 7, {
 			BIP_RANGE(10),
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
@@ -586,7 +586,7 @@ static const unsigned char pci230_ai_gai
 static const unsigned char pci230_ai_bipolar[7] = { 1, 1, 1, 1, 0, 0, 0 };
 
 /* PCI230 analogue output range table */
-static const comedi_lrange pci230_ao_range = { 2, {
+static const struct comedi_lrange pci230_ao_range = { 2, {
 			UNI_RANGE(10),
 			BIP_RANGE(10)
 	}
--- a/drivers/staging/comedi/drivers/cb_das16_cs.c
+++ b/drivers/staging/comedi/drivers/cb_das16_cs.c
@@ -100,7 +100,7 @@ static struct comedi_driver driver_das16
 
 static struct pcmcia_device *cur_dev = NULL;
 
-static const comedi_lrange das16cs_ai_range = { 4, {
+static const struct comedi_lrange das16cs_ai_range = { 4, {
 			RANGE(-10, 10),
 			RANGE(-5, 5),
 			RANGE(-2.5, 2.5),
--- a/drivers/staging/comedi/drivers/cb_pcidas64.c
+++ b/drivers/staging/comedi/drivers/cb_pcidas64.c
@@ -400,7 +400,7 @@ static inline uint8_t attenuate_bit(unsi
 };
 
 // analog input ranges for 64xx boards
-static const comedi_lrange ai_ranges_64xx = {
+static const struct comedi_lrange ai_ranges_64xx = {
 	8,
 	{
 			BIP_RANGE(10),
@@ -415,7 +415,7 @@ static const comedi_lrange ai_ranges_64x
 };
 
 /* analog input ranges for 60xx boards */
-static const comedi_lrange ai_ranges_60xx = {
+static const struct comedi_lrange ai_ranges_60xx = {
 	4,
 	{
 			BIP_RANGE(10),
@@ -426,7 +426,7 @@ static const comedi_lrange ai_ranges_60x
 };
 
 /* analog input ranges for 6030, etc boards */
-static const comedi_lrange ai_ranges_6030 = {
+static const struct comedi_lrange ai_ranges_6030 = {
 	14,
 	{
 			BIP_RANGE(10),
@@ -447,7 +447,7 @@ static const comedi_lrange ai_ranges_603
 };
 
 /* analog input ranges for 6052, etc boards */
-static const comedi_lrange ai_ranges_6052 = {
+static const struct comedi_lrange ai_ranges_6052 = {
 	15,
 	{
 			BIP_RANGE(10),
@@ -469,7 +469,7 @@ static const comedi_lrange ai_ranges_605
 };
 
 // analog input ranges for 4020 board
-static const comedi_lrange ai_ranges_4020 = {
+static const struct comedi_lrange ai_ranges_4020 = {
 	2,
 	{
 			BIP_RANGE(5),
@@ -478,7 +478,7 @@ static const comedi_lrange ai_ranges_402
 };
 
 // analog output ranges
-static const comedi_lrange ao_ranges_64xx = {
+static const struct comedi_lrange ao_ranges_64xx = {
 	4,
 	{
 			BIP_RANGE(5),
@@ -494,7 +494,7 @@ static const int ao_range_code_64xx[] = 
 	0x3,
 };
 
-static const comedi_lrange ao_ranges_60xx = {
+static const struct comedi_lrange ao_ranges_60xx = {
 	1,
 	{
 			BIP_RANGE(10),
@@ -504,7 +504,7 @@ static const int ao_range_code_60xx[] = 
 	0x0,
 };
 
-static const comedi_lrange ao_ranges_6030 = {
+static const struct comedi_lrange ao_ranges_6030 = {
 	2,
 	{
 			BIP_RANGE(10),
@@ -516,7 +516,7 @@ static const int ao_range_code_6030[] = 
 	0x2,
 };
 
-static const comedi_lrange ao_ranges_4020 = {
+static const struct comedi_lrange ao_ranges_4020 = {
 	2,
 	{
 			BIP_RANGE(5),
@@ -547,11 +547,11 @@ typedef struct pcidas64_board_struct {
 	int ai_se_chans;	// number of ai inputs in single-ended mode
 	int ai_bits;		// analog input resolution
 	int ai_speed;		// fastest conversion period in ns
-	const comedi_lrange *ai_range_table;
+	const struct comedi_lrange *ai_range_table;
 	int ao_nchan;		// number of analog out channels
 	int ao_bits;		// analog output resolution
 	int ao_scan_speed;	// analog output speed (for a scan, not conversion)
-	const comedi_lrange *ao_range_table;
+	const struct comedi_lrange *ao_range_table;
 	const int *ao_range_code;
 	const hw_fifo_info_t *const ai_fifo;
 	enum register_layout layout;	// different board families have slightly different registers
--- a/drivers/staging/comedi/drivers/cb_pcidas.c
+++ b/drivers/staging/comedi/drivers/cb_pcidas.c
@@ -196,7 +196,7 @@ static inline unsigned int DAC_DATA_REG(
 // bit in hexadecimal representation of range index that indicates unipolar input range
 #define IS_UNIPOLAR 0x4
 // analog input ranges for most boards
-static const comedi_lrange cb_pcidas_ranges = {
+static const struct comedi_lrange cb_pcidas_ranges = {
 	8,
 	{
 			BIP_RANGE(10),
@@ -211,7 +211,7 @@ static const comedi_lrange cb_pcidas_ran
 };
 
 // pci-das1001 input ranges
-static const comedi_lrange cb_pcidas_alt_ranges = {
+static const struct comedi_lrange cb_pcidas_alt_ranges = {
 	8,
 	{
 			BIP_RANGE(10),
@@ -226,7 +226,7 @@ static const comedi_lrange cb_pcidas_alt
 };
 
 // analog output ranges
-static const comedi_lrange cb_pcidas_ao_ranges = {
+static const struct comedi_lrange cb_pcidas_ao_ranges = {
 	4,
 	{
 			BIP_RANGE(5),
@@ -252,7 +252,7 @@ typedef struct cb_pcidas_board_struct {
 	int has_ao_fifo;	// analog output has fifo
 	int ao_scan_speed;	// analog output speed for 1602 series (for a scan, not conversion)
 	int fifo_size;		// number of samples fifo can hold
-	const comedi_lrange *ranges;
+	const struct comedi_lrange *ranges;
 	enum trimpot_model trimpot;
 	unsigned has_dac08:1;
 } cb_pcidas_board;
--- a/drivers/staging/comedi/drivers/cb_pcidda.c
+++ b/drivers/staging/comedi/drivers/cb_pcidda.c
@@ -112,7 +112,7 @@ Please report success/failure with other
 
 #define DADATA	8		// FIRST D/A DATA REGISTER (0)
 
-static const comedi_lrange cb_pcidda_ranges = {
+static const struct comedi_lrange cb_pcidda_ranges = {
 	6,
 	{
 			BIP_RANGE(10),
@@ -138,7 +138,7 @@ typedef struct cb_pcidda_board_struct {
 	unsigned short device_id;
 	int ao_chans;
 	int ao_bits;
-	const comedi_lrange *ranges;
+	const struct comedi_lrange *ranges;
 } cb_pcidda_board;
 static const cb_pcidda_board cb_pcidda_boards[] = {
 	{
--- a/drivers/staging/comedi/drivers/cb_pcimdas.c
+++ b/drivers/staging/comedi/drivers/cb_pcimdas.c
@@ -97,7 +97,7 @@ typedef struct cb_pcimdas_board_struct {
 	int fifo_size;		// number of samples fifo can hold
 	int dio_bits;		// number of dio bits
 	int has_dio;		// has DIO
-	const comedi_lrange *ranges;
+	const struct comedi_lrange *ranges;
 } cb_pcimdas_board;
 
 static const cb_pcimdas_board cb_pcimdas_boards[] = {
--- a/drivers/staging/comedi/drivers/comedi_test.c
+++ b/drivers/staging/comedi/drivers/comedi_test.c
@@ -128,7 +128,7 @@ static short fake_waveform(struct comedi
 static const int nano_per_micro = 1000;
 
 /* fake analog input ranges */
-static const comedi_lrange waveform_ai_ranges = {
+static const struct comedi_lrange waveform_ai_ranges = {
 	2,
 	{
 			BIP_RANGE(10),
--- a/drivers/staging/comedi/drivers/daqboard2000.c
+++ b/drivers/staging/comedi/drivers/daqboard2000.c
@@ -145,7 +145,7 @@ Configuration options:
 #define DAQBOARD2000_CPLD_DONE 		0x0004
 
 // Available ranges
-static const comedi_lrange range_daqboard2000_ai = { 13, {
+static const struct comedi_lrange range_daqboard2000_ai = { 13, {
 			RANGE(-10, 10),
 			RANGE(-5, 5),
 			RANGE(-2.5, 2.5),
@@ -162,7 +162,7 @@ static const comedi_lrange range_daqboar
 	}
 };
 
-static const comedi_lrange range_daqboard2000_ao = { 1, {
+static const struct comedi_lrange range_daqboard2000_ao = { 1, {
 			RANGE(-10, 10)
 	}
 };
--- a/drivers/staging/comedi/drivers/das08.c
+++ b/drivers/staging/comedi/drivers/das08.c
@@ -171,7 +171,7 @@ static int das08ao_ao_winsn(struct comed
 static void i8254_set_mode_low(unsigned int base, int channel,
 	unsigned int mode);
 
-static const comedi_lrange range_das08_pgl = { 9, {
+static const struct comedi_lrange range_das08_pgl = { 9, {
 			BIP_RANGE(10),
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
@@ -183,7 +183,7 @@ static const comedi_lrange range_das08_p
 			UNI_RANGE(1.25)
 	}
 };
-static const comedi_lrange range_das08_pgh = { 12, {
+static const struct comedi_lrange range_das08_pgh = { 12, {
 			BIP_RANGE(10),
 			BIP_RANGE(5),
 			BIP_RANGE(1),
@@ -198,7 +198,7 @@ static const comedi_lrange range_das08_p
 			UNI_RANGE(0.01),
 	}
 };
-static const comedi_lrange range_das08_pgm = { 9, {
+static const struct comedi_lrange range_das08_pgm = { 9, {
 			BIP_RANGE(10),
 			BIP_RANGE(5),
 			BIP_RANGE(0.5),
@@ -225,7 +225,7 @@ static const comedi_lrange range_das08_p
 
 				 */
 
-static const comedi_lrange *const das08_ai_lranges[] = {
+static const struct comedi_lrange *const das08_ai_lranges[] = {
 	&range_unknown,
 	&range_bipolar5,
 	&range_das08_pgh,
--- a/drivers/staging/comedi/drivers/das16.c
+++ b/drivers/staging/comedi/drivers/das16.c
@@ -236,35 +236,35 @@ static const int sample_size = 2;	// siz
 #define   DAS1600_WS			0x02
 #define   DAS1600_CLK_10MHZ		0x01
 
-static const comedi_lrange range_das1x01_bip = { 4, {
+static const struct comedi_lrange range_das1x01_bip = { 4, {
 			BIP_RANGE(10),
 			BIP_RANGE(1),
 			BIP_RANGE(0.1),
 			BIP_RANGE(0.01),
 	}
 };
-static const comedi_lrange range_das1x01_unip = { 4, {
+static const struct comedi_lrange range_das1x01_unip = { 4, {
 			UNI_RANGE(10),
 			UNI_RANGE(1),
 			UNI_RANGE(0.1),
 			UNI_RANGE(0.01),
 	}
 };
-static const comedi_lrange range_das1x02_bip = { 4, {
+static const struct comedi_lrange range_das1x02_bip = { 4, {
 			BIP_RANGE(10),
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
 			BIP_RANGE(1.25),
 	}
 };
-static const comedi_lrange range_das1x02_unip = { 4, {
+static const struct comedi_lrange range_das1x02_unip = { 4, {
 			UNI_RANGE(10),
 			UNI_RANGE(5),
 			UNI_RANGE(2.5),
 			UNI_RANGE(1.25),
 	}
 };
-static const comedi_lrange range_das16jr = { 9, {
+static const struct comedi_lrange range_das16jr = { 9, {
 			// also used by 16/330
 			BIP_RANGE(10),
 			BIP_RANGE(5),
@@ -277,7 +277,7 @@ static const comedi_lrange range_das16jr
 			UNI_RANGE(1.25),
 	}
 };
-static const comedi_lrange range_das16jr_16 = { 8, {
+static const struct comedi_lrange range_das16jr_16 = { 8, {
 			BIP_RANGE(10),
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
@@ -306,14 +306,14 @@ static const int *const das16_gainlists[
 	das1600_gainlist,
 	das1600_gainlist,
 };
-static const comedi_lrange *const das16_ai_uni_lranges[] = {
+static const struct comedi_lrange *const das16_ai_uni_lranges[] = {
 	&range_unknown,
 	&range_das16jr,
 	&range_das16jr_16,
 	&range_das1x01_unip,
 	&range_das1x02_unip,
 };
-static const comedi_lrange *const das16_ai_bip_lranges[] = {
+static const struct comedi_lrange *const das16_ai_bip_lranges[] = {
 	&range_unknown,
 	&range_das16jr,
 	&range_das16jr_16,
@@ -732,8 +732,8 @@ struct das16_private_struct {
 	unsigned int current_buffer;
 	volatile unsigned int dma_transfer_size;	// target number of bytes to transfer per dma shot
 	// user-defined analog input and output ranges defined from config options
-	comedi_lrange *user_ai_range_table;
-	comedi_lrange *user_ao_range_table;
+	struct comedi_lrange *user_ai_range_table;
+	struct comedi_lrange *user_ao_range_table;
 
 	struct timer_list timer;	// for timed interrupt
 	volatile short timer_running;
@@ -1496,7 +1496,7 @@ static int das16_attach(struct comedi_de
 		(it->options[4] || it->options[5])) {
 		// allocate single-range range table
 		devpriv->user_ai_range_table =
-			kmalloc(sizeof(comedi_lrange) + sizeof(comedi_krange),
+			kmalloc(sizeof(struct comedi_lrange) + sizeof(comedi_krange),
 			GFP_KERNEL);
 		// initialize ai range
 		devpriv->user_ai_range_table->length = 1;
@@ -1509,7 +1509,7 @@ static int das16_attach(struct comedi_de
 	if (it->options[6] || it->options[7]) {
 		// allocate single-range range table
 		devpriv->user_ao_range_table =
-			kmalloc(sizeof(comedi_lrange) + sizeof(comedi_krange),
+			kmalloc(sizeof(struct comedi_lrange) + sizeof(comedi_krange),
 			GFP_KERNEL);
 		// initialize ao range
 		devpriv->user_ao_range_table->length = 1;
--- a/drivers/staging/comedi/drivers/das16m1.c
+++ b/drivers/staging/comedi/drivers/das16m1.c
@@ -117,7 +117,7 @@ irq can be omitted, although the cmd int
 #define DAS16M1_82C55                  0x400
 #define DAS16M1_8254_THIRD             0x404
 
-static const comedi_lrange range_das16m1 = { 9,
+static const struct comedi_lrange range_das16m1 = { 9,
 	{
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
--- a/drivers/staging/comedi/drivers/das1800.c
+++ b/drivers/staging/comedi/drivers/das1800.c
@@ -213,7 +213,7 @@ static unsigned int burst_convert_arg(un
 static unsigned int suggest_transfer_size(comedi_cmd * cmd);
 
 // analog input ranges
-static const comedi_lrange range_ai_das1801 = {
+static const struct comedi_lrange range_ai_das1801 = {
 	8,
 	{
 			RANGE(-5, 5),
@@ -227,7 +227,7 @@ static const comedi_lrange range_ai_das1
 		}
 };
 
-static const comedi_lrange range_ai_das1802 = {
+static const struct comedi_lrange range_ai_das1802 = {
 	8,
 	{
 			RANGE(-10, 10),
@@ -250,7 +250,7 @@ typedef struct das1800_board_struct {
 	int do_n_chan;		/* number of digital output channels */
 	int ao_ability;		/* 0 == no analog out, 1 == basic analog out, 2 == waveform analog out */
 	int ao_n_chan;		/* number of analog out channels */
-	const comedi_lrange *range_ai;	/* available input ranges */
+	const struct comedi_lrange *range_ai;	/* available input ranges */
 } das1800_board;
 
 /* Warning: the maximum conversion speeds listed below are
@@ -486,7 +486,7 @@ typedef struct {
 #define devpriv ((das1800_private *)dev->private)
 
 // analog out range for boards with basic analog out
-static const comedi_lrange range_ao_1 = {
+static const struct comedi_lrange range_ao_1 = {
 	1,
 	{
 			RANGE(-10, 10),
@@ -495,7 +495,7 @@ static const comedi_lrange range_ao_1 = 
 
 // analog out range for 'ao' boards
 /*
-static const comedi_lrange range_ao_2 = {
+static const struct comedi_lrange range_ao_2 = {
 	2,
 	{
 		RANGE(-10, 10),
--- a/drivers/staging/comedi/drivers/das800.c
+++ b/drivers/staging/comedi/drivers/das800.c
@@ -109,19 +109,19 @@ cmd triggers supported:
 typedef struct das800_board_struct {
 	const char *name;
 	int ai_speed;
-	const comedi_lrange *ai_range;
+	const struct comedi_lrange *ai_range;
 	int resolution;
 } das800_board;
 
 //analog input ranges
-static const comedi_lrange range_das800_ai = {
+static const struct comedi_lrange range_das800_ai = {
 	1,
 	{
 			RANGE(-5, 5),
 		}
 };
 
-static const comedi_lrange range_das801_ai = {
+static const struct comedi_lrange range_das801_ai = {
 	9,
 	{
 			RANGE(-5, 5),
@@ -136,7 +136,7 @@ static const comedi_lrange range_das801_
 		}
 };
 
-static const comedi_lrange range_cio_das801_ai = {
+static const struct comedi_lrange range_cio_das801_ai = {
 	9,
 	{
 			RANGE(-5, 5),
@@ -151,7 +151,7 @@ static const comedi_lrange range_cio_das
 		}
 };
 
-static const comedi_lrange range_das802_ai = {
+static const struct comedi_lrange range_das802_ai = {
 	9,
 	{
 			RANGE(-5, 5),
@@ -166,7 +166,7 @@ static const comedi_lrange range_das802_
 		}
 };
 
-static const comedi_lrange range_das80216_ai = {
+static const struct comedi_lrange range_das80216_ai = {
 	8,
 	{
 			RANGE(-10, 10),
--- a/drivers/staging/comedi/drivers/dmm32at.c
+++ b/drivers/staging/comedi/drivers/dmm32at.c
@@ -164,7 +164,7 @@ Configuration Options:
 #define DMM32AT_DIRCH 0x08
 
 /* board AI ranges in comedi structure */
-static const comedi_lrange dmm32at_airanges = {
+static const struct comedi_lrange dmm32at_airanges = {
 	4,
 	{
 			UNI_RANGE(10),
@@ -185,7 +185,7 @@ static const unsigned char dmm32at_range
 /* only one of these ranges is valid, as set by a jumper on the
  * board. The application should only use the range set by the jumper
  */
-static const comedi_lrange dmm32at_aoranges = {
+static const struct comedi_lrange dmm32at_aoranges = {
 	4,
 	{
 			UNI_RANGE(10),
@@ -204,10 +204,10 @@ typedef struct dmm32at_board_struct {
 	const char *name;
 	int ai_chans;
 	int ai_bits;
-	const comedi_lrange *ai_ranges;
+	const struct comedi_lrange *ai_ranges;
 	int ao_chans;
 	int ao_bits;
-	const comedi_lrange *ao_ranges;
+	const struct comedi_lrange *ao_ranges;
 	int have_dio;
 	int dio_chans;
 } dmm32at_board;
--- a/drivers/staging/comedi/drivers/dt2801.c
+++ b/drivers/staging/comedi/drivers/dt2801.c
@@ -101,7 +101,7 @@ COMEDI_INITCLEANUP(driver_dt2801);
 
 #if 0
 // ignore 'defined but not used' warning
-static const comedi_lrange range_dt2801_ai_pgh_bipolar = { 4, {
+static const struct comedi_lrange range_dt2801_ai_pgh_bipolar = { 4, {
 			RANGE(-10, 10),
 			RANGE(-5, 5),
 			RANGE(-2.5, 2.5),
@@ -109,7 +109,7 @@ static const comedi_lrange range_dt2801_
 	}
 };
 #endif
-static const comedi_lrange range_dt2801_ai_pgl_bipolar = { 4, {
+static const struct comedi_lrange range_dt2801_ai_pgl_bipolar = { 4, {
 			RANGE(-10, 10),
 			RANGE(-1, 1),
 			RANGE(-0.1, 0.1),
@@ -119,7 +119,7 @@ static const comedi_lrange range_dt2801_
 
 #if 0
 // ignore 'defined but not used' warning
-static const comedi_lrange range_dt2801_ai_pgh_unipolar = { 4, {
+static const struct comedi_lrange range_dt2801_ai_pgh_unipolar = { 4, {
 			RANGE(0, 10),
 			RANGE(0, 5),
 			RANGE(0, 2.5),
@@ -127,7 +127,7 @@ static const comedi_lrange range_dt2801_
 	}
 };
 #endif
-static const comedi_lrange range_dt2801_ai_pgl_unipolar = { 4, {
+static const struct comedi_lrange range_dt2801_ai_pgl_unipolar = { 4, {
 			RANGE(0, 10),
 			RANGE(0, 1),
 			RANGE(0, 0.1),
@@ -219,7 +219,7 @@ static const boardtype_t boardtypes[] = 
 #define boardtype (*(const boardtype_t *)dev->board_ptr)
 
 typedef struct {
-	const comedi_lrange *dac_range_types[2];
+	const struct comedi_lrange *dac_range_types[2];
 	unsigned int ao_readback[2];
 } dt2801_private;
 #define devpriv ((dt2801_private *)dev->private)
@@ -439,7 +439,7 @@ static int probe_number_of_ai_chans(stru
 	return n_chans;
 }
 
-static const comedi_lrange *dac_range_table[] = {
+static const struct comedi_lrange *dac_range_table[] = {
 	&range_bipolar10,
 	&range_bipolar5,
 	&range_bipolar2_5,
@@ -447,14 +447,14 @@ static const comedi_lrange *dac_range_ta
 	&range_unipolar5
 };
 
-static const comedi_lrange *dac_range_lkup(int opt)
+static const struct comedi_lrange *dac_range_lkup(int opt)
 {
 	if (opt < 0 || opt > 5)
 		return &range_unknown;
 	return dac_range_table[opt];
 }
 
-static const comedi_lrange *ai_range_lkup(int type, int opt)
+static const struct comedi_lrange *ai_range_lkup(int type, int opt)
 {
 	switch (type) {
 	case 0:
--- a/drivers/staging/comedi/drivers/dt2811.c
+++ b/drivers/staging/comedi/drivers/dt2811.c
@@ -51,42 +51,42 @@ Configuration options:
 
 static const char *driver_name = "dt2811";
 
-static const comedi_lrange range_dt2811_pgh_ai_5_unipolar = { 4, {
+static const struct comedi_lrange range_dt2811_pgh_ai_5_unipolar = { 4, {
 			RANGE(0, 5),
 			RANGE(0, 2.5),
 			RANGE(0, 1.25),
 			RANGE(0, 0.625)
 	}
 };
-static const comedi_lrange range_dt2811_pgh_ai_2_5_bipolar = { 4, {
+static const struct comedi_lrange range_dt2811_pgh_ai_2_5_bipolar = { 4, {
 			RANGE(-2.5, 2.5),
 			RANGE(-1.25, 1.25),
 			RANGE(-0.625, 0.625),
 			RANGE(-0.3125, 0.3125)
 	}
 };
-static const comedi_lrange range_dt2811_pgh_ai_5_bipolar = { 4, {
+static const struct comedi_lrange range_dt2811_pgh_ai_5_bipolar = { 4, {
 			RANGE(-5, 5),
 			RANGE(-2.5, 2.5),
 			RANGE(-1.25, 1.25),
 			RANGE(-0.625, 0.625)
 	}
 };
-static const comedi_lrange range_dt2811_pgl_ai_5_unipolar = { 4, {
+static const struct comedi_lrange range_dt2811_pgl_ai_5_unipolar = { 4, {
 			RANGE(0, 5),
 			RANGE(0, 0.5),
 			RANGE(0, 0.05),
 			RANGE(0, 0.01)
 	}
 };
-static const comedi_lrange range_dt2811_pgl_ai_2_5_bipolar = { 4, {
+static const struct comedi_lrange range_dt2811_pgl_ai_2_5_bipolar = { 4, {
 			RANGE(-2.5, 2.5),
 			RANGE(-0.25, 0.25),
 			RANGE(-0.025, 0.025),
 			RANGE(-0.005, 0.005)
 	}
 };
-static const comedi_lrange range_dt2811_pgl_ai_5_bipolar = { 4, {
+static const struct comedi_lrange range_dt2811_pgl_ai_5_bipolar = { 4, {
 			RANGE(-5, 5),
 			RANGE(-0.5, 0.5),
 			RANGE(-0.05, 0.05),
@@ -193,9 +193,9 @@ static const comedi_lrange range_dt2811_
 
 typedef struct {
 	const char *name;
-	const comedi_lrange *bip_5;
-	const comedi_lrange *bip_2_5;
-	const comedi_lrange *unip_5;
+	const struct comedi_lrange *bip_5;
+	const struct comedi_lrange *bip_2_5;
+	const struct comedi_lrange *unip_5;
 } boardtype;
 static const boardtype boardtypes[] = {
 	{"dt2811-pgh",
@@ -247,13 +247,13 @@ typedef struct {
 	enum {
 		dac_bipolar_5, dac_bipolar_2_5, dac_unipolar_5
 	} dac_range[2];
-	const comedi_lrange *range_type_list[2];
+	const struct comedi_lrange *range_type_list[2];
 	unsigned int ao_readback[2];
 } dt2811_private;
 
 #define devpriv ((dt2811_private *)dev->private)
 
-static const comedi_lrange *dac_range_types[] = {
+static const struct comedi_lrange *dac_range_types[] = {
 	&range_bipolar5,
 	&range_bipolar2_5,
 	&range_unipolar5
--- a/drivers/staging/comedi/drivers/dt2815.c
+++ b/drivers/staging/comedi/drivers/dt2815.c
@@ -61,11 +61,11 @@ Configuration options:
 #include <linux/ioport.h>
 #include <linux/delay.h>
 
-static const comedi_lrange range_dt2815_ao_32_current = { 1, {
+static const struct comedi_lrange range_dt2815_ao_32_current = { 1, {
 			RANGE_mA(0, 32)
 	}
 };
-static const comedi_lrange range_dt2815_ao_20_current = { 1, {
+static const struct comedi_lrange range_dt2815_ao_20_current = { 1, {
 			RANGE_mA(4, 20)
 	}
 };
@@ -89,7 +89,7 @@ COMEDI_INITCLEANUP(driver_dt2815);
 static void dt2815_free_resources(struct comedi_device * dev);
 
 typedef struct {
-	const comedi_lrange *range_type_list[8];
+	const struct comedi_lrange *range_type_list[8];
 	unsigned int ao_readback[8];
 } dt2815_private;
 
@@ -181,7 +181,7 @@ static int dt2815_attach(struct comedi_d
 {
 	struct comedi_subdevice *s;
 	int i;
-	const comedi_lrange *current_range_type, *voltage_range_type;
+	const struct comedi_lrange *current_range_type, *voltage_range_type;
 	unsigned long iobase;
 
 	iobase = it->options[0];
--- a/drivers/staging/comedi/drivers/dt282x.c
+++ b/drivers/staging/comedi/drivers/dt282x.c
@@ -154,42 +154,42 @@ Notes:
 #define DT2821_XCLK	0x0002	/* (R/W) external clock enable            */
 #define DT2821_BDINIT	0x0001	/* (W)   initialize board         */
 
-static const comedi_lrange range_dt282x_ai_lo_bipolar = { 4, {
+static const struct comedi_lrange range_dt282x_ai_lo_bipolar = { 4, {
 			RANGE(-10, 10),
 			RANGE(-5, 5),
 			RANGE(-2.5, 2.5),
 			RANGE(-1.25, 1.25)
 	}
 };
-static const comedi_lrange range_dt282x_ai_lo_unipolar = { 4, {
+static const struct comedi_lrange range_dt282x_ai_lo_unipolar = { 4, {
 			RANGE(0, 10),
 			RANGE(0, 5),
 			RANGE(0, 2.5),
 			RANGE(0, 1.25)
 	}
 };
-static const comedi_lrange range_dt282x_ai_5_bipolar = { 4, {
+static const struct comedi_lrange range_dt282x_ai_5_bipolar = { 4, {
 			RANGE(-5, 5),
 			RANGE(-2.5, 2.5),
 			RANGE(-1.25, 1.25),
 			RANGE(-0.625, 0.625),
 	}
 };
-static const comedi_lrange range_dt282x_ai_5_unipolar = { 4, {
+static const struct comedi_lrange range_dt282x_ai_5_unipolar = { 4, {
 			RANGE(0, 5),
 			RANGE(0, 2.5),
 			RANGE(0, 1.25),
 			RANGE(0, 0.625),
 	}
 };
-static const comedi_lrange range_dt282x_ai_hi_bipolar = { 4, {
+static const struct comedi_lrange range_dt282x_ai_hi_bipolar = { 4, {
 			RANGE(-10, 10),
 			RANGE(-1, 1),
 			RANGE(-0.1, 0.1),
 			RANGE(-0.02, 0.02)
 	}
 };
-static const comedi_lrange range_dt282x_ai_hi_unipolar = { 4, {
+static const struct comedi_lrange range_dt282x_ai_hi_unipolar = { 4, {
 			RANGE(0, 10),
 			RANGE(0, 1),
 			RANGE(0, 0.1),
@@ -345,7 +345,7 @@ typedef struct {
 	int da0_2scomp;		/* same, for DAC0               */
 	int da1_2scomp;		/* same, for DAC1               */
 
-	const comedi_lrange *darangelist[2];
+	const struct comedi_lrange *darangelist[2];
 
 	short ao[2];
 
@@ -1184,17 +1184,17 @@ static int dt282x_dio_insn_config(struct
 	return 1;
 }
 
-static const comedi_lrange *const ai_range_table[] = {
+static const struct comedi_lrange *const ai_range_table[] = {
 	&range_dt282x_ai_lo_bipolar,
 	&range_dt282x_ai_lo_unipolar,
 	&range_dt282x_ai_5_bipolar,
 	&range_dt282x_ai_5_unipolar
 };
-static const comedi_lrange *const ai_range_pgl_table[] = {
+static const struct comedi_lrange *const ai_range_pgl_table[] = {
 	&range_dt282x_ai_hi_bipolar,
 	&range_dt282x_ai_hi_unipolar
 };
-static const comedi_lrange *opt_ai_range_lkup(int ispgl, int x)
+static const struct comedi_lrange *opt_ai_range_lkup(int ispgl, int x)
 {
 	if (ispgl) {
 		if (x < 0 || x >= 2)
@@ -1206,14 +1206,14 @@ static const comedi_lrange *opt_ai_range
 		return ai_range_table[x];
 	}
 }
-static const comedi_lrange *const ao_range_table[] = {
+static const struct comedi_lrange *const ao_range_table[] = {
 	&range_bipolar10,
 	&range_unipolar10,
 	&range_bipolar5,
 	&range_unipolar5,
 	&range_bipolar2_5
 };
-static const comedi_lrange *opt_ao_range_lkup(int x)
+static const struct comedi_lrange *opt_ao_range_lkup(int x)
 {
 	if (x < 0 || x >= 5)
 		x = 0;
--- a/drivers/staging/comedi/drivers/dt3000.c
+++ b/drivers/staging/comedi/drivers/dt3000.c
@@ -66,14 +66,14 @@ AO commands are not supported.
 
 #define PCI_VENDOR_ID_DT	0x1116
 
-static const comedi_lrange range_dt3000_ai = { 4, {
+static const struct comedi_lrange range_dt3000_ai = { 4, {
 			RANGE(-10, 10),
 			RANGE(-5, 5),
 			RANGE(-2.5, 2.5),
 			RANGE(-1.25, 1.25)
 	}
 };
-static const comedi_lrange range_dt3000_ai_pgl = { 4, {
+static const struct comedi_lrange range_dt3000_ai_pgl = { 4, {
 			RANGE(-10, 10),
 			RANGE(-1, 1),
 			RANGE(-0.1, 0.1),
@@ -87,7 +87,7 @@ typedef struct {
 	int adchan;
 	int adbits;
 	int ai_speed;
-	const comedi_lrange *adrange;
+	const struct comedi_lrange *adrange;
 	int dachan;
 	int dabits;
 } dt3k_boardtype;
--- a/drivers/staging/comedi/drivers/dt9812.c
+++ b/drivers/staging/comedi/drivers/dt9812.c
@@ -300,22 +300,22 @@ struct slot_dt9812 {
 	struct comedi_dt9812 *comedi;
 };
 
-static const comedi_lrange dt9812_10_ain_range = { 1, {
+static const struct comedi_lrange dt9812_10_ain_range = { 1, {
 			BIP_RANGE(10),
 	}
 };
 
-static const comedi_lrange dt9812_2pt5_ain_range = { 1, {
+static const struct comedi_lrange dt9812_2pt5_ain_range = { 1, {
 			UNI_RANGE(2.5),
 	}
 };
 
-static const comedi_lrange dt9812_10_aout_range = { 1, {
+static const struct comedi_lrange dt9812_10_aout_range = { 1, {
 			BIP_RANGE(10),
 	}
 };
 
-static const comedi_lrange dt9812_2pt5_aout_range = { 1, {
+static const struct comedi_lrange dt9812_2pt5_aout_range = { 1, {
 			UNI_RANGE(2.5),
 	}
 };
--- a/drivers/staging/comedi/drivers/fl512.c
+++ b/drivers/staging/comedi/drivers/fl512.c
@@ -29,7 +29,7 @@ typedef struct {
 } fl512_private;
 #define devpriv ((fl512_private *) dev->private)
 
-static const comedi_lrange range_fl512 = { 4, {
+static const struct comedi_lrange range_fl512 = { 4, {
 			BIP_RANGE(0.5),
 			BIP_RANGE(1),
 			BIP_RANGE(5),
--- a/drivers/staging/comedi/drivers/icp_multi.c
+++ b/drivers/staging/comedi/drivers/icp_multi.c
@@ -108,7 +108,7 @@ Options:
 #define	Status_IRQ	0x00ff	/*  All interrupts */
 
 /*  Define analogue range */
-static const comedi_lrange range_analog = { 4, {
+static const struct comedi_lrange range_analog = { 4, {
 			UNI_RANGE(5),
 			UNI_RANGE(10),
 			BIP_RANGE(5),
@@ -147,9 +147,9 @@ struct boardtype {
 	int n_ctrs;		/*  num of counters */
 	int ai_maxdata;		/*  resolution of A/D */
 	int ao_maxdata;		/*  resolution of D/A */
-	const comedi_lrange *rangelist_ai;	/*  rangelist for A/D */
+	const struct comedi_lrange *rangelist_ai;	/*  rangelist for A/D */
 	const char *rangecode;	/*  range codes for programming */
-	const comedi_lrange *rangelist_ao;	/*  rangelist for D/A */
+	const struct comedi_lrange *rangelist_ao;	/*  rangelist for D/A */
 };
 
 static const struct boardtype boardtypes[] = {
--- a/drivers/staging/comedi/drivers/ii_pci20kc.c
+++ b/drivers/staging/comedi/drivers/ii_pci20kc.c
@@ -137,7 +137,7 @@ typedef union {
 	void *iobase;
 	struct {
 		void *iobase;
-		const comedi_lrange *ao_range_list[2];	/* range of channels of ao module */
+		const struct comedi_lrange *ao_range_list[2];	/* range of channels of ao module */
 		unsigned int last_data[2];
 	} pci20006;
 	struct {
@@ -275,7 +275,7 @@ static int pci20006_insn_read(struct com
 static int pci20006_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static const comedi_lrange *pci20006_range_list[] = {
+static const struct comedi_lrange *pci20006_range_list[] = {
 	&range_bipolar10,
 	&range_unipolar10,
 	&range_bipolar5,
@@ -355,11 +355,11 @@ static int pci20341_insn_read(struct com
 static const int pci20341_timebase[] = { 0x00, 0x00, 0x00, 0x04 };
 static const int pci20341_settling_time[] = { 0x58, 0x58, 0x93, 0x99 };
 
-static const comedi_lrange range_bipolar0_5 = { 1, {BIP_RANGE(0.5)} };
-static const comedi_lrange range_bipolar0_05 = { 1, {BIP_RANGE(0.05)} };
-static const comedi_lrange range_bipolar0_025 = { 1, {BIP_RANGE(0.025)} };
+static const struct comedi_lrange range_bipolar0_5 = { 1, {BIP_RANGE(0.5)} };
+static const struct comedi_lrange range_bipolar0_05 = { 1, {BIP_RANGE(0.05)} };
+static const struct comedi_lrange range_bipolar0_025 = { 1, {BIP_RANGE(0.025)} };
 
-static const comedi_lrange *const pci20341_ranges[] = {
+static const struct comedi_lrange *const pci20341_ranges[] = {
 	&range_bipolar5,
 	&range_bipolar0_5,
 	&range_bipolar0_05,
--- a/drivers/staging/comedi/drivers/jr3_pci.c
+++ b/drivers/staging/comedi/drivers/jr3_pci.c
@@ -158,7 +158,7 @@ typedef struct {
 		int length;
 		comedi_krange range;
 	} range[9];
-	const comedi_lrange *range_table_list[8 * 7 + 2];
+	const struct comedi_lrange *range_table_list[8 * 7 + 2];
 	unsigned int maxdata_list[8 * 7 + 2];
 	u16 errors;
 	int retries;
@@ -877,7 +877,7 @@ static int jr3_pci_attach(struct comedi_
 				p->range[j].range.max = 1000000;
 				for (k = 0; k < 7; k++) {
 					p->range_table_list[j + k * 8] =
-						(comedi_lrange *) & p->range[j];
+						(struct comedi_lrange *) & p->range[j];
 					p->maxdata_list[j + k * 8] = 0x7fff;
 				}
 			}
@@ -886,9 +886,9 @@ static int jr3_pci_attach(struct comedi_
 			p->range[8].range.max = 65536;
 
 			p->range_table_list[56] =
-				(comedi_lrange *) & p->range[8];
+				(struct comedi_lrange *) & p->range[8];
 			p->range_table_list[57] =
-				(comedi_lrange *) & p->range[8];
+				(struct comedi_lrange *) & p->range[8];
 			p->maxdata_list[56] = 0xffff;
 			p->maxdata_list[57] = 0xffff;
 			// Channel specific range and maxdata
--- a/drivers/staging/comedi/drivers/me4000.c
+++ b/drivers/staging/comedi/drivers/me4000.c
@@ -230,7 +230,7 @@ static inline unsigned char me4000_inb(s
 	return value;
 }
 
-static const comedi_lrange me4000_ai_range = {
+static const struct comedi_lrange me4000_ai_range = {
 	4,
 	{
 			UNI_RANGE(2.5),
@@ -240,7 +240,7 @@ static const comedi_lrange me4000_ai_ran
 		}
 };
 
-static const comedi_lrange me4000_ao_range = {
+static const struct comedi_lrange me4000_ao_range = {
 	1,
 	{
 			BIP_RANGE(10),
--- a/drivers/staging/comedi/drivers/me_daq.c
+++ b/drivers/staging/comedi/drivers/me_daq.c
@@ -147,7 +147,7 @@ from http://www.comedi.org
 static int me_attach(struct comedi_device *dev, comedi_devconfig *it);
 static int me_detach(struct comedi_device *dev);
 
-static const comedi_lrange me2000_ai_range = {
+static const struct comedi_lrange me2000_ai_range = {
 	8,
 	{
 		BIP_RANGE(10),
@@ -161,7 +161,7 @@ static const comedi_lrange me2000_ai_ran
 	}
 };
 
-static const comedi_lrange me2600_ai_range = {
+static const struct comedi_lrange me2600_ai_range = {
 	8,
 	{
 			BIP_RANGE(10),
@@ -175,7 +175,7 @@ static const comedi_lrange me2600_ai_ran
 		}
 };
 
-static const comedi_lrange me2600_ao_range = {
+static const struct comedi_lrange me2600_ao_range = {
 	3,
 	{
 			BIP_RANGE(10),
@@ -201,11 +201,11 @@ struct me_board {
 	int ao_channel_nbr;	/* DA config */
 	int ao_resolution;
 	int ao_resolution_mask;
-	const comedi_lrange *ao_range_list;
+	const struct comedi_lrange *ao_range_list;
 	int ai_channel_nbr;	/* AD config */
 	int ai_resolution;
 	int ai_resolution_mask;
-	const comedi_lrange *ai_range_list;
+	const struct comedi_lrange *ai_range_list;
 	int dio_channel_nbr;	/* DIO config */
 };
 
--- a/drivers/staging/comedi/drivers/mpc624.c
+++ b/drivers/staging/comedi/drivers/mpc624.c
@@ -126,7 +126,7 @@ typedef struct {
 
 #define devpriv ((skel_private *)dev->private)
 //----------------------------------------------------------------------------
-static const comedi_lrange range_mpc624_bipolar1 = {
+static const struct comedi_lrange range_mpc624_bipolar1 = {
 	1,
 	{
 //    BIP_RANGE(1.01) // this is correct,
@@ -134,7 +134,7 @@ static const comedi_lrange range_mpc624_
 			BIP_RANGE(2.02)
 		}
 };
-static const comedi_lrange range_mpc624_bipolar10 = {
+static const struct comedi_lrange range_mpc624_bipolar10 = {
 	1,
 	{
 //    BIP_RANGE(10.1) // this is correct,
--- a/drivers/staging/comedi/drivers/ni_670x.c
+++ b/drivers/staging/comedi/drivers/ni_670x.c
@@ -120,7 +120,7 @@ static struct comedi_driver driver_ni_67
 
 COMEDI_PCI_INITCLEANUP(driver_ni_670x, ni_670x_pci_table);
 
-static comedi_lrange range_0_20mA = { 1, {RANGE_mA(0, 20)} };
+static struct comedi_lrange range_0_20mA = { 1, {RANGE_mA(0, 20)} };
 
 static int ni_670x_find_device(struct comedi_device * dev, int bus, int slot);
 
@@ -167,9 +167,9 @@ static int ni_670x_attach(struct comedi_
 	s->n_chan = thisboard->ao_chans;
 	s->maxdata = 0xffff;
 	if (s->n_chan == 32) {
-		const comedi_lrange **range_table_list;
+		const struct comedi_lrange **range_table_list;
 
-		range_table_list = kmalloc(sizeof(comedi_lrange *) * 32,
+		range_table_list = kmalloc(sizeof(struct comedi_lrange *) * 32,
 			GFP_KERNEL);
 		if (!range_table_list)
 			return -ENOMEM;
--- a/drivers/staging/comedi/drivers/ni_at_a2150.c
+++ b/drivers/staging/comedi/drivers/ni_at_a2150.c
@@ -127,7 +127,7 @@ typedef struct a2150_board_struct {
 } a2150_board;
 
 //analog input range
-static const comedi_lrange range_a2150 = {
+static const struct comedi_lrange range_a2150 = {
 	1,
 	{
 			RANGE(-2.828, 2.828),
--- a/drivers/staging/comedi/drivers/ni_atmio16d.c
+++ b/drivers/staging/comedi/drivers/ni_atmio16d.c
@@ -147,7 +147,7 @@ static struct comedi_driver driver_atmio
 COMEDI_INITCLEANUP(driver_atmio16d);
 
 /* range structs */
-static const comedi_lrange range_atmio16d_ai_10_bipolar = { 4, {
+static const struct comedi_lrange range_atmio16d_ai_10_bipolar = { 4, {
 			BIP_RANGE(10),
 			BIP_RANGE(1),
 			BIP_RANGE(0.1),
@@ -155,7 +155,7 @@ static const comedi_lrange range_atmio16
 	}
 };
 
-static const comedi_lrange range_atmio16d_ai_5_bipolar = { 4, {
+static const struct comedi_lrange range_atmio16d_ai_5_bipolar = { 4, {
 			BIP_RANGE(5),
 			BIP_RANGE(0.5),
 			BIP_RANGE(0.05),
@@ -163,7 +163,7 @@ static const comedi_lrange range_atmio16
 	}
 };
 
-static const comedi_lrange range_atmio16d_ai_unipolar = { 4, {
+static const struct comedi_lrange range_atmio16d_ai_unipolar = { 4, {
 			UNI_RANGE(10),
 			UNI_RANGE(1),
 			UNI_RANGE(0.1),
@@ -179,7 +179,7 @@ typedef struct {
 	enum { dac_bipolar, dac_unipolar } dac0_range, dac1_range;
 	enum { dac_internal, dac_external } dac0_reference, dac1_reference;
 	enum { dac_2comp, dac_straight } dac0_coding, dac1_coding;
-	const comedi_lrange *ao_range_type_list[2];
+	const struct comedi_lrange *ao_range_type_list[2];
 	unsigned int ao_readback[2];
 	unsigned int com_reg_1_state;	/* current state of command register 1 */
 	unsigned int com_reg_2_state;	/* current state of command register 2 */
--- a/drivers/staging/comedi/drivers/ni_labpc.c
+++ b/drivers/staging/comedi/drivers/ni_labpc.c
@@ -253,7 +253,7 @@ static const int labpc_plus_ai_gain_bits
 	0x60,
 	0x70,
 };
-static const comedi_lrange range_labpc_plus_ai = {
+static const struct comedi_lrange range_labpc_plus_ai = {
 	NUM_LABPC_PLUS_AI_RANGES,
 	{
 			BIP_RANGE(5),
@@ -311,7 +311,7 @@ const int labpc_1200_ai_gain_bits[NUM_LA
 	0x60,
 	0x70,
 };
-const comedi_lrange range_labpc_1200_ai = {
+const struct comedi_lrange range_labpc_1200_ai = {
 	NUM_LABPC_1200_AI_RANGES,
 	{
 			BIP_RANGE(5),
@@ -333,7 +333,7 @@ const comedi_lrange range_labpc_1200_ai 
 
 //analog output ranges
 #define AO_RANGE_IS_UNIPOLAR 0x1
-static const comedi_lrange range_labpc_ao = {
+static const struct comedi_lrange range_labpc_ao = {
 	2,
 	{
 			BIP_RANGE(5),
--- a/drivers/staging/comedi/drivers/ni_labpc.h
+++ b/drivers/staging/comedi/drivers/ni_labpc.h
@@ -39,7 +39,7 @@ typedef struct labpc_board_struct {
 	enum labpc_bustype bustype;	// ISA/PCI/etc.
 	enum labpc_register_layout register_layout;	// 1200 has extra registers compared to pc+
 	int has_ao;		// has analog output true/false
-	const comedi_lrange *ai_range_table;
+	const struct comedi_lrange *ai_range_table;
 	const int *ai_range_code;
 	const int *ai_range_is_unipolar;
 	unsigned ai_scan_up:1;	// board can auto scan up in ai channels, not just down
@@ -80,6 +80,6 @@ int labpc_common_detach(struct comedi_de
 
 extern const int labpc_1200_is_unipolar[];
 extern const int labpc_1200_ai_gain_bits[];
-extern const comedi_lrange range_labpc_1200_ai;
+extern const struct comedi_lrange range_labpc_1200_ai;
 
 #endif /* _NI_LABPC_H */
--- a/drivers/staging/comedi/drivers/ni_mio_common.c
+++ b/drivers/staging/comedi/drivers/ni_mio_common.c
@@ -88,7 +88,7 @@ static const short ni_gainlkup[][16] = {
 	[ai_gain_6143] = {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00},
 };
 
-static const comedi_lrange range_ni_E_ai = { 16, {
+static const struct comedi_lrange range_ni_E_ai = { 16, {
 			RANGE(-10, 10),
 			RANGE(-5, 5),
 			RANGE(-2.5, 2.5),
@@ -107,7 +107,7 @@ static const comedi_lrange range_ni_E_ai
 			RANGE(0, 0.1),
 	}
 };
-static const comedi_lrange range_ni_E_ai_limited = { 8, {
+static const struct comedi_lrange range_ni_E_ai_limited = { 8, {
 			RANGE(-10, 10),
 			RANGE(-5, 5),
 			RANGE(-1, 1),
@@ -118,7 +118,7 @@ static const comedi_lrange range_ni_E_ai
 			RANGE(0, 0.1),
 	}
 };
-static const comedi_lrange range_ni_E_ai_limited14 = { 14, {
+static const struct comedi_lrange range_ni_E_ai_limited14 = { 14, {
 			RANGE(-10, 10),
 			RANGE(-5, 5),
 			RANGE(-2, 2),
@@ -135,14 +135,14 @@ static const comedi_lrange range_ni_E_ai
 			RANGE(0, 0.1),
 	}
 };
-static const comedi_lrange range_ni_E_ai_bipolar4 = { 4, {
+static const struct comedi_lrange range_ni_E_ai_bipolar4 = { 4, {
 			RANGE(-10, 10),
 			RANGE(-5, 5),
 			RANGE(-0.5, 0.5),
 			RANGE(-0.05, 0.05),
 	}
 };
-static const comedi_lrange range_ni_E_ai_611x = { 8, {
+static const struct comedi_lrange range_ni_E_ai_611x = { 8, {
 			RANGE(-50, 50),
 			RANGE(-20, 20),
 			RANGE(-10, 10),
@@ -153,14 +153,14 @@ static const comedi_lrange range_ni_E_ai
 			RANGE(-0.2, 0.2),
 	}
 };
-static const comedi_lrange range_ni_M_ai_622x = { 4, {
+static const struct comedi_lrange range_ni_M_ai_622x = { 4, {
 			RANGE(-10, 10),
 			RANGE(-5, 5),
 			RANGE(-1, 1),
 			RANGE(-0.2, 0.2),
 	}
 };
-static const comedi_lrange range_ni_M_ai_628x = { 7, {
+static const struct comedi_lrange range_ni_M_ai_628x = { 7, {
 			RANGE(-10, 10),
 			RANGE(-5, 5),
 			RANGE(-2, 2),
@@ -170,11 +170,11 @@ static const comedi_lrange range_ni_M_ai
 			RANGE(-0.1, 0.1),
 	}
 };
-static const comedi_lrange range_ni_S_ai_6143 = { 1, {
+static const struct comedi_lrange range_ni_S_ai_6143 = { 1, {
 			RANGE(-5, +5),
 	}
 };
-static const comedi_lrange range_ni_E_ao_ext = { 4, {
+static const struct comedi_lrange range_ni_E_ao_ext = { 4, {
 			RANGE(-10, 10),
 			RANGE(0, 10),
 			RANGE_ext(-1, 1),
@@ -182,7 +182,7 @@ static const comedi_lrange range_ni_E_ao
 	}
 };
 
-static const comedi_lrange *const ni_range_lkup[] = {
+static const struct comedi_lrange *const ni_range_lkup[] = {
 	[ai_gain_16] = &range_ni_E_ai,
 	[ai_gain_8] = &range_ni_E_ai_limited,
 	[ai_gain_14] = &range_ni_E_ai_limited14,
--- a/drivers/staging/comedi/drivers/ni_pcimio.c
+++ b/drivers/staging/comedi/drivers/ni_pcimio.c
@@ -193,7 +193,7 @@ MODULE_DEVICE_TABLE(pci, ni_pci_table);
  63 different possibilities.  An AO channel
  can not act as it's own OFFSET or REFERENCE.
 */
-static const comedi_lrange range_ni_M_628x_ao = { 8, {
+static const struct comedi_lrange range_ni_M_628x_ao = { 8, {
 			RANGE(-10, 10),
 			RANGE(-5, 5),
 			RANGE(-2, 2),
@@ -205,13 +205,13 @@ static const comedi_lrange range_ni_M_62
 			RANGE_ext(-1, 1)
 	}
 };
-static const comedi_lrange range_ni_M_625x_ao = { 3, {
+static const struct comedi_lrange range_ni_M_625x_ao = { 3, {
 			RANGE(-10, 10),
 			RANGE(-5, 5),
 			RANGE_ext(-1, 1)
 	}
 };
-static const comedi_lrange range_ni_M_622x_ao = { 1, {
+static const struct comedi_lrange range_ni_M_622x_ao = { 1, {
 			RANGE(-10, 10),
 	}
 };
--- a/drivers/staging/comedi/drivers/ni_stc.h
+++ b/drivers/staging/comedi/drivers/ni_stc.h
@@ -917,7 +917,7 @@ enum ni_reg_type {
 	ni_reg_6143 = 0x20
 };
 
-static const comedi_lrange range_ni_E_ao_ext;
+static const struct comedi_lrange range_ni_E_ao_ext;
 
 enum m_series_register_offsets {
 	M_Offset_CDIO_DMA_Select = 0x7,	// write
@@ -1390,7 +1390,7 @@ typedef struct ni_board_struct {
 	int n_aochan;
 	int aobits;
 	int ao_fifo_depth;
-	const comedi_lrange *ao_range_table;
+	const struct comedi_lrange *ao_range_table;
 	unsigned ao_speed;
 
 	unsigned num_p0_dio_channels;
--- a/drivers/staging/comedi/drivers/pcl711.c
+++ b/drivers/staging/comedi/drivers/pcl711.c
@@ -87,7 +87,7 @@ supported.
 #define PCL711_DO_LO 13
 #define PCL711_DO_HI 14
 
-static const comedi_lrange range_pcl711b_ai = { 5, {
+static const struct comedi_lrange range_pcl711b_ai = { 5, {
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
 			BIP_RANGE(1.25),
@@ -95,7 +95,7 @@ static const comedi_lrange range_pcl711b
 			BIP_RANGE(0.3125)
 	}
 };
-static const comedi_lrange range_acl8112hg_ai = { 12, {
+static const struct comedi_lrange range_acl8112hg_ai = { 12, {
 			BIP_RANGE(5),
 			BIP_RANGE(0.5),
 			BIP_RANGE(0.05),
@@ -110,7 +110,7 @@ static const comedi_lrange range_acl8112
 			BIP_RANGE(0.01)
 	}
 };
-static const comedi_lrange range_acl8112dg_ai = { 9, {
+static const struct comedi_lrange range_acl8112dg_ai = { 9, {
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
 			BIP_RANGE(1.25),
@@ -141,7 +141,7 @@ typedef struct {
 	int n_aichan;
 	int n_aochan;
 	int maxirq;
-	const comedi_lrange *ai_range_type;
+	const struct comedi_lrange *ai_range_type;
 } boardtype;
 
 static const boardtype boardtypes[] = {
--- a/drivers/staging/comedi/drivers/pcl726.c
+++ b/drivers/staging/comedi/drivers/pcl726.c
@@ -90,22 +90,22 @@ Interrupts are not supported.
 #define PCL727_DI_HI  0
 #define PCL727_DI_LO  1
 
-static const comedi_lrange range_4_20mA = { 1, {RANGE_mA(4, 20)} };
-static const comedi_lrange range_0_20mA = { 1, {RANGE_mA(0, 20)} };
+static const struct comedi_lrange range_4_20mA = { 1, {RANGE_mA(4, 20)} };
+static const struct comedi_lrange range_0_20mA = { 1, {RANGE_mA(0, 20)} };
 
-static const comedi_lrange *const rangelist_726[] = {
+static const struct comedi_lrange *const rangelist_726[] = {
 	&range_unipolar5, &range_unipolar10,
 	&range_bipolar5, &range_bipolar10,
 	&range_4_20mA, &range_unknown
 };
 
-static const comedi_lrange *const rangelist_727[] = {
+static const struct comedi_lrange *const rangelist_727[] = {
 	&range_unipolar5, &range_unipolar10,
 	&range_bipolar5,
 	&range_4_20mA
 };
 
-static const comedi_lrange *const rangelist_728[] = {
+static const struct comedi_lrange *const rangelist_728[] = {
 	&range_unipolar5, &range_unipolar10,
 	&range_bipolar5, &range_bipolar10,
 	&range_4_20mA, &range_0_20mA
@@ -125,7 +125,7 @@ typedef struct {
 	int di_lo;
 	int do_hi;
 	int do_lo;
-	const comedi_lrange *const *range_type_list;	// list of supported ranges
+	const struct comedi_lrange *const *range_type_list;	// list of supported ranges
 } boardtype;
 
 static const boardtype boardtypes[] = {
@@ -163,7 +163,7 @@ COMEDI_INITCLEANUP(driver_pcl726);
 
 typedef struct {
 	int bipolar[12];
-	const comedi_lrange *rangelist[12];
+	const struct comedi_lrange *rangelist[12];
 	unsigned int ao_readback[12];
 } pcl726_private;
 #define devpriv ((pcl726_private *)dev->private)
--- a/drivers/staging/comedi/drivers/pcl812.c
+++ b/drivers/staging/comedi/drivers/pcl812.c
@@ -159,7 +159,7 @@ Options for ACL-8113, ISO-813:
 
 #define MAX_CHANLIST_LEN	256	/* length of scan list */
 
-static const comedi_lrange range_pcl812pg_ai = { 5, {
+static const struct comedi_lrange range_pcl812pg_ai = { 5, {
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
 			BIP_RANGE(1.25),
@@ -167,7 +167,7 @@ static const comedi_lrange range_pcl812p
 			BIP_RANGE(0.3125),
 	}
 };
-static const comedi_lrange range_pcl812pg2_ai = { 5, {
+static const struct comedi_lrange range_pcl812pg2_ai = { 5, {
 			BIP_RANGE(10),
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
@@ -175,33 +175,33 @@ static const comedi_lrange range_pcl812p
 			BIP_RANGE(0.625),
 	}
 };
-static const comedi_lrange range812_bipolar1_25 = { 1, {
+static const struct comedi_lrange range812_bipolar1_25 = { 1, {
 			BIP_RANGE(1.25),
 	}
 };
-static const comedi_lrange range812_bipolar0_625 = { 1, {
+static const struct comedi_lrange range812_bipolar0_625 = { 1, {
 			BIP_RANGE(0.625),
 	}
 };
-static const comedi_lrange range812_bipolar0_3125 = { 1, {
+static const struct comedi_lrange range812_bipolar0_3125 = { 1, {
 			BIP_RANGE(0.3125),
 	}
 };
-static const comedi_lrange range_pcl813b_ai = { 4, {
+static const struct comedi_lrange range_pcl813b_ai = { 4, {
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
 			BIP_RANGE(1.25),
 			BIP_RANGE(0.625),
 	}
 };
-static const comedi_lrange range_pcl813b2_ai = { 4, {
+static const struct comedi_lrange range_pcl813b2_ai = { 4, {
 			UNI_RANGE(10),
 			UNI_RANGE(5),
 			UNI_RANGE(2.5),
 			UNI_RANGE(1.25),
 	}
 };
-static const comedi_lrange range_iso813_1_ai = { 5, {
+static const struct comedi_lrange range_iso813_1_ai = { 5, {
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
 			BIP_RANGE(1.25),
@@ -209,7 +209,7 @@ static const comedi_lrange range_iso813_
 			BIP_RANGE(0.3125),
 	}
 };
-static const comedi_lrange range_iso813_1_2_ai = { 5, {
+static const struct comedi_lrange range_iso813_1_2_ai = { 5, {
 			UNI_RANGE(10),
 			UNI_RANGE(5),
 			UNI_RANGE(2.5),
@@ -217,47 +217,47 @@ static const comedi_lrange range_iso813_
 			UNI_RANGE(0.625),
 	}
 };
-static const comedi_lrange range_iso813_2_ai = { 4, {
+static const struct comedi_lrange range_iso813_2_ai = { 4, {
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
 			BIP_RANGE(1.25),
 			BIP_RANGE(0.625),
 	}
 };
-static const comedi_lrange range_iso813_2_2_ai = { 4, {
+static const struct comedi_lrange range_iso813_2_2_ai = { 4, {
 			UNI_RANGE(10),
 			UNI_RANGE(5),
 			UNI_RANGE(2.5),
 			UNI_RANGE(1.25),
 	}
 };
-static const comedi_lrange range_acl8113_1_ai = { 4, {
+static const struct comedi_lrange range_acl8113_1_ai = { 4, {
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
 			BIP_RANGE(1.25),
 			BIP_RANGE(0.625),
 	}
 };
-static const comedi_lrange range_acl8113_1_2_ai = { 4, {
+static const struct comedi_lrange range_acl8113_1_2_ai = { 4, {
 			UNI_RANGE(10),
 			UNI_RANGE(5),
 			UNI_RANGE(2.5),
 			UNI_RANGE(1.25),
 	}
 };
-static const comedi_lrange range_acl8113_2_ai = { 3, {
+static const struct comedi_lrange range_acl8113_2_ai = { 3, {
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
 			BIP_RANGE(1.25),
 	}
 };
-static const comedi_lrange range_acl8113_2_2_ai = { 3, {
+static const struct comedi_lrange range_acl8113_2_2_ai = { 3, {
 			UNI_RANGE(10),
 			UNI_RANGE(5),
 			UNI_RANGE(2.5),
 	}
 };
-static const comedi_lrange range_acl8112dg_ai = { 9, {
+static const struct comedi_lrange range_acl8112dg_ai = { 9, {
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
 			BIP_RANGE(1.25),
@@ -269,7 +269,7 @@ static const comedi_lrange range_acl8112
 			BIP_RANGE(10),
 	}
 };
-static const comedi_lrange range_acl8112hg_ai = { 12, {
+static const struct comedi_lrange range_acl8112hg_ai = { 12, {
 			BIP_RANGE(5),
 			BIP_RANGE(0.5),
 			BIP_RANGE(0.05),
@@ -284,7 +284,7 @@ static const comedi_lrange range_acl8112
 			BIP_RANGE(0.01),
 	}
 };
-static const comedi_lrange range_a821pgh_ai = { 4, {
+static const struct comedi_lrange range_a821pgh_ai = { 4, {
 			BIP_RANGE(5),
 			BIP_RANGE(0.5),
 			BIP_RANGE(0.05),
@@ -306,8 +306,8 @@ typedef struct {
 	int ai_maxdata;		// AI resolution
 	unsigned int ai_ns_min;	// max sample speed of card v ns
 	unsigned int i8254_osc_base;	// clock base
-	const comedi_lrange *rangelist_ai;	// rangelist for A/D
-	const comedi_lrange *rangelist_ao;	// rangelist for D/A
+	const struct comedi_lrange *rangelist_ai;	// rangelist for A/D
+	const struct comedi_lrange *rangelist_ao;	// rangelist for D/A
 	unsigned int IRQbits;	// allowed IRQ
 	unsigned char DMAbits;	// allowed DMA chans
 	unsigned char io_range;	// iorange for this board
--- a/drivers/staging/comedi/drivers/pcl816.c
+++ b/drivers/staging/comedi/drivers/pcl816.c
@@ -90,7 +90,7 @@ Configuration Options:
 
 #define MAGIC_DMA_WORD 0x5a5a
 
-static const comedi_lrange range_pcl816 = { 8, {
+static const struct comedi_lrange range_pcl816 = { 8, {
 			BIP_RANGE(10),
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
@@ -109,8 +109,8 @@ typedef struct {
 	int n_aochan;		// num of D/A chans
 	int n_dichan;		// num of DI chans
 	int n_dochan;		// num of DO chans
-	const comedi_lrange *ai_range_type;	// default A/D rangelist
-	const comedi_lrange *ao_range_type;	// dafault D/A rangelist
+	const struct comedi_lrange *ai_range_type;	// default A/D rangelist
+	const struct comedi_lrange *ao_range_type;	// dafault D/A rangelist
 	unsigned int io_range;	// len of IO space
 	unsigned int IRQbits;	// allowed interrupts
 	unsigned int DMAbits;	// allowed DMA chans
--- a/drivers/staging/comedi/drivers/pcl818.c
+++ b/drivers/staging/comedi/drivers/pcl818.c
@@ -194,7 +194,7 @@ A word or two about DMA. Driver support 
 
 #define MAGIC_DMA_WORD 0x5a5a
 
-static const comedi_lrange range_pcl818h_ai = { 9, {
+static const struct comedi_lrange range_pcl818h_ai = { 9, {
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
 			BIP_RANGE(1.25),
@@ -207,7 +207,7 @@ static const comedi_lrange range_pcl818h
 	}
 };
 
-static const comedi_lrange range_pcl818hg_ai = { 10, {
+static const struct comedi_lrange range_pcl818hg_ai = { 10, {
 			BIP_RANGE(5),
 			BIP_RANGE(0.5),
 			BIP_RANGE(0.05),
@@ -223,7 +223,7 @@ static const comedi_lrange range_pcl818h
 	}
 };
 
-static const comedi_lrange range_pcl818l_l_ai = { 4, {
+static const struct comedi_lrange range_pcl818l_l_ai = { 4, {
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
 			BIP_RANGE(1.25),
@@ -231,7 +231,7 @@ static const comedi_lrange range_pcl818l
 	}
 };
 
-static const comedi_lrange range_pcl818l_h_ai = { 4, {
+static const struct comedi_lrange range_pcl818l_h_ai = { 4, {
 			BIP_RANGE(10),
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
@@ -239,10 +239,10 @@ static const comedi_lrange range_pcl818l
 	}
 };
 
-static const comedi_lrange range718_bipolar1 = { 1, {BIP_RANGE(1),} };
-static const comedi_lrange range718_bipolar0_5 = { 1, {BIP_RANGE(0.5),} };
-static const comedi_lrange range718_unipolar2 = { 1, {UNI_RANGE(2),} };
-static const comedi_lrange range718_unipolar1 = { 1, {BIP_RANGE(1),} };
+static const struct comedi_lrange range718_bipolar1 = { 1, {BIP_RANGE(1),} };
+static const struct comedi_lrange range718_bipolar0_5 = { 1, {BIP_RANGE(0.5),} };
+static const struct comedi_lrange range718_unipolar2 = { 1, {UNI_RANGE(2),} };
+static const struct comedi_lrange range718_unipolar1 = { 1, {BIP_RANGE(1),} };
 
 static int pcl818_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int pcl818_detach(struct comedi_device * dev);
@@ -261,8 +261,8 @@ typedef struct {
 	int n_aochan;		// num of D/A chans
 	int n_dichan;		// num of DI chans
 	int n_dochan;		// num of DO chans
-	const comedi_lrange *ai_range_type;	// default A/D rangelist
-	const comedi_lrange *ao_range_type;	// default D/A rangelist
+	const struct comedi_lrange *ai_range_type;	// default A/D rangelist
+	const struct comedi_lrange *ao_range_type;	// default D/A rangelist
 	unsigned int io_range;	// len of IO space
 	unsigned int IRQbits;	// allowed interrupts
 	unsigned int DMAbits;	// allowed DMA chans
--- a/drivers/staging/comedi/drivers/pcmda12.c
+++ b/drivers/staging/comedi/drivers/pcmda12.c
@@ -74,7 +74,7 @@ typedef struct pcmda12_board_struct {
 
 /* note these have no effect and are merely here for reference..
    these are configured by jumpering the board! */
-static const comedi_lrange pcmda12_ranges = {
+static const struct comedi_lrange pcmda12_ranges = {
 	3,
 	{
 			UNI_RANGE(5), UNI_RANGE(10), BIP_RANGE(5)
--- a/drivers/staging/comedi/drivers/pcmmio.c
+++ b/drivers/staging/comedi/drivers/pcmmio.c
@@ -163,16 +163,16 @@ typedef struct pcmmio_board_struct {
 	const int ao_bits;
 	const int n_ai_chans;
 	const int n_ao_chans;
-	const comedi_lrange *ai_range_table, *ao_range_table;
+	const struct comedi_lrange *ai_range_table, *ao_range_table;
 	comedi_insn_fn_t ai_rinsn, ao_rinsn, ao_winsn;
 } pcmmio_board;
 
-static const comedi_lrange ranges_ai =
+static const struct comedi_lrange ranges_ai =
 	{ 4, {RANGE(-5., 5.), RANGE(-10., 10.), RANGE(0., 5.), RANGE(0.,
 		10.)}
 };
 
-static const comedi_lrange ranges_ao =
+static const struct comedi_lrange ranges_ao =
 	{ 6, {RANGE(0., 5.), RANGE(0., 10.), RANGE(-5., 5.), RANGE(-10., 10.),
 	RANGE(-2.5, 2.5), RANGE(-2.5, 7.5)}
 };
--- a/drivers/staging/comedi/drivers/poc.c
+++ b/drivers/staging/comedi/drivers/poc.c
@@ -66,7 +66,7 @@ struct boarddef_struct {
 		unsigned int *);
 	int (*insnbits) (struct comedi_device *, struct comedi_subdevice *, comedi_insn *,
 		unsigned int *);
-	const comedi_lrange *range;
+	const struct comedi_lrange *range;
 };
 static const struct boarddef_struct boards[] = {
 	{
--- a/drivers/staging/comedi/drivers/quatech_daqp_cs.c
+++ b/drivers/staging/comedi/drivers/quatech_daqp_cs.c
@@ -183,7 +183,7 @@ static local_info_t *dev_table[MAX_DEV] 
  * +/- 1.25V, and the D/A converter has only one: +/- 5V.
  */
 
-static const comedi_lrange range_daqp_ai = { 4, {
+static const struct comedi_lrange range_daqp_ai = { 4, {
 			BIP_RANGE(10),
 			BIP_RANGE(5),
 			BIP_RANGE(2.5),
@@ -191,7 +191,7 @@ static const comedi_lrange range_daqp_ai
 	}
 };
 
-static const comedi_lrange range_daqp_ao = { 1, {BIP_RANGE(5)} };
+static const struct comedi_lrange range_daqp_ao = { 1, {BIP_RANGE(5)} };
 
 /*====================================================================*/
 
--- a/drivers/staging/comedi/drivers/rtd520.c
+++ b/drivers/staging/comedi/drivers/rtd520.c
@@ -196,7 +196,7 @@ Configuration options:
 /*
   The board has 3 input modes and the gains of 1,2,4,...32 (, 64, 128)
 */
-static const comedi_lrange rtd_ai_7520_range = { 18, {
+static const struct comedi_lrange rtd_ai_7520_range = { 18, {
 			/* +-5V input range gain steps */
 			BIP_RANGE(5.0),
 			BIP_RANGE(5.0 / 2),
@@ -223,7 +223,7 @@ static const comedi_lrange rtd_ai_7520_r
 };
 
 /* PCI4520 has two more gains (6 more entries) */
-static const comedi_lrange rtd_ai_4520_range = { 24, {
+static const struct comedi_lrange rtd_ai_4520_range = { 24, {
 			/* +-5V input range gain steps */
 			BIP_RANGE(5.0),
 			BIP_RANGE(5.0 / 2),
@@ -255,7 +255,7 @@ static const comedi_lrange rtd_ai_4520_r
 };
 
 /* Table order matches range values */
-static const comedi_lrange rtd_ao_range = { 4, {
+static const struct comedi_lrange rtd_ao_range = { 4, {
 			RANGE(0, 5),
 			RANGE(0, 10),
 			RANGE(-5, 5),
--- a/drivers/staging/comedi/drivers/rti800.c
+++ b/drivers/staging/comedi/drivers/rti800.c
@@ -96,21 +96,21 @@ Configuration options:
 
 #include "am9513.h"
 
-static const comedi_lrange range_rti800_ai_10_bipolar = { 4, {
+static const struct comedi_lrange range_rti800_ai_10_bipolar = { 4, {
 			BIP_RANGE(10),
 			BIP_RANGE(1),
 			BIP_RANGE(0.1),
 			BIP_RANGE(0.02)
 	}
 };
-static const comedi_lrange range_rti800_ai_5_bipolar = { 4, {
+static const struct comedi_lrange range_rti800_ai_5_bipolar = { 4, {
 			BIP_RANGE(5),
 			BIP_RANGE(0.5),
 			BIP_RANGE(0.05),
 			BIP_RANGE(0.01)
 	}
 };
-static const comedi_lrange range_rti800_ai_unipolar = { 4, {
+static const struct comedi_lrange range_rti800_ai_unipolar = { 4, {
 			UNI_RANGE(10),
 			UNI_RANGE(1),
 			UNI_RANGE(0.1),
@@ -161,7 +161,7 @@ typedef struct {
 	enum {
 		dac_2comp, dac_straight
 	} dac0_coding, dac1_coding;
-	const comedi_lrange *ao_range_type_list[2];
+	const struct comedi_lrange *ao_range_type_list[2];
 	unsigned int ao_readback[2];
 	int muxgain_bits;
 } rti800_private;
--- a/drivers/staging/comedi/drivers/rti802.c
+++ b/drivers/staging/comedi/drivers/rti802.c
@@ -62,7 +62,7 @@ typedef struct {
 	enum {
 		dac_2comp, dac_straight
 	} dac_coding[8];
-	const comedi_lrange *range_type_list[8];
+	const struct comedi_lrange *range_type_list[8];
 	unsigned int ao_readback[8];
 } rti802_private;
 
--- a/drivers/staging/comedi/drivers/s626.c
+++ b/drivers/staging/comedi/drivers/s626.c
@@ -479,7 +479,7 @@ static struct enc_private enc_private_da
 #define I2C_B1(ATTR, VAL)	(((ATTR) << 4) | ((VAL) << 16))
 #define I2C_B0(ATTR, VAL)	(((ATTR) << 2) | ((VAL) <<  8))
 
-static const comedi_lrange s626_range_table = { 2, {
+static const struct comedi_lrange s626_range_table = { 2, {
 			RANGE(-5, 5),
 			RANGE(-10, 10),
 	}
--- a/drivers/staging/comedi/drivers/serial2002.c
+++ b/drivers/staging/comedi/drivers/serial2002.c
@@ -598,7 +598,7 @@ static void serial_2002_open(struct come
 			}
 			if (c) {
 				struct comedi_subdevice *s;
-				const comedi_lrange **range_table_list = NULL;
+				const struct comedi_lrange **range_table_list = NULL;
 				unsigned int *maxdata_list;
 				int j, chan;
 
@@ -638,7 +638,7 @@ static void serial_2002_open(struct come
 							range[j].range.max =
 								c[j].max;
 							range_table_list[chan] =
-								(const
+								(const struct
 								comedi_lrange *)
 								&range[j];
 						}
--- a/drivers/staging/comedi/drivers/usbdux.c
+++ b/drivers/staging/comedi/drivers/usbdux.c
@@ -214,7 +214,7 @@ sampling rate. If you sample two channel
 
 /**************************************************/
 /* comedi constants */
-static const comedi_lrange range_usbdux_ai_range = { 4, {
+static const struct comedi_lrange range_usbdux_ai_range = { 4, {
 			BIP_RANGE(4.096),
 			BIP_RANGE(4.096 / 2),
 			UNI_RANGE(4.096),
@@ -222,7 +222,7 @@ static const comedi_lrange range_usbdux_
 	}
 };
 
-static const comedi_lrange range_usbdux_ao_range = { 2, {
+static const struct comedi_lrange range_usbdux_ao_range = { 2, {
 			BIP_RANGE(4.096),
 			UNI_RANGE(4.096),
 	}
--- a/drivers/staging/comedi/drivers/usbduxfast.c
+++ b/drivers/staging/comedi/drivers/usbduxfast.c
@@ -160,7 +160,7 @@
 /*
  * comedi constants
  */
-static const comedi_lrange range_usbduxfast_ai_range = {
+static const struct comedi_lrange range_usbduxfast_ai_range = {
 	2, { BIP_RANGE(0.75), BIP_RANGE(0.5) }
 };
 
--- a/drivers/staging/comedi/kcomedilib/get.c
+++ b/drivers/staging/comedi/kcomedilib/get.c
@@ -153,7 +153,7 @@ int comedi_get_krange(void *d, unsigned 
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
 	struct comedi_subdevice *s = dev->subdevices + subdevice;
-	const comedi_lrange *lr;
+	const struct comedi_lrange *lr;
 
 	if (s->range_table_list) {
 		lr = s->range_table_list[chan];
--- a/drivers/staging/comedi/range.c
+++ b/drivers/staging/comedi/range.c
@@ -24,12 +24,12 @@
 #include "comedidev.h"
 #include <asm/uaccess.h>
 
-const comedi_lrange range_bipolar10 = { 1, {BIP_RANGE(10)} };
-const comedi_lrange range_bipolar5 = { 1, {BIP_RANGE(5)} };
-const comedi_lrange range_bipolar2_5 = { 1, {BIP_RANGE(2.5)} };
-const comedi_lrange range_unipolar10 = { 1, {UNI_RANGE(10)} };
-const comedi_lrange range_unipolar5 = { 1, {UNI_RANGE(5)} };
-const comedi_lrange range_unknown = { 1, {{0, 1000000, UNIT_none}} };
+const struct comedi_lrange range_bipolar10 = { 1, {BIP_RANGE(10)} };
+const struct comedi_lrange range_bipolar5 = { 1, {BIP_RANGE(5)} };
+const struct comedi_lrange range_bipolar2_5 = { 1, {BIP_RANGE(2.5)} };
+const struct comedi_lrange range_unipolar10 = { 1, {UNI_RANGE(10)} };
+const struct comedi_lrange range_unipolar5 = { 1, {UNI_RANGE(5)} };
+const struct comedi_lrange range_unknown = { 1, {{0, 1000000, UNIT_none}} };
 
 /*
    	COMEDI_RANGEINFO
@@ -48,7 +48,7 @@ int do_rangeinfo_ioctl(struct comedi_dev
 {
 	comedi_rangeinfo it;
 	int subd, chan;
-	const comedi_lrange *lr;
+	const struct comedi_lrange *lr;
 	struct comedi_subdevice *s;
 
 	if (copy_from_user(&it, arg, sizeof(comedi_rangeinfo)))
