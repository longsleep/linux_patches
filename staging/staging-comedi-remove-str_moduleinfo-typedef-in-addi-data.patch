From wfp5p@virginia.edu Wed Mar 25 08:05:51 2009
From: Bill Pemberton <wfp5p@virginia.edu>
Date: Wed, 25 Mar 2009 11:05:47 -0400
Subject: Staging: comedi: Remove str_ModuleInfo typedef in addi-data
To: greg@kroah.com
Cc: abbotti@mev.co.uk, "fmhess@users.sourceforge.netds"@schleef.org
Message-ID: <20090325150547.13323.61769.stgit@viridian.itc.Virginia.EDU>


Signed-off-by: Bill Pemberton <wfp5p@virginia.edu>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
---

 drivers/staging/comedi/drivers/addi-data/addi_common.h    |    8 ++++----
 drivers/staging/comedi/drivers/addi-data/hwdrv_APCI1710.c |    2 +-
 2 files changed, 5 insertions(+), 5 deletions(-)

--- a/drivers/staging/comedi/drivers/addi-data/addi_common.h
+++ b/drivers/staging/comedi/drivers/addi-data/addi_common.h
@@ -201,9 +201,9 @@ struct addi_board {
 					 struct comedi_insn *insn, unsigned int *data);
 };
 
-//MODULE INFO STRUCTURE
+/* MODULE INFO STRUCTURE */
 
-typedef union {
+union str_ModuleInfo {
 	/* Incremental counter infos */
 	struct {
 		union {
@@ -342,7 +342,7 @@ typedef union {
 		unsigned char b_CDAReadFIFOOverflow;
 	} s_CDAModuleInfo;
 
-} str_ModuleInfo;
+};
 
 /* Private structure for the addi_apci3120 driver */
 typedef struct {
@@ -431,7 +431,7 @@ typedef struct {
 		} s_FIFOInterruptParameters[APCI1710_SAVE_INTERRUPT];
 	} s_InterruptParameters;
 
-	str_ModuleInfo s_ModuleInfo[4];
+	union str_ModuleInfo s_ModuleInfo[4];
 	unsigned int ul_TTLPortConfiguration[10];
 
 } addi_private;
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_APCI1710.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_APCI1710.c
@@ -261,7 +261,7 @@ void v_APCI1710_Interrupt(int irq, void 
 	unsigned int ul_82X54InterruptStatus;
 	unsigned int ul_StatusRegister;
 
-	str_ModuleInfo *ps_ModuleInfo;
+	union str_ModuleInfo *ps_ModuleInfo;
 
 	printk("APCI1710 Interrupt\n");
 	for (b_ModuleCpt = 0; b_ModuleCpt < 4; b_ModuleCpt++, ps_ModuleInfo++) {
