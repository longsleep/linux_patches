From wfp5p@virginia.edu Wed Mar 25 08:07:05 2009
From: Bill Pemberton <wfp5p@virginia.edu>
Date: Wed, 25 Mar 2009 11:07:01 -0400
Subject: Staging: comedi: Remove labpc_private typedef
To: greg@kroah.com
Cc: abbotti@mev.co.uk, "fmhess@users.sourceforge.netds"@schleef.org
Message-ID: <20090325150701.13323.19679.stgit@viridian.itc.Virginia.EDU>


Signed-off-by: Bill Pemberton <wfp5p@virginia.edu>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
---

 drivers/staging/comedi/drivers/ni_labpc.c    |    4 ++--
 drivers/staging/comedi/drivers/ni_labpc.h    |    4 ++--
 drivers/staging/comedi/drivers/ni_labpc_cs.c |    2 +-
 3 files changed, 5 insertions(+), 5 deletions(-)

--- a/drivers/staging/comedi/drivers/ni_labpc.c
+++ b/drivers/staging/comedi/drivers/ni_labpc.c
@@ -427,7 +427,7 @@ static const struct labpc_board_struct l
 static const int dma_buffer_size = 0xff00;	// size in bytes of dma buffer
 static const int sample_size = 2;	// 2 bytes per sample
 
-#define devpriv ((labpc_private *)dev->private)
+#define devpriv ((struct labpc_private *)dev->private)
 
 static struct comedi_driver driver_labpc = {
 	.driver_name = DRV_NAME,
@@ -653,7 +653,7 @@ static int labpc_attach(struct comedi_de
 #endif
 
 	/* allocate and initialize dev->private */
-	if (alloc_private(dev, sizeof(labpc_private)) < 0)
+	if (alloc_private(dev, sizeof(struct labpc_private)) < 0)
 		return -ENOMEM;
 
 	// get base address, irq etc. based on bustype
--- a/drivers/staging/comedi/drivers/ni_labpc_cs.c
+++ b/drivers/staging/comedi/drivers/ni_labpc_cs.c
@@ -133,7 +133,7 @@ static int labpc_attach(struct comedi_de
 	struct pcmcia_device *link;
 
 	/* allocate and initialize dev->private */
-	if (alloc_private(dev, sizeof(labpc_private)) < 0)
+	if (alloc_private(dev, sizeof(struct labpc_private)) < 0)
 		return -ENOMEM;
 
 	// get base address, irq etc. based on bustype
--- a/drivers/staging/comedi/drivers/ni_labpc.h
+++ b/drivers/staging/comedi/drivers/ni_labpc.h
@@ -46,7 +46,7 @@ struct labpc_board_struct {
 	unsigned memory_mapped_io:1;	/* uses memory mapped io instead of ioports */
 };
 
-typedef struct {
+struct labpc_private {
 	struct mite_struct *mite;	// for mite chip on pci-1200
 	volatile unsigned long long count;	/* number of data points left to be taken */
 	unsigned int ao_value[NUM_AO_CHAN];	// software copy of analog output values
@@ -72,7 +72,7 @@ typedef struct {
 	// function pointers so we can use inb/outb or readb/writeb as appropriate
 	unsigned int (*read_byte) (unsigned long address);
 	void (*write_byte) (unsigned int byte, unsigned long address);
-} labpc_private;
+};
 
 int labpc_common_attach(struct comedi_device * dev, unsigned long iobase,
 	unsigned int irq, unsigned int dma);
