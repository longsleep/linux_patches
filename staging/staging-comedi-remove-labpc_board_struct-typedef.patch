From wfp5p@virginia.edu Wed Mar 25 08:06:59 2009
From: Bill Pemberton <wfp5p@virginia.edu>
Date: Wed, 25 Mar 2009 11:06:56 -0400
Subject: Staging: comedi: Remove labpc_board_struct typedef
To: greg@kroah.com
Cc: abbotti@mev.co.uk, "fmhess@users.sourceforge.netds"@schleef.org
Message-ID: <20090325150656.13323.96581.stgit@viridian.itc.Virginia.EDU>


Signed-off-by: Bill Pemberton <wfp5p@virginia.edu>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
---

 drivers/staging/comedi/drivers/ni_labpc.c    |    8 ++++----
 drivers/staging/comedi/drivers/ni_labpc.h    |    4 ++--
 drivers/staging/comedi/drivers/ni_labpc_cs.c |    8 ++++----
 3 files changed, 10 insertions(+), 10 deletions(-)

--- a/drivers/staging/comedi/drivers/ni_labpc.c
+++ b/drivers/staging/comedi/drivers/ni_labpc.c
@@ -360,7 +360,7 @@ static inline void labpc_writeb(unsigned
 	writeb(byte, (void *)address);
 }
 
-static const labpc_board labpc_boards[] = {
+static const struct labpc_board_struct labpc_boards[] = {
 	{
 	      name:	"lab-pc-1200",
 	      ai_speed:10000,
@@ -422,7 +422,7 @@ static const labpc_board labpc_boards[] 
 /*
  * Useful for shorthand access to the particular board structure
  */
-#define thisboard ((labpc_board *)dev->board_ptr)
+#define thisboard ((struct labpc_board_struct *)dev->board_ptr)
 
 static const int dma_buffer_size = 0xff00;	// size in bytes of dma buffer
 static const int sample_size = 2;	// 2 bytes per sample
@@ -434,9 +434,9 @@ static struct comedi_driver driver_labpc
 	.module = THIS_MODULE,
 	.attach = labpc_attach,
 	.detach = labpc_common_detach,
-	.num_names = sizeof(labpc_boards) / sizeof(labpc_board),
+	.num_names = sizeof(labpc_boards) / sizeof(struct labpc_board_struct),
 	.board_name = &labpc_boards[0].name,
-	.offset = sizeof(labpc_board),
+	.offset = sizeof(struct labpc_board_struct),
 };
 
 #ifdef CONFIG_COMEDI_PCI
--- a/drivers/staging/comedi/drivers/ni_labpc_cs.c
+++ b/drivers/staging/comedi/drivers/ni_labpc_cs.c
@@ -81,7 +81,7 @@ static struct pcmcia_device *pcmcia_cur_
 
 static int labpc_attach(struct comedi_device * dev, struct comedi_devconfig * it);
 
-static const labpc_board labpc_cs_boards[] = {
+static const struct labpc_board_struct labpc_cs_boards[] = {
 	{
 	      name:	"daqcard-1200",
 	      device_id:0x103,	// 0x10b is manufacturer id, 0x103 is device id
@@ -114,16 +114,16 @@ static const labpc_board labpc_cs_boards
 /*
  * Useful for shorthand access to the particular board structure
  */
-#define thisboard ((const labpc_board *)dev->board_ptr)
+#define thisboard ((const struct labpc_board_struct *)dev->board_ptr)
 
 static struct comedi_driver driver_labpc_cs = {
 	.driver_name = "ni_labpc_cs",
 	.module = THIS_MODULE,
 	.attach = &labpc_attach,
 	.detach = &labpc_common_detach,
-	.num_names = sizeof(labpc_cs_boards) / sizeof(labpc_board),
+	.num_names = sizeof(labpc_cs_boards) / sizeof(struct labpc_board_struct),
 	.board_name = &labpc_cs_boards[0].name,
-	.offset = sizeof(labpc_board),
+	.offset = sizeof(struct labpc_board_struct),
 };
 
 static int labpc_attach(struct comedi_device * dev, struct comedi_devconfig * it)
--- a/drivers/staging/comedi/drivers/ni_labpc.h
+++ b/drivers/staging/comedi/drivers/ni_labpc.h
@@ -32,7 +32,7 @@ enum labpc_register_layout { labpc_plus_
 enum transfer_type { fifo_not_empty_transfer, fifo_half_full_transfer,
 		isa_dma_transfer };
 
-typedef struct labpc_board_struct {
+struct labpc_board_struct {
 	const char *name;
 	int device_id;		// device id for pci and pcmcia boards
 	int ai_speed;		// maximum input speed in nanoseconds
@@ -44,7 +44,7 @@ typedef struct labpc_board_struct {
 	const int *ai_range_is_unipolar;
 	unsigned ai_scan_up:1;	// board can auto scan up in ai channels, not just down
 	unsigned memory_mapped_io:1;	/* uses memory mapped io instead of ioports */
-} labpc_board;
+};
 
 typedef struct {
 	struct mite_struct *mite;	// for mite chip on pci-1200
