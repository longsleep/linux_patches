From wfp5p@virginia.edu Wed Mar 25 08:04:23 2009
From: Bill Pemberton <wfp5p@virginia.edu>
Date: Wed, 25 Mar 2009 11:04:20 -0400
Subject: Staging: comedi: Remove ni_private typedef
To: greg@kroah.com
Cc: abbotti@mev.co.uk, "fmhess@users.sourceforge.netds"@schleef.org
Message-ID: <20090325150419.13323.34176.stgit@viridian.itc.Virginia.EDU>


Signed-off-by: Bill Pemberton <wfp5p@virginia.edu>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
---

 drivers/staging/comedi/drivers/ni_atmio.c      |    8 +++++---
 drivers/staging/comedi/drivers/ni_mio_common.c |    2 +-
 drivers/staging/comedi/drivers/ni_pcimio.c     |    8 +++++---
 3 files changed, 11 insertions(+), 7 deletions(-)

--- a/drivers/staging/comedi/drivers/ni_atmio.c
+++ b/drivers/staging/comedi/drivers/ni_atmio.c
@@ -276,10 +276,12 @@ static const int ni_irqpin[] =
 
 #define NI_E_IRQ_FLAGS		0
 
-typedef struct {
+struct ni_private {
 	struct pnp_dev *isapnp_dev;
- NI_PRIVATE_COMMON} ni_private;
-#define devpriv ((ni_private *)dev->private)
+         NI_PRIVATE_COMMON
+};
+
+#define devpriv ((struct ni_private *)dev->private)
 
 /* How we access registers */
 
--- a/drivers/staging/comedi/drivers/ni_mio_common.c
+++ b/drivers/staging/comedi/drivers/ni_mio_common.c
@@ -4278,7 +4278,7 @@ static int ni_alloc_private(struct comed
 {
 	int ret;
 
-	ret = alloc_private(dev, sizeof(ni_private));
+	ret = alloc_private(dev, sizeof(struct ni_private));
 	if (ret < 0)
 		return ret;
 
--- a/drivers/staging/comedi/drivers/ni_pcimio.c
+++ b/drivers/staging/comedi/drivers/ni_pcimio.c
@@ -1218,9 +1218,11 @@ static struct comedi_driver driver_pcimi
 
 COMEDI_PCI_INITCLEANUP(driver_pcimio, ni_pci_table)
 
-typedef struct {
-NI_PRIVATE_COMMON} ni_private;
-#define devpriv ((ni_private *)dev->private)
+struct ni_private {
+NI_PRIVATE_COMMON
+};
+
+#define devpriv ((struct ni_private *)dev->private)
 
 /* How we access registers */
 
