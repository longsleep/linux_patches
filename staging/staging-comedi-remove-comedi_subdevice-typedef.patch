From wfp5p@virginia.edu Mon Mar 16 17:20:01 2009
From: Bill Pemberton <wfp5p@virginia.edu>
Date: Mon, 16 Mar 2009 22:05:14 -0400
Subject: Staging: comedi: Remove comedi_subdevice typedef
To: greg@kroah.com
Message-ID: <20090317020513.14467.46477.stgit@viridian.itc.Virginia.EDU>


Signed-off-by: Bill Pemberton <wfp5p@virginia.edu>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
---

 drivers/staging/comedi/comedi_fops.c                        |   58 +--
 drivers/staging/comedi/comedidev.h                          |   65 +--
 drivers/staging/comedi/drivers.c                            |   20 -
 drivers/staging/comedi/drivers/8255.c                       |   24 -
 drivers/staging/comedi/drivers/8255.h                       |   12 
 drivers/staging/comedi/drivers/acl7225b.c                   |    6 
 drivers/staging/comedi/drivers/addi-data/APCI1710_82x54.c   |   16 
 drivers/staging/comedi/drivers/addi-data/APCI1710_82x54.h   |    8 
 drivers/staging/comedi/drivers/addi-data/APCI1710_Chrono.c  |   14 
 drivers/staging/comedi/drivers/addi-data/APCI1710_Chrono.h  |    8 
 drivers/staging/comedi/drivers/addi-data/APCI1710_Dig_io.c  |   12 
 drivers/staging/comedi/drivers/addi-data/APCI1710_Dig_io.h  |    8 
 drivers/staging/comedi/drivers/addi-data/APCI1710_INCCPT.c  |   16 
 drivers/staging/comedi/drivers/addi-data/APCI1710_INCCPT.h  |    8 
 drivers/staging/comedi/drivers/addi-data/APCI1710_Inp_cpt.c |    8 
 drivers/staging/comedi/drivers/addi-data/APCI1710_Inp_cpt.h |    8 
 drivers/staging/comedi/drivers/addi-data/APCI1710_Pwm.c     |   12 
 drivers/staging/comedi/drivers/addi-data/APCI1710_Pwm.h     |    8 
 drivers/staging/comedi/drivers/addi-data/APCI1710_Ssi.c     |    8 
 drivers/staging/comedi/drivers/addi-data/APCI1710_Ssi.h     |    6 
 drivers/staging/comedi/drivers/addi-data/APCI1710_Tor.c     |    8 
 drivers/staging/comedi/drivers/addi-data/APCI1710_Tor.h     |    8 
 drivers/staging/comedi/drivers/addi-data/APCI1710_Ttl.c     |   12 
 drivers/staging/comedi/drivers/addi-data/APCI1710_Ttl.h     |    8 
 drivers/staging/comedi/drivers/addi-data/addi_common.c      |    8 
 drivers/staging/comedi/drivers/addi-data/addi_common.h      |   54 +--
 drivers/staging/comedi/drivers/addi-data/hwdrv_APCI1710.c   |    2 
 drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.c    |   22 -
 drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.h    |   10 
 drivers/staging/comedi/drivers/addi-data/hwdrv_apci1032.c   |   12 
 drivers/staging/comedi/drivers/addi-data/hwdrv_apci1032.h   |    6 
 drivers/staging/comedi/drivers/addi-data/hwdrv_apci1500.c   |   56 +--
 drivers/staging/comedi/drivers/addi-data/hwdrv_apci1500.h   |   22 -
 drivers/staging/comedi/drivers/addi-data/hwdrv_apci1516.c   |   48 +-
 drivers/staging/comedi/drivers/addi-data/hwdrv_apci1516.h   |   16 
 drivers/staging/comedi/drivers/addi-data/hwdrv_apci1564.c   |   40 +-
 drivers/staging/comedi/drivers/addi-data/hwdrv_apci1564.h   |   20 -
 drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.c   |   16 
 drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.h   |    8 
 drivers/staging/comedi/drivers/addi-data/hwdrv_apci2016.c   |   30 -
 drivers/staging/comedi/drivers/addi-data/hwdrv_apci2016.h   |   12 
 drivers/staging/comedi/drivers/addi-data/hwdrv_apci2032.c   |   34 -
 drivers/staging/comedi/drivers/addi-data/hwdrv_apci2032.h   |   14 
 drivers/staging/comedi/drivers/addi-data/hwdrv_apci2200.c   |   48 +-
 drivers/staging/comedi/drivers/addi-data/hwdrv_apci2200.h   |   16 
 drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.c   |  126 +++----
 drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.h   |   40 +-
 drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.c   |   74 ++--
 drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.h   |   18 -
 drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.c   |   42 +-
 drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.h   |   20 -
 drivers/staging/comedi/drivers/addi-data/hwdrv_apci3xxx.c   |   52 +-
 drivers/staging/comedi/drivers/adl_pci6208.c                |   18 -
 drivers/staging/comedi/drivers/adl_pci7296.c                |    2 
 drivers/staging/comedi/drivers/adl_pci7432.c                |   10 
 drivers/staging/comedi/drivers/adl_pci8164.c                |   34 -
 drivers/staging/comedi/drivers/adl_pci9111.c                |   24 -
 drivers/staging/comedi/drivers/adl_pci9118.c                |   52 +-
 drivers/staging/comedi/drivers/adq12b.c                     |   14 
 drivers/staging/comedi/drivers/adv_pci1710.c                |   44 +-
 drivers/staging/comedi/drivers/adv_pci1723.c                |   10 
 drivers/staging/comedi/drivers/adv_pci_dio.c                |   26 -
 drivers/staging/comedi/drivers/aio_aio12_8.c                |    8 
 drivers/staging/comedi/drivers/aio_iiro_16.c                |   10 
 drivers/staging/comedi/drivers/amplc_dio200.c               |   34 -
 drivers/staging/comedi/drivers/amplc_pc236.c                |   20 -
 drivers/staging/comedi/drivers/amplc_pc263.c                |   10 
 drivers/staging/comedi/drivers/amplc_pci224.c               |   26 -
 drivers/staging/comedi/drivers/amplc_pci230.c               |   76 ++--
 drivers/staging/comedi/drivers/c6xdigio.c                   |   12 
 drivers/staging/comedi/drivers/cb_das16_cs.c                |   38 +-
 drivers/staging/comedi/drivers/cb_pcidas.c                  |   82 ++--
 drivers/staging/comedi/drivers/cb_pcidas64.c                |   90 ++---
 drivers/staging/comedi/drivers/cb_pcidda.c                  |   16 
 drivers/staging/comedi/drivers/cb_pcimdas.c                 |   14 
 drivers/staging/comedi/drivers/cb_pcimdda.c                 |   10 
 drivers/staging/comedi/drivers/comedi_bond.c                |   10 
 drivers/staging/comedi/drivers/comedi_fc.c                  |    8 
 drivers/staging/comedi/drivers/comedi_fc.h                  |   12 
 drivers/staging/comedi/drivers/comedi_parport.c             |   20 -
 drivers/staging/comedi/drivers/comedi_rt_timer.c            |   28 -
 drivers/staging/comedi/drivers/comedi_test.c                |   26 -
 drivers/staging/comedi/drivers/contec_pci_dio.c             |   14 
 drivers/staging/comedi/drivers/daqboard2000.c               |    8 
 drivers/staging/comedi/drivers/das08.c                      |   36 +-
 drivers/staging/comedi/drivers/das16.c                      |   36 +-
 drivers/staging/comedi/drivers/das16m1.c                    |   32 -
 drivers/staging/comedi/drivers/das1800.c                    |   56 +--
 drivers/staging/comedi/drivers/das6402.c                    |   12 
 drivers/staging/comedi/drivers/das800.c                     |   28 -
 drivers/staging/comedi/drivers/dmm32at.c                    |   36 +-
 drivers/staging/comedi/drivers/dt2801.c                     |   22 -
 drivers/staging/comedi/drivers/dt2811.c                     |   22 -
 drivers/staging/comedi/drivers/dt2814.c                     |   10 
 drivers/staging/comedi/drivers/dt2815.c                     |    6 
 drivers/staging/comedi/drivers/dt2817.c                     |    6 
 drivers/staging/comedi/drivers/dt282x.c                     |   38 +-
 drivers/staging/comedi/drivers/dt3000.c                     |   28 -
 drivers/staging/comedi/drivers/dt9812.c                     |   14 
 drivers/staging/comedi/drivers/fl512.c                      |   14 
 drivers/staging/comedi/drivers/gsc_hpdi.c                   |   22 -
 drivers/staging/comedi/drivers/icp_multi.c                  |   42 +-
 drivers/staging/comedi/drivers/ii_pci20kc.c                 |   42 +-
 drivers/staging/comedi/drivers/jr3_pci.c                    |    4 
 drivers/staging/comedi/drivers/ke_counter.c                 |    6 
 drivers/staging/comedi/drivers/me4000.c                     |   64 +--
 drivers/staging/comedi/drivers/me_daq.c                     |   18 -
 drivers/staging/comedi/drivers/mpc624.c                     |    6 
 drivers/staging/comedi/drivers/mpc8260cpm.c                 |   10 
 drivers/staging/comedi/drivers/multiq3.c                    |   14 
 drivers/staging/comedi/drivers/ni_6527.c                    |   20 -
 drivers/staging/comedi/drivers/ni_65xx.c                    |   22 -
 drivers/staging/comedi/drivers/ni_660x.c                    |   34 -
 drivers/staging/comedi/drivers/ni_670x.c                    |   18 -
 drivers/staging/comedi/drivers/ni_at_a2150.c                |   20 -
 drivers/staging/comedi/drivers/ni_at_ao.c                   |   26 -
 drivers/staging/comedi/drivers/ni_atmio16d.c                |   26 -
 drivers/staging/comedi/drivers/ni_daq_700.c                 |   24 -
 drivers/staging/comedi/drivers/ni_daq_dio24.c               |    2 
 drivers/staging/comedi/drivers/ni_labpc.c                   |   46 +-
 drivers/staging/comedi/drivers/ni_mio_common.c              |  214 ++++++------
 drivers/staging/comedi/drivers/ni_pcidio.c                  |   32 -
 drivers/staging/comedi/drivers/ni_pcimio.c                  |   20 -
 drivers/staging/comedi/drivers/ni_tio.h                     |    4 
 drivers/staging/comedi/drivers/ni_tiocmd.c                  |    4 
 drivers/staging/comedi/drivers/pcl711.c                     |   18 -
 drivers/staging/comedi/drivers/pcl725.c                     |    6 
 drivers/staging/comedi/drivers/pcl726.c                     |   10 
 drivers/staging/comedi/drivers/pcl730.c                     |    6 
 drivers/staging/comedi/drivers/pcl812.c                     |   34 -
 drivers/staging/comedi/drivers/pcl816.c                     |   32 -
 drivers/staging/comedi/drivers/pcl818.c                     |   54 +--
 drivers/staging/comedi/drivers/pcm3724.c                    |    8 
 drivers/staging/comedi/drivers/pcm3730.c                    |    6 
 drivers/staging/comedi/drivers/pcmad.c                      |    4 
 drivers/staging/comedi/drivers/pcmda12.c                    |   10 
 drivers/staging/comedi/drivers/pcmmio.c                     |   46 +-
 drivers/staging/comedi/drivers/pcmuio.c                     |   32 -
 drivers/staging/comedi/drivers/poc.c                        |   24 -
 drivers/staging/comedi/drivers/quatech_daqp_cs.c            |   20 -
 drivers/staging/comedi/drivers/rtd520.c                     |   46 +-
 drivers/staging/comedi/drivers/rti800.c                     |   12 
 drivers/staging/comedi/drivers/rti802.c                     |    6 
 drivers/staging/comedi/drivers/s526.c                       |   38 +-
 drivers/staging/comedi/drivers/s626.c                       |   66 +--
 drivers/staging/comedi/drivers/serial2002.c                 |   28 -
 drivers/staging/comedi/drivers/skel.c                       |   26 -
 drivers/staging/comedi/drivers/ssv_dnp.c                    |   10 
 drivers/staging/comedi/drivers/unioxx5.c                    |   18 -
 drivers/staging/comedi/drivers/usbdux.c                     |   54 +--
 drivers/staging/comedi/drivers/usbduxfast.c                 |   14 
 drivers/staging/comedi/kcomedilib/get.c                     |   30 -
 drivers/staging/comedi/kcomedilib/kcomedilib_main.c         |   20 -
 drivers/staging/comedi/range.c                              |    6 
 154 files changed, 1930 insertions(+), 1923 deletions(-)

--- a/drivers/staging/comedi/comedidev.h
+++ b/drivers/staging/comedi/comedidev.h
@@ -121,7 +121,6 @@
 #define COMEDI_NUM_BOARD_MINORS 0x30
 #define COMEDI_FIRST_SUBDEVICE_MINOR COMEDI_NUM_BOARD_MINORS
 
-typedef struct comedi_subdevice_struct comedi_subdevice;
 typedef struct comedi_async_struct comedi_async;
 typedef struct comedi_driver_struct comedi_driver;
 typedef struct comedi_lrange_struct comedi_lrange;
@@ -131,7 +130,7 @@ typedef struct device device_create_resu
 #define COMEDI_DEVICE_CREATE(cs, parent, devt, drvdata, device, fmt...) \
 	device_create(cs, ((parent) ? (parent) : (device)), devt, drvdata, fmt)
 
-struct comedi_subdevice_struct {
+struct comedi_subdevice {
 	struct comedi_device *device;
 	int type;
 	int n_chan;
@@ -162,27 +161,27 @@ struct comedi_subdevice_struct {
 
 	unsigned int *chanlist;	/* driver-owned chanlist (not used) */
 
-	int (*insn_read) (struct comedi_device *, comedi_subdevice *, comedi_insn *,
+	int (*insn_read) (struct comedi_device *, struct comedi_subdevice *, comedi_insn *,
 		unsigned int *);
-	int (*insn_write) (struct comedi_device *, comedi_subdevice *, comedi_insn *,
+	int (*insn_write) (struct comedi_device *, struct comedi_subdevice *, comedi_insn *,
 		unsigned int *);
-	int (*insn_bits) (struct comedi_device *, comedi_subdevice *, comedi_insn *,
+	int (*insn_bits) (struct comedi_device *, struct comedi_subdevice *, comedi_insn *,
 		unsigned int *);
-	int (*insn_config) (struct comedi_device *, comedi_subdevice *, comedi_insn *,
+	int (*insn_config) (struct comedi_device *, struct comedi_subdevice *, comedi_insn *,
 		unsigned int *);
 
-	int (*do_cmd) (struct comedi_device *, comedi_subdevice *);
-	int (*do_cmdtest) (struct comedi_device *, comedi_subdevice *, comedi_cmd *);
-	int (*poll) (struct comedi_device *, comedi_subdevice *);
-	int (*cancel) (struct comedi_device *, comedi_subdevice *);
-	/* int (*do_lock)(struct comedi_device *,comedi_subdevice *); */
-	/* int (*do_unlock)(struct comedi_device *,comedi_subdevice *); */
+	int (*do_cmd) (struct comedi_device *, struct comedi_subdevice *);
+	int (*do_cmdtest) (struct comedi_device *, struct comedi_subdevice *, comedi_cmd *);
+	int (*poll) (struct comedi_device *, struct comedi_subdevice *);
+	int (*cancel) (struct comedi_device *, struct comedi_subdevice *);
+	/* int (*do_lock)(struct comedi_device *,struct comedi_subdevice *); */
+	/* int (*do_unlock)(struct comedi_device *,struct comedi_subdevice *); */
 
 	/* called when the buffer changes */
-	int (*buf_change) (struct comedi_device *dev, comedi_subdevice *s,
+	int (*buf_change) (struct comedi_device *dev, struct comedi_subdevice *s,
 		unsigned long new_size);
 
-	void (*munge) (struct comedi_device *dev, comedi_subdevice *s, void *data,
+	void (*munge) (struct comedi_device *dev, struct comedi_subdevice *s, void *data,
 		unsigned int num_bytes, unsigned int start_chan_index);
 	enum dma_data_direction async_dma_dir;
 
@@ -198,7 +197,7 @@ struct comedi_buf_page {
 };
 
 struct comedi_async_struct {
-	comedi_subdevice *subdevice;
+	struct comedi_subdevice *subdevice;
 
 	void *prealloc_buf;	/* pre-allocated buffer */
 	unsigned int prealloc_bufsz;	/* buffer size, in bytes */
@@ -237,7 +236,7 @@ struct comedi_async_struct {
 	int (*cb_func) (unsigned int flags, void *);
 	void *cb_arg;
 
-	int (*inttrig) (struct comedi_device *dev, comedi_subdevice *s,
+	int (*inttrig) (struct comedi_device *dev, struct comedi_subdevice *s,
 			unsigned int x);
 };
 
@@ -277,14 +276,14 @@ struct comedi_device {
 	int in_request_module;
 
 	int n_subdevices;
-	comedi_subdevice *subdevices;
+	struct comedi_subdevice *subdevices;
 
 	/* dumb */
 	unsigned long iobase;
 	unsigned int irq;
 
-	comedi_subdevice *read_subdev;
-	comedi_subdevice *write_subdev;
+	struct comedi_subdevice *read_subdev;
+	struct comedi_subdevice *write_subdev;
 
 	struct fasync_struct *async_queue;
 
@@ -294,8 +293,8 @@ struct comedi_device {
 
 struct comedi_device_file_info {
 	struct comedi_device *device;
-	comedi_subdevice *read_subdevice;
-	comedi_subdevice *write_subdevice;
+	struct comedi_subdevice *read_subdevice;
+	struct comedi_subdevice *write_subdevice;
 };
 
 #ifdef CONFIG_COMEDI_DEBUG
@@ -308,7 +307,7 @@ static const int comedi_debug;
  * function prototypes
  */
 
-void comedi_event(struct comedi_device *dev, comedi_subdevice *s);
+void comedi_event(struct comedi_device *dev, struct comedi_subdevice *s);
 void comedi_error(const struct comedi_device *dev, const char *s);
 
 /* we can expand the number of bits used to encode devices/subdevices into
@@ -323,7 +322,7 @@ static const unsigned COMEDI_SUBDEVICE_M
 
 struct comedi_device_file_info *comedi_get_device_file_info(unsigned minor);
 
-static inline comedi_subdevice *comedi_get_read_subdevice(
+static inline struct comedi_subdevice *comedi_get_read_subdevice(
 				const struct comedi_device_file_info *info)
 {
 	if (info->read_subdevice)
@@ -333,7 +332,7 @@ static inline comedi_subdevice *comedi_g
 	return info->device->read_subdev;
 }
 
-static inline comedi_subdevice *comedi_get_write_subdevice(
+static inline struct comedi_subdevice *comedi_get_write_subdevice(
 				const struct comedi_device_file_info *info)
 {
 	if (info->write_subdevice)
@@ -353,7 +352,7 @@ void cleanup_polling(void);
 void start_polling(struct comedi_device *);
 void stop_polling(struct comedi_device *);
 
-int comedi_buf_alloc(struct comedi_device *dev, comedi_subdevice *s, unsigned long
+int comedi_buf_alloc(struct comedi_device *dev, struct comedi_subdevice *s, unsigned long
 	new_size);
 
 #ifdef CONFIG_PROC_FS
@@ -383,11 +382,11 @@ enum subdevice_runflags {
  */
 
 int do_rangeinfo_ioctl(struct comedi_device *dev, comedi_rangeinfo *arg);
-int check_chanlist(comedi_subdevice *s, int n, unsigned int *chanlist);
-void comedi_set_subdevice_runflags(comedi_subdevice *s, unsigned mask,
+int check_chanlist(struct comedi_subdevice *s, int n, unsigned int *chanlist);
+void comedi_set_subdevice_runflags(struct comedi_subdevice *s, unsigned mask,
 	unsigned bits);
-unsigned comedi_get_subdevice_runflags(comedi_subdevice *s);
-int insn_inval(struct comedi_device *dev, comedi_subdevice *s,
+unsigned comedi_get_subdevice_runflags(struct comedi_subdevice *s);
+int insn_inval(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
 
 /* range stuff */
@@ -428,7 +427,7 @@ static inline int alloc_subdevices(struc
 
 	dev->n_subdevices = num_subdevices;
 	dev->subdevices =
-		kcalloc(num_subdevices, sizeof(comedi_subdevice), GFP_KERNEL);
+		kcalloc(num_subdevices, sizeof(struct comedi_subdevice), GFP_KERNEL);
 	if (!dev->subdevices)
 		return -ENOMEM;
 	for (i = 0; i < num_subdevices; ++i) {
@@ -448,7 +447,7 @@ static inline int alloc_private(struct c
 	return 0;
 }
 
-static inline unsigned int bytes_per_sample(const comedi_subdevice *subd)
+static inline unsigned int bytes_per_sample(const struct comedi_subdevice *subd)
 {
 	if (subd->subdev_flags & SDF_LSAMPL)
 		return sizeof(unsigned int);
@@ -523,8 +522,8 @@ static inline void *comedi_aux_data(int 
 
 int comedi_alloc_board_minor(struct device *hardware_device);
 void comedi_free_board_minor(unsigned minor);
-int comedi_alloc_subdevice_minor(struct comedi_device *dev, comedi_subdevice *s);
-void comedi_free_subdevice_minor(comedi_subdevice *s);
+int comedi_alloc_subdevice_minor(struct comedi_device *dev, struct comedi_subdevice *s);
+void comedi_free_subdevice_minor(struct comedi_subdevice *s);
 int comedi_pci_auto_config(struct pci_dev *pcidev, const char *board_name);
 void comedi_pci_auto_unconfig(struct pci_dev *pcidev);
 struct usb_device;	/* forward declaration */
--- a/drivers/staging/comedi/comedi_fops.c
+++ b/drivers/staging/comedi/comedi_fops.c
@@ -86,8 +86,8 @@ static int do_insnlist_ioctl(struct come
 static int do_insn_ioctl(struct comedi_device *dev, void *arg, void *file);
 static int do_poll_ioctl(struct comedi_device *dev, unsigned int subd, void *file);
 
-extern void do_become_nonbusy(struct comedi_device *dev, comedi_subdevice *s);
-static int do_cancel(struct comedi_device *dev, comedi_subdevice *s);
+extern void do_become_nonbusy(struct comedi_device *dev, struct comedi_subdevice *s);
+static int do_cancel(struct comedi_device *dev, struct comedi_subdevice *s);
 
 static int comedi_fasync(int fd, struct file *file, int on);
 
@@ -276,7 +276,7 @@ static int do_bufconfig_ioctl(struct com
 {
 	comedi_bufconfig bc;
 	comedi_async *async;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret = 0;
 
 	if (copy_from_user(&bc, arg, sizeof(comedi_bufconfig)))
@@ -367,9 +367,9 @@ static int do_devinfo_ioctl(struct comed
 	const unsigned minor = iminor(file->f_dentry->d_inode);
 	struct comedi_device_file_info *dev_file_info =
 	    comedi_get_device_file_info(minor);
-	comedi_subdevice *read_subdev =
+	struct comedi_subdevice *read_subdev =
 	    comedi_get_read_subdevice(dev_file_info);
-	comedi_subdevice *write_subdev =
+	struct comedi_subdevice *write_subdev =
 	    comedi_get_write_subdevice(dev_file_info);
 
 	memset(&devinfo, 0, sizeof(devinfo));
@@ -415,7 +415,7 @@ static int do_subdinfo_ioctl(struct come
 {
 	int ret, i;
 	comedi_subdinfo *tmp, *us;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	tmp = kcalloc(dev->n_subdevices, sizeof(comedi_subdinfo), GFP_KERNEL);
 	if (!tmp)
@@ -492,7 +492,7 @@ static int do_subdinfo_ioctl(struct come
 */
 static int do_chaninfo_ioctl(struct comedi_device *dev, comedi_chaninfo *arg)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	comedi_chaninfo it;
 
 	if (copy_from_user(&it, arg, sizeof(comedi_chaninfo)))
@@ -557,7 +557,7 @@ static int do_chaninfo_ioctl(struct come
 static int do_bufinfo_ioctl(struct comedi_device *dev, void *arg)
 {
 	comedi_bufinfo bi;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	comedi_async *async;
 
 	if (copy_from_user(&bi, arg, sizeof(comedi_bufinfo)))
@@ -760,7 +760,7 @@ static int check_insn_config_length(come
 static int parse_insn(struct comedi_device *dev, comedi_insn *insn, unsigned int *data,
 		      void *file)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret = 0;
 	int i;
 
@@ -978,7 +978,7 @@ error:
 static int do_cmd_ioctl(struct comedi_device *dev, void *arg, void *file)
 {
 	comedi_cmd user_cmd;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	comedi_async *async;
 	int ret = 0;
 	unsigned int *chanlist_saver = NULL;
@@ -1132,7 +1132,7 @@ cleanup:
 static int do_cmdtest_ioctl(struct comedi_device *dev, void *arg, void *file)
 {
 	comedi_cmd user_cmd;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret = 0;
 	unsigned int *chanlist = NULL;
 	unsigned int *chanlist_saver = NULL;
@@ -1231,7 +1231,7 @@ static int do_lock_ioctl(struct comedi_d
 {
 	int ret = 0;
 	unsigned long flags;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	if (arg >= dev->n_subdevices)
 		return -EINVAL;
@@ -1273,7 +1273,7 @@ static int do_lock_ioctl(struct comedi_d
 */
 static int do_unlock_ioctl(struct comedi_device *dev, unsigned int arg, void *file)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	if (arg >= dev->n_subdevices)
 		return -EINVAL;
@@ -1313,7 +1313,7 @@ static int do_unlock_ioctl(struct comedi
 */
 static int do_cancel_ioctl(struct comedi_device *dev, unsigned int arg, void *file)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	if (arg >= dev->n_subdevices)
 		return -EINVAL;
@@ -1349,7 +1349,7 @@ static int do_cancel_ioctl(struct comedi
 */
 static int do_poll_ioctl(struct comedi_device *dev, unsigned int arg, void *file)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	if (arg >= dev->n_subdevices)
 		return -EINVAL;
@@ -1370,7 +1370,7 @@ static int do_poll_ioctl(struct comedi_d
 	return -EINVAL;
 }
 
-static int do_cancel(struct comedi_device *dev, comedi_subdevice *s)
+static int do_cancel(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	int ret = 0;
 
@@ -1411,7 +1411,7 @@ static int comedi_mmap(struct file *file
 	int n_pages;
 	int i;
 	int retval;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	mutex_lock(&dev->mutex);
 	if (!dev->attached) {
@@ -1481,8 +1481,8 @@ static unsigned int comedi_poll(struct f
 	struct comedi_device_file_info *dev_file_info =
 	    comedi_get_device_file_info(minor);
 	struct comedi_device *dev = dev_file_info->device;
-	comedi_subdevice *read_subdev;
-	comedi_subdevice *write_subdev;
+	struct comedi_subdevice *read_subdev;
+	struct comedi_subdevice *write_subdev;
 
 	mutex_lock(&dev->mutex);
 	if (!dev->attached) {
@@ -1523,7 +1523,7 @@ static unsigned int comedi_poll(struct f
 static ssize_t comedi_write(struct file *file, const char *buf, size_t nbytes,
 			    loff_t *offset)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	comedi_async *async;
 	int n, m, count = 0, retval = 0;
 	DECLARE_WAITQUEUE(wait, current);
@@ -1625,7 +1625,7 @@ done:
 static ssize_t comedi_read(struct file *file, char *buf, size_t nbytes,
 			   loff_t *offset)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	comedi_async *async;
 	int n, m, count = 0, retval = 0;
 	DECLARE_WAITQUEUE(wait, current);
@@ -1733,7 +1733,7 @@ done:
 /*
    This function restores a subdevice to an idle state.
  */
-void do_become_nonbusy(struct comedi_device *dev, comedi_subdevice *s)
+void do_become_nonbusy(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	comedi_async *async = s->async;
 
@@ -1833,7 +1833,7 @@ static int comedi_close(struct inode *in
 	struct comedi_device_file_info *dev_file_info =
 	    comedi_get_device_file_info(minor);
 	struct comedi_device *dev = dev_file_info->device;
-	comedi_subdevice *s = NULL;
+	struct comedi_subdevice *s = NULL;
 	int i;
 
 	mutex_lock(&dev->mutex);
@@ -2006,7 +2006,7 @@ void comedi_error(const struct comedi_de
 		  s);
 }
 
-void comedi_event(struct comedi_device *dev, comedi_subdevice *s)
+void comedi_event(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	comedi_async *async = s->async;
 	unsigned runflags = 0;
@@ -2067,7 +2067,7 @@ void comedi_event(struct comedi_device *
 	s->async->events = 0;
 }
 
-void comedi_set_subdevice_runflags(comedi_subdevice *s, unsigned mask,
+void comedi_set_subdevice_runflags(struct comedi_subdevice *s, unsigned mask,
 				   unsigned bits)
 {
 	unsigned long flags;
@@ -2078,7 +2078,7 @@ void comedi_set_subdevice_runflags(comed
 	comedi_spin_unlock_irqrestore(&s->spin_lock, flags);
 }
 
-unsigned comedi_get_subdevice_runflags(comedi_subdevice *s)
+unsigned comedi_get_subdevice_runflags(struct comedi_subdevice *s)
 {
 	unsigned long flags;
 	unsigned runflags;
@@ -2091,7 +2091,7 @@ unsigned comedi_get_subdevice_runflags(c
 
 static int is_device_busy(struct comedi_device *dev)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int i;
 
 	if (!dev->attached)
@@ -2193,7 +2193,7 @@ void comedi_free_board_minor(unsigned mi
 	}
 }
 
-int comedi_alloc_subdevice_minor(struct comedi_device *dev, comedi_subdevice *s)
+int comedi_alloc_subdevice_minor(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	unsigned long flags;
 	struct comedi_device_file_info *info;
@@ -2231,7 +2231,7 @@ int comedi_alloc_subdevice_minor(struct 
 	return i;
 }
 
-void comedi_free_subdevice_minor(comedi_subdevice *s)
+void comedi_free_subdevice_minor(struct comedi_subdevice *s)
 {
 	unsigned long flags;
 	struct comedi_device_file_info *info;
--- a/drivers/staging/comedi/drivers/8255.c
+++ b/drivers/staging/comedi/drivers/8255.c
@@ -116,9 +116,9 @@ static comedi_driver driver_8255 = {
 
 COMEDI_INITCLEANUP(driver_8255);
 
-static void do_config(struct comedi_device *dev, comedi_subdevice * s);
+static void do_config(struct comedi_device *dev, struct comedi_subdevice * s);
 
-void subdev_8255_interrupt(struct comedi_device *dev, comedi_subdevice * s)
+void subdev_8255_interrupt(struct comedi_device *dev, struct comedi_subdevice * s)
 {
 	short d;
 
@@ -143,7 +143,7 @@ static int subdev_8255_cb(int dir, int p
 	}
 }
 
-static int subdev_8255_insn(struct comedi_device *dev, comedi_subdevice * s,
+static int subdev_8255_insn(struct comedi_device *dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0]) {
@@ -168,7 +168,7 @@ static int subdev_8255_insn(struct comed
 	return 2;
 }
 
-static int subdev_8255_insn_config(struct comedi_device *dev, comedi_subdevice * s,
+static int subdev_8255_insn_config(struct comedi_device *dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int mask;
@@ -205,7 +205,7 @@ static int subdev_8255_insn_config(struc
 	return 1;
 }
 
-static void do_config(struct comedi_device *dev, comedi_subdevice * s)
+static void do_config(struct comedi_device *dev, struct comedi_subdevice * s)
 {
 	int config;
 
@@ -222,7 +222,7 @@ static void do_config(struct comedi_devi
 	CALLBACK_FUNC(1, _8255_CR, config, CALLBACK_ARG);
 }
 
-static int subdev_8255_cmdtest(struct comedi_device *dev, comedi_subdevice * s,
+static int subdev_8255_cmdtest(struct comedi_device *dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -297,21 +297,21 @@ static int subdev_8255_cmdtest(struct co
 	return 0;
 }
 
-static int subdev_8255_cmd(struct comedi_device *dev, comedi_subdevice * s)
+static int subdev_8255_cmd(struct comedi_device *dev, struct comedi_subdevice * s)
 {
 	/* FIXME */
 
 	return 0;
 }
 
-static int subdev_8255_cancel(struct comedi_device *dev, comedi_subdevice * s)
+static int subdev_8255_cancel(struct comedi_device *dev, struct comedi_subdevice * s)
 {
 	/* FIXME */
 
 	return 0;
 }
 
-int subdev_8255_init(struct comedi_device *dev, comedi_subdevice * s, int (*cb) (int,
+int subdev_8255_init(struct comedi_device *dev, struct comedi_subdevice * s, int (*cb) (int,
 		int, int, unsigned long), unsigned long arg)
 {
 	s->type = COMEDI_SUBD_DIO;
@@ -340,7 +340,7 @@ int subdev_8255_init(struct comedi_devic
 	return 0;
 }
 
-int subdev_8255_init_irq(struct comedi_device *dev, comedi_subdevice * s,
+int subdev_8255_init_irq(struct comedi_device *dev, struct comedi_subdevice * s,
 	int (*cb) (int, int, int, unsigned long), unsigned long arg)
 {
 	int ret;
@@ -358,7 +358,7 @@ int subdev_8255_init_irq(struct comedi_d
 	return 0;
 }
 
-void subdev_8255_cleanup(struct comedi_device *dev, comedi_subdevice * s)
+void subdev_8255_cleanup(struct comedi_device *dev, struct comedi_subdevice * s)
 {
 	if (s->private) {
 		if (subdevpriv->have_irq) {
@@ -420,7 +420,7 @@ static int dev_8255_detach(struct comedi
 {
 	int i;
 	unsigned long iobase;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	printk("comedi%d: 8255: remove\n", dev->minor);
 
--- a/drivers/staging/comedi/drivers/8255.h
+++ b/drivers/staging/comedi/drivers/8255.h
@@ -28,16 +28,16 @@
 
 #if defined(CONFIG_COMEDI_8255) || defined(CONFIG_COMEDI_8255_MODULE)
 
-int subdev_8255_init(struct comedi_device * dev, comedi_subdevice * s,
+int subdev_8255_init(struct comedi_device * dev, struct comedi_subdevice * s,
 	int (*cb) (int, int, int, unsigned long), unsigned long arg);
-int subdev_8255_init_irq(struct comedi_device * dev, comedi_subdevice * s,
+int subdev_8255_init_irq(struct comedi_device * dev, struct comedi_subdevice * s,
 	int (*cb) (int, int, int, unsigned long), unsigned long arg);
-void subdev_8255_cleanup(struct comedi_device * dev, comedi_subdevice * s);
-void subdev_8255_interrupt(struct comedi_device * dev, comedi_subdevice * s);
+void subdev_8255_cleanup(struct comedi_device * dev, struct comedi_subdevice * s);
+void subdev_8255_interrupt(struct comedi_device * dev, struct comedi_subdevice * s);
 
 #else
 
-static inline int subdev_8255_init(struct comedi_device * dev, comedi_subdevice * s,
+static inline int subdev_8255_init(struct comedi_device * dev, struct comedi_subdevice * s,
 	void *x, unsigned long y)
 {
 	printk("8255 support not configured -- disabling subdevice\n");
@@ -48,7 +48,7 @@ static inline int subdev_8255_init(struc
 }
 
 static inline void subdev_8255_cleanup(struct comedi_device * dev,
-	comedi_subdevice * s)
+	struct comedi_subdevice * s)
 {
 }
 
--- a/drivers/staging/comedi/drivers/acl7225b.c
+++ b/drivers/staging/comedi/drivers/acl7225b.c
@@ -50,7 +50,7 @@ static comedi_driver driver_acl7225b = {
 
 COMEDI_INITCLEANUP(driver_acl7225b);
 
-static int acl7225b_do_insn(struct comedi_device *dev, comedi_subdevice * s,
+static int acl7225b_do_insn(struct comedi_device *dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -71,7 +71,7 @@ static int acl7225b_do_insn(struct comed
 	return 2;
 }
 
-static int acl7225b_di_insn(struct comedi_device *dev, comedi_subdevice * s,
+static int acl7225b_di_insn(struct comedi_device *dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -85,7 +85,7 @@ static int acl7225b_di_insn(struct comed
 
 static int acl7225b_attach(struct comedi_device *dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int iobase, iorange;
 
 	iobase = it->options[0];
--- a/drivers/staging/comedi/drivers/addi-data/addi_common.c
+++ b/drivers/staging/comedi/drivers/addi-data/addi_common.c
@@ -2561,7 +2561,7 @@ COMEDI_PCI_INITCLEANUP(driver_addi, addi
 
 static int i_ADDI_Attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret, pages, i, n_subdevices;
 	DWORD dw_Dummy;
 	resource_size_t io_addr[5];
@@ -3029,14 +3029,14 @@ static irqreturn_t v_ADDI_Interrupt(int 
 /*
 +----------------------------------------------------------------------------+
 | Function name     :                                                        |
-|INT i_ADDIDATA_InsnReadEeprom(struct comedi_device *dev,comedi_subdevice *s,
+|INT i_ADDIDATA_InsnReadEeprom(struct comedi_device *dev,struct comedi_subdevice *s,
 							comedi_insn *insn,unsigned int *data)
 |                                        									 |
 +----------------------------------------------------------------------------+
 | Task              : Read 256 words from EEPROM          				     |
 |                     										                 |
 +----------------------------------------------------------------------------+
-| Input Parameters  :(struct comedi_device *dev,comedi_subdevice *s,
+| Input Parameters  :(struct comedi_device *dev,struct comedi_subdevice *s,
 			comedi_insn *insn,unsigned int *data) 						 |
 |                     														 |
 |                                                 					         |
@@ -3046,7 +3046,7 @@ static irqreturn_t v_ADDI_Interrupt(int 
 +----------------------------------------------------------------------------+
 */
 
-static int i_ADDIDATA_InsnReadEeprom(struct comedi_device * dev, comedi_subdevice * s,
+static int i_ADDIDATA_InsnReadEeprom(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	WORD w_Data;
--- a/drivers/staging/comedi/drivers/addi-data/addi_common.h
+++ b/drivers/staging/comedi/drivers/addi-data/addi_common.h
@@ -118,103 +118,103 @@ typedef struct {
 
 	/* ANALOG INPUT */
 	int (*i_hwdrv_InsnConfigAnalogInput)(struct comedi_device *dev,
-					     comedi_subdevice *s,
+					     struct comedi_subdevice *s,
 					     comedi_insn *insn,
 					     unsigned int *data);
 	int (*i_hwdrv_InsnReadAnalogInput)(struct comedi_device *dev,
-					    comedi_subdevice *s,
+					    struct comedi_subdevice *s,
 					    comedi_insn *insn,
 					    unsigned int *data);
 	int (*i_hwdrv_InsnWriteAnalogInput)(struct comedi_device *dev,
-					    comedi_subdevice *s,
+					    struct comedi_subdevice *s,
 					    comedi_insn *insn,
 					    unsigned int *data);
 	int (*i_hwdrv_InsnBitsAnalogInput)(struct comedi_device *dev,
-					   comedi_subdevice *s,
+					   struct comedi_subdevice *s,
 					   comedi_insn *insn,
 					   unsigned int *data);
 	int (*i_hwdrv_CommandTestAnalogInput)(struct comedi_device *dev,
-					      comedi_subdevice *s,
+					      struct comedi_subdevice *s,
 					      comedi_cmd *cmd);
 	int (*i_hwdrv_CommandAnalogInput)(struct comedi_device *dev,
-					  comedi_subdevice *s);
+					  struct comedi_subdevice *s);
 	int (*i_hwdrv_CancelAnalogInput)(struct comedi_device *dev,
-					 comedi_subdevice *s);
+					 struct comedi_subdevice *s);
 
 	/* Analog Output */
 	int (*i_hwdrv_InsnConfigAnalogOutput)(struct comedi_device *dev,
-					      comedi_subdevice *s,
+					      struct comedi_subdevice *s,
 					      comedi_insn *insn,
 					      unsigned int *data);
 	int (*i_hwdrv_InsnWriteAnalogOutput)(struct comedi_device *dev,
-					     comedi_subdevice *s,
+					     struct comedi_subdevice *s,
 					     comedi_insn *insn,
 					     unsigned int *data);
 	int (*i_hwdrv_InsnBitsAnalogOutput)(struct comedi_device *dev,
-					    comedi_subdevice *s,
+					    struct comedi_subdevice *s,
 					    comedi_insn *insn,
 					    unsigned int *data);
 
 	/* Digital Input */
 	int (*i_hwdrv_InsnConfigDigitalInput) (struct comedi_device *dev,
-					       comedi_subdevice *s,
+					       struct comedi_subdevice *s,
 					       comedi_insn *insn,
 					       unsigned int *data);
 	int (*i_hwdrv_InsnReadDigitalInput) (struct comedi_device *dev,
-					     comedi_subdevice *s,
+					     struct comedi_subdevice *s,
 					     comedi_insn *insn,
 					     unsigned int *data);
 	int (*i_hwdrv_InsnWriteDigitalInput) (struct comedi_device *dev,
-					      comedi_subdevice *s,
+					      struct comedi_subdevice *s,
 					      comedi_insn *insn,
 					      unsigned int *data);
 	int (*i_hwdrv_InsnBitsDigitalInput) (struct comedi_device *dev,
-					     comedi_subdevice *s,
+					     struct comedi_subdevice *s,
 					     comedi_insn *insn,
 					     unsigned int *data);
 
 	/* Digital Output */
 	int (*i_hwdrv_InsnConfigDigitalOutput)(struct comedi_device *dev,
-					       comedi_subdevice *s,
+					       struct comedi_subdevice *s,
 					       comedi_insn *insn,
 					       unsigned int *data);
 	int (*i_hwdrv_InsnWriteDigitalOutput)(struct comedi_device *dev,
-					      comedi_subdevice *s,
+					      struct comedi_subdevice *s,
 					      comedi_insn *insn,
 					      unsigned int *data);
 	int (*i_hwdrv_InsnBitsDigitalOutput)(struct comedi_device *dev,
-					     comedi_subdevice *s,
+					     struct comedi_subdevice *s,
 					     comedi_insn *insn,
 					     unsigned int *data);
 	int (*i_hwdrv_InsnReadDigitalOutput)(struct comedi_device *dev,
-					     comedi_subdevice *s,
+					     struct comedi_subdevice *s,
 					     comedi_insn *insn,
 					     unsigned int *data);
 
 	/* TIMER */
 	int (*i_hwdrv_InsnConfigTimer)(struct comedi_device *dev,
-				       comedi_subdevice *s,
+				       struct comedi_subdevice *s,
 				       comedi_insn *insn, unsigned int *data);
 	int (*i_hwdrv_InsnWriteTimer)(struct comedi_device *dev,
-				      comedi_subdevice *s, comedi_insn *insn,
+				      struct comedi_subdevice *s, comedi_insn *insn,
 				      unsigned int *data);
-	int (*i_hwdrv_InsnReadTimer)(struct comedi_device *dev, comedi_subdevice *s,
+	int (*i_hwdrv_InsnReadTimer)(struct comedi_device *dev, struct comedi_subdevice *s,
 				     comedi_insn *insn, unsigned int *data);
-	int (*i_hwdrv_InsnBitsTimer)(struct comedi_device *dev, comedi_subdevice *s,
+	int (*i_hwdrv_InsnBitsTimer)(struct comedi_device *dev, struct comedi_subdevice *s,
 				     comedi_insn *insn, unsigned int *data);
 
 	/* TTL IO */
 	int (*i_hwdr_ConfigInitTTLIO)(struct comedi_device *dev,
-				      comedi_subdevice *s, comedi_insn *insn,
+				      struct comedi_subdevice *s, comedi_insn *insn,
 				      unsigned int *data);
-	int (*i_hwdr_ReadTTLIOBits)(struct comedi_device *dev, comedi_subdevice *s,
+	int (*i_hwdr_ReadTTLIOBits)(struct comedi_device *dev, struct comedi_subdevice *s,
 				    comedi_insn *insn, unsigned int *data);
 	int (*i_hwdr_ReadTTLIOAllPortValue)(struct comedi_device *dev,
-					    comedi_subdevice *s,
+					    struct comedi_subdevice *s,
 					    comedi_insn *insn,
 					    unsigned int *data);
 	int (*i_hwdr_WriteTTLIOChlOnOff)(struct comedi_device *dev,
-					 comedi_subdevice *s,
+					 struct comedi_subdevice *s,
 					 comedi_insn *insn, unsigned int *data);
 } boardtype;
 
@@ -461,5 +461,5 @@ static int i_ADDI_Detach(struct comedi_d
 static int i_ADDI_Reset(struct comedi_device *dev);
 
 static irqreturn_t v_ADDI_Interrupt(int irq, void *d PT_REGS_ARG);
-static int i_ADDIDATA_InsnReadEeprom(struct comedi_device *dev, comedi_subdevice *s,
+static int i_ADDIDATA_InsnReadEeprom(struct comedi_device *dev, struct comedi_subdevice *s,
 				     comedi_insn *insn, unsigned int *data);
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_82x54.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_82x54.c
@@ -32,7 +32,7 @@
 |                                BYTE_   b_InputClockLevel,                  |
 |                                BYTE_   b_OutputLevel,                      |
 |                                BYTE_   b_HardwareGateLevel)
-INT i_InsnConfig_InitTimer(struct comedi_device *dev,comedi_subdevice *s,
+INT i_InsnConfig_InitTimer(struct comedi_device *dev,struct comedi_subdevice *s,
 	comedi_insn *insn,unsigned int *data)
 |
 +----------------------------------------------------------------------------+
@@ -219,7 +219,7 @@ INT i_InsnConfig_InitTimer(struct comedi
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnConfigInitTimer(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnConfigInitTimer(struct comedi_device * dev, struct comedi_subdevice * s,
 				   comedi_insn * insn, unsigned int * data)
 {
 
@@ -406,7 +406,7 @@ INT i_APCI1710_InsnConfigInitTimer(struc
 |                                BYTE_ b_ModulNbr,                           |
 |                                BYTE_ b_TimerNbr,                           |
 |                                BYTE_ b_InterruptEnable)
-INT i_APCI1710_InsnWriteEnableDisableTimer(struct comedi_device *dev,comedi_subdevice *s,
+INT i_APCI1710_InsnWriteEnableDisableTimer(struct comedi_device *dev,struct comedi_subdevice *s,
 	comedi_insn *insn,unsigned int *data)                |
 +----------------------------------------------------------------------------+
 | Task              : Enable OR Disable the Timer (b_TimerNbr) from selected module     |
@@ -449,7 +449,7 @@ i_ReturnValue=insn->n;
 */
 
 INT i_APCI1710_InsnWriteEnableDisableTimer(struct comedi_device * dev,
-					   comedi_subdevice * s,
+					   struct comedi_subdevice * s,
 					   comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
@@ -561,7 +561,7 @@ INT i_APCI1710_InsnWriteEnableDisableTim
 |                                       (BYTE_     b_BoardHandle,            |
 |                                        BYTE_     b_ModulNbr,               |
 |                                        PULONG_ pul_TimerValueArray)
-INT i_APCI1710_InsnReadAllTimerValue(struct comedi_device *dev,comedi_subdevice *s,
+INT i_APCI1710_InsnReadAllTimerValue(struct comedi_device *dev,struct comedi_subdevice *s,
 	comedi_insn *insn,unsigned int *data)        |
 +----------------------------------------------------------------------------+
 | Task              : Return the all timer values from selected timer        |
@@ -590,7 +590,7 @@ INT i_APCI1710_InsnReadAllTimerValue(str
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnReadAllTimerValue(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnReadAllTimerValue(struct comedi_device *dev, struct comedi_subdevice *s,
 				     comedi_insn *insn, unsigned int *data)
 {
 	INT i_ReturnValue = 0;
@@ -669,7 +669,7 @@ INT i_APCI1710_InsnReadAllTimerValue(str
 /*
 +----------------------------------------------------------------------------+
 | Function Name     :INT i_APCI1710_InsnBitsTimer(struct comedi_device *dev,
-comedi_subdevice *s,comedi_insn *insn,unsigned int *data)                   |
+struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data)                   |
 +----------------------------------------------------------------------------+
 | Task              : Read write functions for Timer                                          |
 +----------------------------------------------------------------------------+
@@ -681,7 +681,7 @@ comedi_subdevice *s,comedi_insn *insn,un
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnBitsTimer(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnBitsTimer(struct comedi_device * dev, struct comedi_subdevice * s,
 			     comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_BitsType;
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_82x54.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_82x54.h
@@ -34,20 +34,20 @@
 /*
  * 82X54 TIMER INISIALISATION FUNCTION
  */
-INT i_APCI1710_InsnConfigInitTimer(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnConfigInitTimer(struct comedi_device *dev, struct comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_InsnWriteEnableDisableTimer(struct comedi_device *dev,
-					   comedi_subdevice *s,
+					   struct comedi_subdevice *s,
 					   comedi_insn *insn, unsigned int *data);
 
 /*
  * 82X54 READ FUNCTION
  */
-INT i_APCI1710_InsnReadAllTimerValue(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnReadAllTimerValue(struct comedi_device *dev, struct comedi_subdevice *s,
 				     comedi_insn *insn, unsigned int *data);
 
-INT i_APCI1710_InsnBitsTimer(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnBitsTimer(struct comedi_device *dev, struct comedi_subdevice *s,
 			     comedi_insn *insn, unsigned int *data);
 
 /*
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Chrono.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Chrono.c
@@ -131,7 +131,7 @@ You shoud also find the complete GPL in 
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnConfigInitChrono(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnConfigInitChrono(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
@@ -791,7 +791,7 @@ INT i_APCI1710_InsnConfigInitChrono(stru
 |                                                BYTE_ b_CycleMode,          |
 |                                                BYTE_ b_InterruptEnable)
 INT i_APCI1710_InsnWriteEnableDisableChrono(struct comedi_device *dev,
-comedi_subdevice *s,comedi_insn *insn,unsigned int *data)						 |
+struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data)						 |
 +----------------------------------------------------------------------------+
 | Task              : Enable the chronometer from selected module            |
 |                     (b_ModulNbr). You must calling the                     |
@@ -841,7 +841,7 @@ comedi_subdevice *s,comedi_insn *insn,un
 */
 
 INT i_APCI1710_InsnWriteEnableDisableChrono(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	BYTE b_ModulNbr, b_CycleMode, b_InterruptEnable, b_Action;
@@ -1077,7 +1077,7 @@ INT i_APCI1710_InsnWriteEnableDisableChr
 
 /*
 +----------------------------------------------------------------------------+
-| Function Name     :INT	i_APCI1710_InsnReadChrono(struct comedi_device *dev,comedi_subdevice *s,
+| Function Name     :INT	i_APCI1710_InsnReadChrono(struct comedi_device *dev,struct comedi_subdevice *s,
 comedi_insn *insn,unsigned int *data)                   |
 +----------------------------------------------------------------------------+
 | Task              : Read  functions for Timer                                     |
@@ -1090,7 +1090,7 @@ comedi_insn *insn,unsigned int *data)   
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnReadChrono(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnReadChrono(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_ReadType;
@@ -1757,7 +1757,7 @@ INT i_APCI1710_ConvertChronoValue(struct
 
 /*
 +----------------------------------------------------------------------------+
-| Function Name     : INT i_APCI1710_InsnBitsChronoDigitalIO(struct comedi_device *dev,comedi_subdevice *s,
+| Function Name     : INT i_APCI1710_InsnBitsChronoDigitalIO(struct comedi_device *dev,struct comedi_subdevice *s,
 	comedi_insn *insn,unsigned int *data)                    |
 +----------------------------------------------------------------------------+
 | Task              : Sets the output witch has been passed with the         |
@@ -1877,7 +1877,7 @@ INT i_APCI1710_ConvertChronoValue(struct
 */
 
 INT i_APCI1710_InsnBitsChronoDigitalIO(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	BYTE b_ModulNbr, b_OutputChannel, b_InputChannel, b_IOType;
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Chrono.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Chrono.h
@@ -35,18 +35,18 @@
 /*
  * CHRONOMETER INISIALISATION FUNCTION
  */
-INT i_APCI1710_InsnConfigInitChrono(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnConfigInitChrono(struct comedi_device *dev, struct comedi_subdevice *s,
 				    comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_InsnWriteEnableDisableChrono(struct comedi_device *dev,
-					    comedi_subdevice *s,
+					    struct comedi_subdevice *s,
 					    comedi_insn *insn,
 					    unsigned int *data);
 
 /*
  * CHRONOMETER READ FUNCTION
  */
-INT i_APCI1710_InsnReadChrono(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnReadChrono(struct comedi_device *dev, struct comedi_subdevice *s,
 			      comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_GetChronoProgressStatus(struct comedi_device *dev,
@@ -70,5 +70,5 @@ INT i_APCI1710_ConvertChronoValue(struct
  * CHRONOMETER DIGITAL INPUT OUTPUT FUNCTION
  */
 INT i_APCI1710_InsnBitsChronoDigitalIO(struct comedi_device *dev,
-				       comedi_subdevice *s, comedi_insn *insn,
+				       struct comedi_subdevice *s, comedi_insn *insn,
 				       unsigned int *data);
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Dig_io.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Dig_io.c
@@ -62,7 +62,7 @@ You shoud also find the complete GPL in 
 /*
 +----------------------------------------------------------------------------+
 | Function Name     : INT i_APCI1710_InsnConfigDigitalIO(struct comedi_device *dev, |
-|						comedi_subdevice *s,comedi_insn *insn,unsigned int *data)|
+|						struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data)|
 +----------------------------------------------------------------------------+
 | Task              : Configure the digital I/O operating mode from selected |
 |                     module  (b_ModulNbr). You must calling this function be|
@@ -99,7 +99,7 @@ Activates and deactivates the digital ou
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnConfigDigitalIO(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnConfigDigitalIO(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_ModulNbr, b_ChannelAMode, b_ChannelBMode;
@@ -294,7 +294,7 @@ INT i_APCI1710_InsnConfigDigitalIO(struc
 //
 //                                             PBYTE_  pb_ChannelStatus)
 INT i_APCI1710_InsnReadDigitalIOChlValue(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_StatusReg;
@@ -446,7 +446,7 @@ INT i_APCI1710_InsnReadDigitalIOChlValue
 /*
 +----------------------------------------------------------------------------+
 | Function Name     : INT i_APCI1710_InsnWriteDigitalIOChlOnOff(comedi_device
-|*dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data)
+|*dev,struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data)
 
 +----------------------------------------------------------------------------+
 | Task              : Sets or resets the output witch has been passed with the         |
@@ -482,7 +482,7 @@ INT i_APCI1710_InsnReadDigitalIOChlValue
 //                                       BYTE_ b_ModulNbr,
 //                                       BYTE_ b_OutputChannel)
 INT i_APCI1710_InsnWriteDigitalIOChlOnOff(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_WriteValue = 0;
@@ -729,7 +729,7 @@ INT i_APCI1710_InsnWriteDigitalIOChlOnOf
 //                                       BYTE_ b_ModulNbr,
 //                                       BYTE_ b_PortValue)
 INT i_APCI1710_InsnBitsDigitalIOPortOnOff(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_WriteValue = 0;
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Dig_io.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Dig_io.h
@@ -27,20 +27,20 @@
 /*
  * DIGITAL I/O INISIALISATION FUNCTION
  */
-INT i_APCI1710_InsnConfigDigitalIO(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnConfigDigitalIO(struct comedi_device *dev, struct comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
 
 /*
  * INPUT OUTPUT  FUNCTIONS
  */
 INT i_APCI1710_InsnReadDigitalIOChlValue(struct comedi_device *dev,
-					 comedi_subdevice *s,
+					 struct comedi_subdevice *s,
 					 comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_InsnWriteDigitalIOChlOnOff(struct comedi_device *dev,
-					  comedi_subdevice *s,
+					  struct comedi_subdevice *s,
 					  comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_InsnBitsDigitalIOPortOnOff(struct comedi_device *dev,
-					  comedi_subdevice *s,
+					  struct comedi_subdevice *s,
 					  comedi_insn *insn, unsigned int *data);
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_INCCPT.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_INCCPT.c
@@ -61,7 +61,7 @@ You shoud also find the complete GPL in 
 
 /*
 +----------------------------------------------------------------------------+
-| INT	i_APCI1710_InsnConfigINCCPT(struct comedi_device *dev,comedi_subdevice *s,
+| INT	i_APCI1710_InsnConfigINCCPT(struct comedi_device *dev,struct comedi_subdevice *s,
 comedi_insn *insn,unsigned int *data)
 
 +----------------------------------------------------------------------------+
@@ -75,7 +75,7 @@ comedi_insn *insn,unsigned int *data)
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnConfigINCCPT(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnConfigINCCPT(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_ConfigType;
@@ -2002,7 +2002,7 @@ INT i_APCI1710_InitFrequencyMeasurement(
 
 /*
 +----------------------------------------------------------------------------+
-| Function Name     :INT	i_APCI1710_InsnBitsINCCPT(struct comedi_device *dev,comedi_subdevice *s,
+| Function Name     :INT	i_APCI1710_InsnBitsINCCPT(struct comedi_device *dev,struct comedi_subdevice *s,
 comedi_insn *insn,unsigned int *data)                   |
 +----------------------------------------------------------------------------+
 | Task              : Set & Clear Functions for INC_CPT                                          |
@@ -2015,7 +2015,7 @@ comedi_insn *insn,unsigned int *data)   
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnBitsINCCPT(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnBitsINCCPT(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_BitsType;
@@ -2939,7 +2939,7 @@ INT i_APCI1710_SetDigitalChlOff(struct c
 
 /*
 +----------------------------------------------------------------------------+
-| Function Name     :INT	i_APCI1710_InsnWriteINCCPT(struct comedi_device *dev,comedi_subdevice *s,
+| Function Name     :INT	i_APCI1710_InsnWriteINCCPT(struct comedi_device *dev,struct comedi_subdevice *s,
 comedi_insn *insn,unsigned int *data)                   |
 +----------------------------------------------------------------------------+
 | Task              : Enable Disable functions for INC_CPT                                       |
@@ -2951,7 +2951,7 @@ comedi_insn *insn,unsigned int *data)   
 | Return Value      :
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1710_InsnWriteINCCPT(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnWriteINCCPT(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_WriteType;
@@ -4037,7 +4037,7 @@ INT i_APCI1710_DisableFrequencyMeasureme
 
 /*
 +----------------------------------------------------------------------------+
-| Function Name     :INT	i_APCI1710_InsnWriteINCCPT(struct comedi_device *dev,comedi_subdevice *s,
+| Function Name     :INT	i_APCI1710_InsnWriteINCCPT(struct comedi_device *dev,struct comedi_subdevice *s,
 comedi_insn *insn,unsigned int *data)                   |
 +----------------------------------------------------------------------------+
 | Task              : Read and Get functions for INC_CPT                                       |
@@ -4049,7 +4049,7 @@ comedi_insn *insn,unsigned int *data)   
 | Return Value      :
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1710_InsnReadINCCPT(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnReadINCCPT(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_ReadType;
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_INCCPT.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_INCCPT.h
@@ -132,16 +132,16 @@
 #define APCI1710_INCCPT_DISABLEFREQUENCYMEASUREMENT		409
 
 /************ Main Functions *************/
-INT i_APCI1710_InsnConfigINCCPT(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnConfigINCCPT(struct comedi_device *dev, struct comedi_subdevice *s,
 				comedi_insn *insn, unsigned int * data);
 
-INT i_APCI1710_InsnBitsINCCPT(struct comedi_device *dev, comedi_subdevice * s,
+INT i_APCI1710_InsnBitsINCCPT(struct comedi_device *dev, struct comedi_subdevice * s,
 			      comedi_insn *insn, unsigned int * data);
 
-INT i_APCI1710_InsnWriteINCCPT(struct comedi_device *dev, comedi_subdevice * s,
+INT i_APCI1710_InsnWriteINCCPT(struct comedi_device *dev, struct comedi_subdevice * s,
 			       comedi_insn *insn, unsigned int * data);
 
-INT i_APCI1710_InsnReadINCCPT(struct comedi_device *dev, comedi_subdevice * s,
+INT i_APCI1710_InsnReadINCCPT(struct comedi_device *dev, struct comedi_subdevice * s,
 			      comedi_insn *insn, unsigned int * data);
 
 /*********** Supplementary Functions********/
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Inp_cpt.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Inp_cpt.c
@@ -124,7 +124,7 @@ You shoud also find the complete GPL in 
 */
 
 INT i_APCI1710_InsnConfigInitPulseEncoder(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_IntRegister;
@@ -415,7 +415,7 @@ INT i_APCI1710_InsnConfigInitPulseEncode
 */
 
 INT i_APCI1710_InsnWriteEnableDisablePulseEncoder(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	BYTE b_ModulNbr;
@@ -709,7 +709,7 @@ INT i_APCI1710_InsnWriteEnableDisablePul
    						 PBYTE_ pb_Status)
 						 */
 INT i_APCI1710_InsnBitsReadWritePulseEncoder(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_StatusRegister;
@@ -835,7 +835,7 @@ INT i_APCI1710_InsnBitsReadWritePulseEnc
 }
 
 INT i_APCI1710_InsnReadInterruptPulseEncoder(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 
 	data[0] = devpriv->s_InterruptParameters.
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Inp_cpt.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Inp_cpt.h
@@ -22,11 +22,11 @@
 #define APCI1710_PULSEENCODER_WRITE	1
 
 INT i_APCI1710_InsnConfigInitPulseEncoder(struct comedi_device *dev,
-					  comedi_subdevice *s,
+					  struct comedi_subdevice *s,
 					  comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_InsnWriteEnableDisablePulseEncoder(struct comedi_device *dev,
-						  comedi_subdevice *s,
+						  struct comedi_subdevice *s,
 						  comedi_insn *insn,
 						  unsigned int *data);
 
@@ -34,7 +34,7 @@ INT i_APCI1710_InsnWriteEnableDisablePul
  * READ PULSE ENCODER FUNCTIONS
  */
 INT i_APCI1710_InsnReadInterruptPulseEncoder(struct comedi_device *dev,
-					     comedi_subdevice *s,
+					     struct comedi_subdevice *s,
 					     comedi_insn *insn,
 					     unsigned int *data);
 
@@ -42,6 +42,6 @@ INT i_APCI1710_InsnReadInterruptPulseEnc
  * WRITE PULSE ENCODER FUNCTIONS
  */
 INT i_APCI1710_InsnBitsReadWritePulseEncoder(struct comedi_device *dev,
-					     comedi_subdevice *s,
+					     struct comedi_subdevice *s,
 					     comedi_insn *insn,
 					     unsigned int *data);
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Pwm.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Pwm.c
@@ -58,7 +58,7 @@ You shoud also find the complete GPL in 
 /*
 +----------------------------------------------------------------------------+
 | Function Name     :INT i_APCI1710_InsnConfigPWM(struct comedi_device *dev,
-comedi_subdevice *s,comedi_insn *insn,unsigned int *data)                        |
+struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data)                        |
 +----------------------------------------------------------------------------+
 | Task              : Pwm Init and Get Pwm Initialisation                    |
 +----------------------------------------------------------------------------+
@@ -70,7 +70,7 @@ comedi_subdevice *s,comedi_insn *insn,un
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnConfigPWM(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnConfigPWM(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_ConfigType;
@@ -1671,7 +1671,7 @@ INT i_APCI1710_GetPWMInitialisation(stru
 /*
 +----------------------------------------------------------------------------+
 | Function Name     :INT i_APCI1710_InsnWritePWM(struct comedi_device *dev,
-comedi_subdevice *s,comedi_insn *insn,unsigned int *data)                        |
+struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data)                        |
 +----------------------------------------------------------------------------+
 | Task              : Pwm Enable Disable and Set New Timing                  |
 +----------------------------------------------------------------------------+
@@ -1683,7 +1683,7 @@ comedi_subdevice *s,comedi_insn *insn,un
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnWritePWM(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnWritePWM(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_WriteType;
@@ -3460,7 +3460,7 @@ INT i_APCI1710_SetNewPWMTiming(struct co
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnReadGetPWMStatus(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnReadGetPWMStatus(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
@@ -3562,7 +3562,7 @@ INT i_APCI1710_InsnReadGetPWMStatus(stru
 }
 
 INT i_APCI1710_InsnBitsReadPWMInterrupt(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv->s_InterruptParameters.
 		s_FIFOInterruptParameters[devpriv->
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Pwm.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Pwm.h
@@ -26,7 +26,7 @@
 #define APCI1710_PWM_ENABLE		1
 #define APCI1710_PWM_NEWTIMING		2
 
-INT i_APCI1710_InsnConfigPWM(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnConfigPWM(struct comedi_device *dev, struct comedi_subdevice *s,
 			     comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_InitPWM(struct comedi_device *dev,
@@ -50,7 +50,7 @@ INT i_APCI1710_GetPWMInitialisation(stru
 				    PBYTE pb_ExternGate,
 				    PBYTE pb_InterruptEnable, PBYTE pb_Enable);
 
-INT i_APCI1710_InsnWritePWM(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnWritePWM(struct comedi_device *dev, struct comedi_subdevice *s,
 			    comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_EnablePWM(struct comedi_device *dev,
@@ -68,9 +68,9 @@ INT i_APCI1710_SetNewPWMTiming(struct co
 
 INT i_APCI1710_DisablePWM(struct comedi_device *dev, BYTE b_ModulNbr, BYTE b_PWM);
 
-INT i_APCI1710_InsnReadGetPWMStatus(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnReadGetPWMStatus(struct comedi_device *dev, struct comedi_subdevice *s,
 				    comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_InsnBitsReadPWMInterrupt(struct comedi_device *dev,
-					comedi_subdevice *s,
+					struct comedi_subdevice *s,
 					comedi_insn *insn, unsigned int *data);
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Ssi.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Ssi.c
@@ -133,7 +133,7 @@ You shoud also find the complete GPL in 
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnConfigInitSSI(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnConfigInitSSI(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
@@ -362,7 +362,7 @@ INT i_APCI1710_InsnConfigInitSSI(struct 
 |                                BYTE_     b_SelectedSSI,                    |
 |                                PULONG_ pul_Position,                       |
 |                                PULONG_ pul_TurnCpt)
- INT i_APCI1710_ReadSSIValue(struct comedi_device *dev,comedi_subdevice *s,
+ INT i_APCI1710_ReadSSIValue(struct comedi_device *dev,struct comedi_subdevice *s,
 	comedi_insn *insn,unsigned int *data)                       |
 +----------------------------------------------------------------------------+
 | Task              :
@@ -400,7 +400,7 @@ pul_Position	=	(PULONG) &data[0];
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnReadSSIValue(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnReadSSIValue(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
@@ -735,7 +735,7 @@ INT i_APCI1710_InsnReadSSIValue(struct c
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnBitsSSIDigitalIO(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnBitsSSIDigitalIO(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Ssi.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Ssi.h
@@ -33,11 +33,11 @@
 /*
  * SSI INISIALISATION FUNCTION
  */
-INT i_APCI1710_InsnConfigInitSSI(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnConfigInitSSI(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
 
-INT i_APCI1710_InsnReadSSIValue(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnReadSSIValue(struct comedi_device *dev, struct comedi_subdevice *s,
 				comedi_insn *insn, unsigned int *data);
 
-INT i_APCI1710_InsnBitsSSIDigitalIO(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnBitsSSIDigitalIO(struct comedi_device *dev, struct comedi_subdevice *s,
 				    comedi_insn *insn, unsigned int *data);
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Tor.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Tor.c
@@ -131,7 +131,7 @@ You shoud also find the complete GPL in 
 */
 
 INT i_APCI1710_InsnConfigInitTorCounter(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	ULONG ul_TimerValue = 0;
@@ -988,7 +988,7 @@ INT i_APCI1710_InsnConfigInitTorCounter(
 */
 
 INT i_APCI1710_InsnWriteEnableDisableTorCounter(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_Status;
@@ -1461,7 +1461,7 @@ INT i_APCI1710_InsnWriteEnableDisableTor
 */
 
 INT i_APCI1710_InsnReadGetTorCounterInitialisation(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_Status;
@@ -1701,7 +1701,7 @@ INT i_APCI1710_InsnReadGetTorCounterInit
 */
 
 INT i_APCI1710_InsnBitsGetTorCounterProgressStatusAndValue(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_Status;
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Tor.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Tor.h
@@ -36,22 +36,22 @@
  * TOR_COUNTER INISIALISATION FUNCTION
  */
 INT i_APCI1710_InsnConfigInitTorCounter(struct comedi_device *dev,
-					comedi_subdevice *s,
+					struct comedi_subdevice *s,
 					comedi_insn *insn, unsigned int *data);
 
 INT i_APCI1710_InsnWriteEnableDisableTorCounter(struct comedi_device *dev,
-						comedi_subdevice *s,
+						struct comedi_subdevice *s,
 						comedi_insn *insn,
 						unsigned int *data);
 
 INT i_APCI1710_InsnReadGetTorCounterInitialisation(struct comedi_device *dev,
-						   comedi_subdevice *s,
+						   struct comedi_subdevice *s,
 						   comedi_insn *insn,
 						   unsigned int *data);
 /*
  * TOR_COUNTER READ FUNCTION
  */
 INT i_APCI1710_InsnBitsGetTorCounterProgressStatusAndValue(struct comedi_device *dev,
-							   comedi_subdevice *s,
+							   struct comedi_subdevice *s,
 							   comedi_insn *insn,
 							   unsigned int *data);
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Ttl.c
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Ttl.c
@@ -100,7 +100,7 @@ You shoud also find the complete GPL in 
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnConfigInitTTLIO(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnConfigInitTTLIO(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
@@ -406,7 +406,7 @@ APCI1710_TTL_READCHANNEL
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1710_InsnBitsReadTTLIO(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1710_InsnBitsReadTTLIO(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
@@ -634,7 +634,7 @@ INT i_APCI1710_InsnBitsReadTTLIO(struct 
 /*
 +----------------------------------------------------------------------------+
 | Function Name     : INT i_APCI1710_InsnReadTTLIOAllPortValue(comedi_device
-*dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data)              |
+*dev,struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data)              |
 +----------------------------------------------------------------------------+
 | Task              : Read the status from all digital input ports           |
 |                     (port A, port B and port C) from selected TTL          |
@@ -656,7 +656,7 @@ INT i_APCI1710_InsnBitsReadTTLIO(struct 
 */
 
 INT i_APCI1710_InsnReadTTLIOAllPortValue(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_StatusReg;
@@ -792,7 +792,7 @@ INT i_APCI1710_InsnReadTTLIOAllPortValue
 |                               (BYTE_           b_BoardHandle,              |
 |                                BYTE_           b_ModulNbr,                 |
 |                                BYTE_           b_OutputChannel)
-INT i_APCI1710_InsnWriteSetTTLIOChlOnOff(struct comedi_device *dev,comedi_subdevice *s,
+INT i_APCI1710_InsnWriteSetTTLIOChlOnOff(struct comedi_device *dev,struct comedi_subdevice *s,
 	comedi_insn *insn,unsigned int *data)           |
 +----------------------------------------------------------------------------+
 | Task              : Sets or resets  the output witch has been passed with the         |
@@ -826,7 +826,7 @@ INT i_APCI1710_InsnWriteSetTTLIOChlOnOff
 */
 
 INT i_APCI1710_InsnWriteSetTTLIOChlOnOff(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = 0;
 	DWORD dw_StatusReg = 0;
--- a/drivers/staging/comedi/drivers/addi-data/APCI1710_Ttl.h
+++ b/drivers/staging/comedi/drivers/addi-data/APCI1710_Ttl.h
@@ -24,21 +24,21 @@
 /*
  * TTL INISIALISATION FUNCTION
  */
-INT i_APCI1710_InsnConfigInitTTLIO(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnConfigInitTTLIO(struct comedi_device *dev, struct comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
 
 /*
  * TTL INPUT FUNCTION
  */
-INT i_APCI1710_InsnBitsReadTTLIO(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1710_InsnBitsReadTTLIO(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
 INT i_APCI1710_InsnReadTTLIOAllPortValue(struct comedi_device *dev,
-					 comedi_subdevice *s,
+					 struct comedi_subdevice *s,
 					 comedi_insn *insn, unsigned int *data);
 
 /*
  * TTL OUTPUT FUNCTIONS
  */
 INT i_APCI1710_InsnWriteSetTTLIOChlOnOff(struct comedi_device *dev,
-					 comedi_subdevice *s,
+					 struct comedi_subdevice *s,
 					 comedi_insn *insn, unsigned int *data);
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.c
@@ -58,7 +58,7 @@ INT i_Flag = 1;
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI035_ConfigTimerWatchdog                      |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Timer , Counter or Watchdog             |
@@ -109,7 +109,7 @@ INT i_Flag = 1;
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI035_ConfigTimerWatchdog(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI035_ConfigTimerWatchdog(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Status = 0;
@@ -254,7 +254,7 @@ INT i_APCI035_ConfigTimerWatchdog(struct
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI035_StartStopWriteTimerWatchdog              |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Start / Stop The Selected Timer , or Watchdog  |
@@ -279,7 +279,7 @@ INT i_APCI035_ConfigTimerWatchdog(struct
 +----------------------------------------------------------------------------+
 */
 INT i_APCI035_StartStopWriteTimerWatchdog(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Command = 0;
 	INT i_Count = 0;
@@ -367,7 +367,7 @@ INT i_APCI035_StartStopWriteTimerWatchdo
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI035_ReadTimerWatchdog                        |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Selected Timer , Counter or Watchdog          |
@@ -391,7 +391,7 @@ INT i_APCI035_StartStopWriteTimerWatchdo
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI035_ReadTimerWatchdog(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI035_ReadTimerWatchdog(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Status = 0;	// Status register
@@ -427,13 +427,13 @@ INT i_APCI035_ReadTimerWatchdog(struct c
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : INT i_APCI035_ConfigAnalogInput                        |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Analog Input Subdevice                  |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|                     comedi_subdevice *s     : Subdevice Pointer            |
+|                     struct comedi_subdevice *s     : Subdevice Pointer            |
 |                     comedi_insn *insn       : Insn Structure Pointer       |
 |                     unsigned int *data          : Data Pointer contains        |
 |                                          configuration parameters as below |
@@ -447,7 +447,7 @@ INT i_APCI035_ReadTimerWatchdog(struct c
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI035_ConfigAnalogInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI035_ConfigAnalogInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	devpriv->tsk_Current = current;
@@ -466,7 +466,7 @@ INT i_APCI035_ConfigAnalogInput(struct c
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI035_ReadAnalogInput                          |
-|			          (struct comedi_device *dev,comedi_subdevice *s,       |
+|			          (struct comedi_device *dev,struct comedi_subdevice *s,       |
 |                     comedi_insn *insn,unsigned int *data)                      |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel			         |
@@ -484,7 +484,7 @@ INT i_APCI035_ConfigAnalogInput(struct c
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI035_ReadAnalogInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI035_ReadAnalogInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_CommandRegister = 0;
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci035.h
@@ -101,19 +101,19 @@ comedi_lrange range_apci035_ai = { 8, {
 
 /* TIMER */
 /* timer value is passed as u seconds */
-INT i_APCI035_ConfigTimerWatchdog(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI035_ConfigTimerWatchdog(struct comedi_device *dev, struct comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
 INT i_APCI035_StartStopWriteTimerWatchdog(struct comedi_device *dev,
-					  comedi_subdevice *s,
+					  struct comedi_subdevice *s,
 					  comedi_insn *insn, unsigned int *data);
-INT i_APCI035_ReadTimerWatchdog(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI035_ReadTimerWatchdog(struct comedi_device *dev, struct comedi_subdevice *s,
 				comedi_insn *insn, unsigned int *data);
 
 /* Temperature Related Defines (Analog Input Subdevice) */
 
-INT i_APCI035_ConfigAnalogInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI035_ConfigAnalogInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				comedi_insn *insn, unsigned int *data);
-INT i_APCI035_ReadAnalogInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI035_ReadAnalogInput(struct comedi_device *dev, struct comedi_subdevice *s,
 			      comedi_insn *insn, unsigned int *data);
 
 /* Interrupt */
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1032.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1032.c
@@ -59,7 +59,7 @@ UINT ui_InterruptStatus = 0;
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1032_ConfigDigitalInput                      |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures the digital input Subdevice                 |
@@ -84,7 +84,7 @@ UINT ui_InterruptStatus = 0;
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1032_ConfigDigitalInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1032_ConfigDigitalInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_TmpValue;
@@ -128,7 +128,7 @@ INT i_APCI1032_ConfigDigitalInput(struct
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1032_Read1DigitalInput                       |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the digital input                 |
@@ -144,7 +144,7 @@ INT i_APCI1032_ConfigDigitalInput(struct
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1032_Read1DigitalInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1032_Read1DigitalInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_TmpValue = 0;
@@ -166,7 +166,7 @@ INT i_APCI1032_Read1DigitalInput(struct 
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1032_ReadMoreDigitalInput                    |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                     comedi_insn *insn,unsigned int *data)                      |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the Requested digital inputs      |
@@ -183,7 +183,7 @@ INT i_APCI1032_Read1DigitalInput(struct 
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1032_ReadMoreDigitalInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1032_ReadMoreDigitalInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_PortValue = data[0];
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1032.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1032.h
@@ -47,13 +47,13 @@
 //DI
 // for di read
 
-INT i_APCI1032_ConfigDigitalInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1032_ConfigDigitalInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
 
-INT i_APCI1032_Read1DigitalInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1032_Read1DigitalInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
 
-INT i_APCI1032_ReadMoreDigitalInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1032_ReadMoreDigitalInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				    comedi_insn *insn, unsigned int *data);
 
 // Interrupt functions.....
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1500.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1500.c
@@ -61,7 +61,7 @@ int i_TimerCounter1Enabled = 0, i_TimerC
 /*
   +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_ConfigDigitalInputEvent                 |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : An event can be generated for each port.               |
@@ -138,7 +138,7 @@ int i_TimerCounter1Enabled = 0, i_TimerC
 */
 
 INT i_APCI1500_ConfigDigitalInputEvent(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int i_PatternPolarity = 0, i_PatternTransition = 0, i_PatternMask = 0;
 	int i_MaxChannel = 0, i_Count = 0, i_EventMask = 0;
@@ -500,7 +500,7 @@ INT i_APCI1500_ConfigDigitalInputEvent(s
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_StartStopInputEvent                     |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              :  Allows or disallows a port event                      |
@@ -519,7 +519,7 @@ INT i_APCI1500_ConfigDigitalInputEvent(s
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI1500_StartStopInputEvent(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI1500_StartStopInputEvent(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i_Event1InterruptStatus = 0, i_Event2InterruptStatus =
@@ -768,7 +768,7 @@ int i_APCI1500_StartStopInputEvent(struc
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_Initialisation                          |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the digital input                 |
@@ -784,7 +784,7 @@ int i_APCI1500_StartStopInputEvent(struc
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1500_Initialisation(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1500_Initialisation(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i_DummyRead = 0;
@@ -937,7 +937,7 @@ INT i_APCI1500_Initialisation(struct com
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_ReadMoreDigitalInput                    |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                     comedi_insn *insn,unsigned int *data)                      |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the Requested digital inputs      |
@@ -957,7 +957,7 @@ INT i_APCI1500_Initialisation(struct com
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1500_ReadMoreDigitalInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1500_ReadMoreDigitalInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_PortValue = data[1];
@@ -1015,7 +1015,7 @@ INT i_APCI1500_ReadMoreDigitalInput(stru
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_ConfigDigitalOutputErrorInterrupt
-                      (struct comedi_device *dev,comedi_subdevice *s comedi_insn
+                      (struct comedi_device *dev,struct comedi_subdevice *s comedi_insn
                       *insn,unsigned int *data)                                  |
 |				                                                     |
 +----------------------------------------------------------------------------+
@@ -1025,7 +1025,7 @@ INT i_APCI1500_ReadMoreDigitalInput(stru
 | Input Parameters  : struct comedi_device *dev : Driver handle                     |
 |                     unsigned int *data         : Data Pointer contains         |
 |                                          configuration parameters as below |
-|                      comedi_subdevice *s,   :pointer to subdevice structure
+|                      struct comedi_subdevice *s,   :pointer to subdevice structure
                        comedi_insn *insn      :pointer to insn structure                                                                                                                |
 |					  data[0]  :1:Memory on                          |
 |					            0:Memory off                         |
@@ -1041,7 +1041,7 @@ INT i_APCI1500_ReadMoreDigitalInput(stru
 +----------------------------------------------------------------------------+
 */
 int i_APCI1500_ConfigDigitalOutputErrorInterrupt(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	devpriv->b_OutputMemoryStatus = data[0];
 	return insn->n;
@@ -1050,7 +1050,7 @@ int i_APCI1500_ConfigDigitalOutputErrorI
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_WriteDigitalOutput                      |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Writes port value  To the selected port                |
@@ -1067,7 +1067,7 @@ int i_APCI1500_ConfigDigitalOutputErrorI
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1500_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1500_WriteDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	static UINT ui_Temp = 0;
@@ -1215,13 +1215,13 @@ INT i_APCI1500_WriteDigitalOutput(struct
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_ConfigCounterTimerWatchdog(comedi_device
-                   *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data)|
+                   *dev,struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data)|
 |				                                                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Watchdog                                |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|                     comedi_subdevice *s,   :pointer to subdevice structure
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data         : Data Pointer to read status                                                       data[0]                : 2     APCI1500_1_8_KHZ
 |                                              1     APCI1500_3_6_KHZ        |
@@ -1262,7 +1262,7 @@ INT i_APCI1500_WriteDigitalOutput(struct
 */
 
 int i_APCI1500_ConfigCounterTimerWatchdog(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int i_TimerCounterMode, i_MasterConfiguration;
 
@@ -1835,13 +1835,13 @@ int i_APCI1500_ConfigCounterTimerWatchdo
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_StartStopTriggerTimerCounterWatchdog      |
-|				(struct comedi_device *dev,comedi_subdevice *s,
+|				(struct comedi_device *dev,struct comedi_subdevice *s,
                          comedi_insn *insn,unsigned int *data);                  |
 +----------------------------------------------------------------------------+
 | Task              : Start / Stop or trigger the timer counter or Watchdog  |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev     : Driver handle                 |
-|                     comedi_subdevice *s,   :pointer to subdevice structure
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data         : Data Pointer to read status   |
                       data[0]                : 0     Counter1/Timer1
@@ -1861,7 +1861,7 @@ int i_APCI1500_ConfigCounterTimerWatchdo
 +----------------------------------------------------------------------------+
 */
 int i_APCI1500_StartStopTriggerTimerCounterWatchdog(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int i_CommandAndStatusValue;
 
@@ -2160,13 +2160,13 @@ int i_APCI1500_StartStopTriggerTimerCoun
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1500_ReadCounterTimerWatchdog                |
-|			(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
+|			(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,
                     unsigned int *data); 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Watchdog                                      |
 +----------------------------------------------------------------------------+
 | Input Parameters  :   struct comedi_device *dev      : Driver handle              |
-|                     comedi_subdevice *s,   :pointer to subdevice structure
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status  |
                       data[0]                : 0     Counter1/Timer1
@@ -2183,7 +2183,7 @@ int i_APCI1500_StartStopTriggerTimerCoun
 */
 
 int i_APCI1500_ReadCounterTimerWatchdog(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int i_CommandAndStatusValue;
 	switch (data[0]) {
@@ -2351,13 +2351,13 @@ int i_APCI1500_ReadCounterTimerWatchdog(
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int  i_APCI1500_ReadInterruptMask                      |
-|			(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
+|			(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,
                     unsigned int *data); 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Read the interrupt mask                                |
 +----------------------------------------------------------------------------+
 | Input Parameters  :   struct comedi_device *dev      : Driver handle              |
-|                     comedi_subdevice *s,   :pointer to subdevice structure
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status  |
 
@@ -2370,7 +2370,7 @@ int i_APCI1500_ReadCounterTimerWatchdog(
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI1500_ReadInterruptMask(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI1500_ReadInterruptMask(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = i_InterruptMask;
@@ -2382,13 +2382,13 @@ int i_APCI1500_ReadInterruptMask(struct 
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int  i_APCI1500_ConfigureInterrupt                     |
-|			(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
+|			(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,
                     unsigned int *data); 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures the interrupt registers                     |
 +----------------------------------------------------------------------------+
 | Input Parameters  :   struct comedi_device *dev      : Driver handle              |
-|                     comedi_subdevice *s,   :pointer to subdevice structure
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer                 |
 
@@ -2401,7 +2401,7 @@ int i_APCI1500_ReadInterruptMask(struct 
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI1500_ConfigureInterrupt(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI1500_ConfigureInterrupt(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Status;
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1500.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1500.h
@@ -116,50 +116,50 @@ enum {
 };
 
  /*----------DIGITAL INPUT----------------*/
-static int i_APCI1500_Initialisation(struct comedi_device *dev, comedi_subdevice *s,
+static int i_APCI1500_Initialisation(struct comedi_device *dev, struct comedi_subdevice *s,
 				     comedi_insn *insn, unsigned int *data);
 static int i_APCI1500_ConfigDigitalInputEvent(struct comedi_device *dev,
-					      comedi_subdevice *s,
+					      struct comedi_subdevice *s,
 					      comedi_insn *insn,
 					      unsigned int *data);
 
 static int i_APCI1500_StartStopInputEvent(struct comedi_device *dev,
-					  comedi_subdevice *s,
+					  struct comedi_subdevice *s,
 					  comedi_insn *insn, unsigned int *data);
 static int i_APCI1500_ReadMoreDigitalInput(struct comedi_device *dev,
-					   comedi_subdevice *s,
+					   struct comedi_subdevice *s,
 					   comedi_insn *insn, unsigned int *data);
 
 /*----------	DIGITAL OUTPUT------------*/
 static int i_APCI1500_ConfigDigitalOutputErrorInterrupt(struct comedi_device *dev,
-							comedi_subdevice *s,
+							struct comedi_subdevice *s,
 							comedi_insn *insn,
 							unsigned int *data);
 static int i_APCI1500_WriteDigitalOutput(struct comedi_device *dev,
-					 comedi_subdevice *s,
+					 struct comedi_subdevice *s,
 					 comedi_insn *insn, unsigned int *data);
 
 /*----------TIMER----------------*/
 static int i_APCI1500_ConfigCounterTimerWatchdog(struct comedi_device *dev,
-						 comedi_subdevice *s,
+						 struct comedi_subdevice *s,
 						 comedi_insn *insn,
 						 unsigned int *data);
 static int i_APCI1500_StartStopTriggerTimerCounterWatchdog(struct comedi_device *dev,
-							   comedi_subdevice *s,
+							   struct comedi_subdevice *s,
 							   comedi_insn *insn,
 							   unsigned int *data);
 static int i_APCI1500_ReadCounterTimerWatchdog(struct comedi_device *dev,
-					       comedi_subdevice *s,
+					       struct comedi_subdevice *s,
 					       comedi_insn *insn,
 					       unsigned int *data);
 static int i_APCI1500_ReadInterruptMask(struct comedi_device *dev,
-					comedi_subdevice *s,
+					struct comedi_subdevice *s,
 					comedi_insn *insn, unsigned int *data);
 
 /*----------INTERRUPT HANDLER------*/
 static void v_APCI1500_Interrupt(int irq, void *d);
 static int i_APCI1500_ConfigureInterrupt(struct comedi_device *dev,
-					 comedi_subdevice *s,
+					 struct comedi_subdevice *s,
 					 comedi_insn *insn, unsigned int *data);
 /*----------RESET---------------*/
 static int i_APCI1500_Reset(struct comedi_device *dev);
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1516.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1516.c
@@ -56,13 +56,13 @@ You shoud also find the complete GPL in 
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1516_Read1DigitalInput                       |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the digital input                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|		       comedi_subdevice *s,   :pointer to subdevice structure
+|		       struct comedi_subdevice *s,   :pointer to subdevice structure
                        comedi_insn *insn      :pointer to insn structure     |
 |                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -73,7 +73,7 @@ You shoud also find the complete GPL in 
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1516_Read1DigitalInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1516_Read1DigitalInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_TmpValue = 0;
@@ -96,13 +96,13 @@ INT i_APCI1516_Read1DigitalInput(struct 
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1516_ReadMoreDigitalInput                    |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                     comedi_insn *insn,unsigned int *data)                      |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the Requested digital inputs      |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|                      comedi_subdevice *s,   :pointer to subdevice structure
+|                      struct comedi_subdevice *s,   :pointer to subdevice structure
                        comedi_insn *insn      :pointer to insn structure     |
 |                      unsigned int *data         : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -114,7 +114,7 @@ INT i_APCI1516_Read1DigitalInput(struct 
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1516_ReadMoreDigitalInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1516_ReadMoreDigitalInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -149,7 +149,7 @@ INT i_APCI1516_ReadMoreDigitalInput(stru
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1516_ConfigDigitalOutput (struct comedi_device *dev,
-                    comedi_subdevice *s comedi_insn *insn,unsigned int *data)    |
+                    struct comedi_subdevice *s comedi_insn *insn,unsigned int *data)    |
 |				                                                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Digital Output Subdevice.               |
@@ -157,7 +157,7 @@ INT i_APCI1516_ReadMoreDigitalInput(stru
 | Input Parameters  : struct comedi_device *dev : Driver handle                     |
 |                     unsigned int *data         : Data Pointer contains         |
 |                                          configuration parameters as below |
-|                      comedi_subdevice *s,   :pointer to subdevice structure
+|                      struct comedi_subdevice *s,   :pointer to subdevice structure
                        comedi_insn *insn      :pointer to insn structure                                                           |
 |					  data[0]  :1:Memory on                          |
 |					            0:Memory off                         |
@@ -171,7 +171,7 @@ INT i_APCI1516_ReadMoreDigitalInput(stru
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI1516_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI1516_ConfigDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	devpriv->b_OutputMemoryStatus = data[0];
@@ -181,13 +181,13 @@ int i_APCI1516_ConfigDigitalOutput(struc
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1516_WriteDigitalOutput                      |
-|			(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
+|			(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,
                      unsigned int *data)                                         |
 +----------------------------------------------------------------------------+
 | Task              : Writes port value  To the selected port                |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|                     comedi_subdevice *s,   :pointer to subdevice structure
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                    unsigned int *data           : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -199,7 +199,7 @@ int i_APCI1516_ConfigDigitalOutput(struc
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1516_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1516_WriteDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp, ui_Temp1;
@@ -341,13 +341,13 @@ INT i_APCI1516_WriteDigitalOutput(struct
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1516_ReadDigitalOutput                       |
-|			(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
+|			(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,
                     unsigned int *data) 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel or port           |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|                     comedi_subdevice *s,   :pointer to subdevice structure
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -359,7 +359,7 @@ INT i_APCI1516_WriteDigitalOutput(struct
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI1516_ReadDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1516_ReadDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -401,13 +401,13 @@ INT i_APCI1516_ReadDigitalOutput(struct 
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1516_ConfigWatchdog(struct comedi_device *dev,
-                      comedi_subdevice *s,comedi_insn *insn,unsigned int *data)  |
+                      struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data)  |
 |				                                                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Watchdog                                |
 +----------------------------------------------------------------------------+
 | Input Parameters  :   struct comedi_device *dev      : Driver handle              |
-|                     comedi_subdevice *s,   :pointer to subdevice structure
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status                                                     |
 +----------------------------------------------------------------------------+
@@ -419,7 +419,7 @@ INT i_APCI1516_ReadDigitalOutput(struct 
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI1516_ConfigWatchdog(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI1516_ConfigWatchdog(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0] == 0) {
@@ -447,13 +447,13 @@ int i_APCI1516_ConfigWatchdog(struct com
  /*
     +----------------------------------------------------------------------------+
     | Function   Name   : int i_APCI1516_StartStopWriteWatchdog                  |
-    |                           (struct comedi_device *dev,comedi_subdevice *s,
+    |                           (struct comedi_device *dev,struct comedi_subdevice *s,
     comedi_insn *insn,unsigned int *data);                      |
     +----------------------------------------------------------------------------+
     | Task              : Start / Stop The Watchdog                              |
     +----------------------------------------------------------------------------+
     | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-    |                     comedi_subdevice *s,   :pointer to subdevice structure
+    |                     struct comedi_subdevice *s,   :pointer to subdevice structure
     comedi_insn *insn      :pointer to insn structure      |
     |                     unsigned int *data          : Data Pointer to read status  |
     +----------------------------------------------------------------------------+
@@ -465,7 +465,7 @@ int i_APCI1516_ConfigWatchdog(struct com
     +----------------------------------------------------------------------------+
   */
 
-int i_APCI1516_StartStopWriteWatchdog(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI1516_StartStopWriteWatchdog(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	switch (data[0]) {
@@ -492,13 +492,13 @@ int i_APCI1516_StartStopWriteWatchdog(st
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1516_ReadWatchdog                            |
-|			(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
+|			(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,
                     unsigned int *data); 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Watchdog                                      |
 +----------------------------------------------------------------------------+
 | Input Parameters  :   struct comedi_device *dev      : Driver handle              |
-|                     comedi_subdevice *s,   :pointer to subdevice structure
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -510,7 +510,7 @@ int i_APCI1516_StartStopWriteWatchdog(st
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI1516_ReadWatchdog(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI1516_ReadWatchdog(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = inw(devpriv->i_IobaseAddon + APCI1516_WATCHDOG_STATUS) & 0x1;
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1516.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1516.h
@@ -38,26 +38,26 @@
 // Hardware Layer  functions for Apci1516
 
 //Digital Input
-INT i_APCI1516_ReadMoreDigitalInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1516_ReadMoreDigitalInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				    comedi_insn *insn, unsigned int *data);
-INT i_APCI1516_Read1DigitalInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1516_Read1DigitalInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
 
 //Digital Output
-int i_APCI1516_ConfigDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI1516_ConfigDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
-INT i_APCI1516_WriteDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1516_WriteDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
-INT i_APCI1516_ReadDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1516_ReadDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
 
 // TIMER
 // timer value is passed as u seconds
-int i_APCI1516_ConfigWatchdog(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI1516_ConfigWatchdog(struct comedi_device *dev, struct comedi_subdevice *s,
 			      comedi_insn *insn, unsigned int *data);
-int i_APCI1516_StartStopWriteWatchdog(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI1516_StartStopWriteWatchdog(struct comedi_device *dev, struct comedi_subdevice *s,
 				      comedi_insn *insn, unsigned int *data);
-int i_APCI1516_ReadWatchdog(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI1516_ReadWatchdog(struct comedi_device *dev, struct comedi_subdevice *s,
 			    comedi_insn *insn, unsigned int *data);
 
 //reset
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1564.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1564.c
@@ -62,7 +62,7 @@ UINT ui_InterruptData, ui_Type;
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_ConfigDigitalInput                      |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures the digital input Subdevice                 |
@@ -86,7 +86,7 @@ UINT ui_InterruptData, ui_Type;
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1564_ConfigDigitalInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1564_ConfigDigitalInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	devpriv->tsk_Current = current;
@@ -131,7 +131,7 @@ INT i_APCI1564_ConfigDigitalInput(struct
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_Read1DigitalInput                       |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the digital input                 |
@@ -147,7 +147,7 @@ INT i_APCI1564_ConfigDigitalInput(struct
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1564_Read1DigitalInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1564_Read1DigitalInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_TmpValue = 0;
@@ -171,7 +171,7 @@ INT i_APCI1564_Read1DigitalInput(struct 
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_ReadMoreDigitalInput                    |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                     comedi_insn *insn,unsigned int *data)                      |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the Requested digital inputs      |
@@ -187,7 +187,7 @@ INT i_APCI1564_Read1DigitalInput(struct 
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1564_ReadMoreDigitalInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1564_ReadMoreDigitalInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_PortValue = data[0];
@@ -233,7 +233,7 @@ INT i_APCI1564_ReadMoreDigitalInput(stru
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_ConfigDigitalOutput                     |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Digital Output Subdevice.               |
@@ -255,7 +255,7 @@ INT i_APCI1564_ReadMoreDigitalInput(stru
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1564_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1564_ConfigDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command = 0;
@@ -296,7 +296,7 @@ INT i_APCI1564_ConfigDigitalOutput(struc
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_WriteDigitalOutput                      |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Writes port value  To the selected port                |
@@ -312,7 +312,7 @@ INT i_APCI1564_ConfigDigitalOutput(struc
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1564_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1564_WriteDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp, ui_Temp1;
@@ -470,7 +470,7 @@ INT i_APCI1564_WriteDigitalOutput(struct
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_ReadDigitalOutput                       |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel or port           |
@@ -486,7 +486,7 @@ INT i_APCI1564_WriteDigitalOutput(struct
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI1564_ReadDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI1564_ReadDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp;
@@ -537,7 +537,7 @@ INT i_APCI1564_ReadDigitalOutput(struct 
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_ConfigTimerCounterWatchdog              |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Timer , Counter or Watchdog             |
@@ -565,7 +565,7 @@ INT i_APCI1564_ReadDigitalOutput(struct 
 +----------------------------------------------------------------------------+
 */
 INT i_APCI1564_ConfigTimerCounterWatchdog(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command1 = 0;
 	devpriv->tsk_Current = current;
@@ -695,7 +695,7 @@ INT i_APCI1564_ConfigTimerCounterWatchdo
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_StartStopWriteTimerCounterWatchdog      |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Start / Stop The Selected Timer , Counter or Watchdog  |
@@ -719,7 +719,7 @@ INT i_APCI1564_ConfigTimerCounterWatchdo
 +----------------------------------------------------------------------------+
 */
 INT i_APCI1564_StartStopWriteTimerCounterWatchdog(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command1 = 0;
 	if (devpriv->b_TimerSelectMode == ADDIDATA_WATCHDOG) {
@@ -795,7 +795,7 @@ INT i_APCI1564_StartStopWriteTimerCounte
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI1564_ReadTimerCounterWatchdog                |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Selected Timer , Counter or Watchdog          |
@@ -814,7 +814,7 @@ INT i_APCI1564_StartStopWriteTimerCounte
 +----------------------------------------------------------------------------+
 */
 INT i_APCI1564_ReadTimerCounterWatchdog(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command1 = 0;
 
@@ -878,7 +878,7 @@ INT i_APCI1564_ReadTimerCounterWatchdog(
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   :  int i_APCI1564_ReadInterruptStatus                    |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              :Reads the interrupt status register                     |
@@ -892,7 +892,7 @@ INT i_APCI1564_ReadTimerCounterWatchdog(
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI1564_ReadInterruptStatus(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI1564_ReadInterruptStatus(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	*data = ui_Type;
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1564.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci1564.h
@@ -82,34 +82,34 @@
 
 //DI
 // for di read
-INT i_APCI1564_ConfigDigitalInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1564_ConfigDigitalInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
-INT i_APCI1564_Read1DigitalInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1564_Read1DigitalInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
-INT i_APCI1564_ReadMoreDigitalInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1564_ReadMoreDigitalInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				    comedi_insn *insn, unsigned int *data);
 
 //DO
-int i_APCI1564_ConfigDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI1564_ConfigDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
-INT i_APCI1564_WriteDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1564_WriteDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
-INT i_APCI1564_ReadDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI1564_ReadDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
-int i_APCI1564_ReadInterruptStatus(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI1564_ReadInterruptStatus(struct comedi_device *dev, struct comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
 
 // TIMER
 // timer value is passed as u seconds
 INT i_APCI1564_ConfigTimerCounterWatchdog(struct comedi_device *dev,
-					  comedi_subdevice *s,
+					  struct comedi_subdevice *s,
 					  comedi_insn *insn, unsigned int *data);
 int i_APCI1564_StartStopWriteTimerCounterWatchdog(struct comedi_device *dev,
-						  comedi_subdevice *s,
+						  struct comedi_subdevice *s,
 						  comedi_insn *insn,
 						  unsigned int *data);
 int i_APCI1564_ReadTimerCounterWatchdog(struct comedi_device *dev,
-					comedi_subdevice *s,
+					struct comedi_subdevice *s,
 					comedi_insn *insn, unsigned int *data);
 
 // INTERRUPT
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.c
@@ -59,7 +59,7 @@ You shoud also find the complete GPL in 
 +----------------------------------------------------------------------------+
 | Function Name     : INT   i_APCI16XX_InsnConfigInitTTLIO                   |
 |                          (struct comedi_device    *dev,                           |
-|                           comedi_subdevice *s,                             |
+|                           struct comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
@@ -91,7 +91,7 @@ You shoud also find the complete GPL in 
 */
 
 int i_APCI16XX_InsnConfigInitTTLIO(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn->n;
 	BYTE b_Command = 0;
@@ -252,7 +252,7 @@ int i_APCI16XX_InsnConfigInitTTLIO(struc
 +----------------------------------------------------------------------------+
 | Function Name     : INT     i_APCI16XX_InsnBitsReadTTLIO                   |
 |                          (struct comedi_device    *dev,                           |
-|                           comedi_subdevice *s,                             |
+|                           struct comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
@@ -284,7 +284,7 @@ int i_APCI16XX_InsnConfigInitTTLIO(struc
 */
 
 int i_APCI16XX_InsnBitsReadTTLIO(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn->n;
 	BYTE b_Command = 0;
@@ -412,7 +412,7 @@ int i_APCI16XX_InsnBitsReadTTLIO(struct 
 +----------------------------------------------------------------------------+
 | Function Name     : INT i_APCI16XX_InsnReadTTLIOAllPortValue               |
 |                          (struct comedi_device    *dev,                           |
-|                           comedi_subdevice *s,                             |
+|                           struct comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
@@ -431,7 +431,7 @@ int i_APCI16XX_InsnBitsReadTTLIO(struct 
 */
 
 int i_APCI16XX_InsnReadTTLIOAllPortValue(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_Command = (BYTE) CR_AREF(insn->chanspec);
 	INT i_ReturnValue = insn->n;
@@ -537,7 +537,7 @@ int i_APCI16XX_InsnReadTTLIOAllPortValue
 +----------------------------------------------------------------------------+
 | Function Name     : INT     i_APCI16XX_InsnBitsWriteTTLIO                  |
 |                          (struct comedi_device    *dev,                           |
-|                           comedi_subdevice *s,                             |
+|                           struct comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
@@ -571,7 +571,7 @@ int i_APCI16XX_InsnReadTTLIOAllPortValue
 */
 
 int i_APCI16XX_InsnBitsWriteTTLIO(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn->n;
 	BYTE b_Command = 0;
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci16xx.h
@@ -63,7 +63,7 @@ static const comedi_lrange range_apci16x
 */
 
 int i_APCI16XX_InsnConfigInitTTLIO(struct comedi_device *dev,
-				   comedi_subdevice *s, comedi_insn *insn,
+				   struct comedi_subdevice *s, comedi_insn *insn,
 				   unsigned int *data);
 
 /*
@@ -73,11 +73,11 @@ int i_APCI16XX_InsnConfigInitTTLIO(struc
 */
 
 int i_APCI16XX_InsnBitsReadTTLIO(struct comedi_device *dev,
-				 comedi_subdevice *s, comedi_insn *insn,
+				 struct comedi_subdevice *s, comedi_insn *insn,
 				 unsigned int *data);
 
 int i_APCI16XX_InsnReadTTLIOAllPortValue(struct comedi_device *dev,
-					 comedi_subdevice *s,
+					 struct comedi_subdevice *s,
 					 comedi_insn *insn, unsigned int *data);
 
 /*
@@ -87,7 +87,7 @@ int i_APCI16XX_InsnReadTTLIOAllPortValue
 */
 
 int i_APCI16XX_InsnBitsWriteTTLIO(struct comedi_device *dev,
-				  comedi_subdevice *s, comedi_insn *insn,
+				  struct comedi_subdevice *s, comedi_insn *insn,
 				  unsigned int *data);
 
 int i_APCI16XX_Reset(struct comedi_device *dev);
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_APCI1710.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_APCI1710.c
@@ -58,7 +58,7 @@ You shoud also find the complete GPL in 
 
 void i_ADDI_AttachPCI1710(struct comedi_device * dev)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret = 0;
 	int n_subdevices = 9;
 
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2016.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2016.c
@@ -56,7 +56,7 @@ You shoud also find the complete GPL in 
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2016_ConfigDigitalOutput                     |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Digital Output Subdevice.               |
@@ -75,7 +75,7 @@ You shoud also find the complete GPL in 
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI2016_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI2016_ConfigDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if ((data[0] != 0) && (data[0] != 1)) {
@@ -95,7 +95,7 @@ int i_APCI2016_ConfigDigitalOutput(struc
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2016_WriteDigitalOutput                      |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Writes port value  To the selected port                |
@@ -111,7 +111,7 @@ int i_APCI2016_ConfigDigitalOutput(struc
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI2016_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI2016_WriteDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_NoOfChannel;
@@ -250,7 +250,7 @@ int i_APCI2016_WriteDigitalOutput(struct
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2016_BitsDigitalOutput                       |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel or port           |
@@ -266,7 +266,7 @@ int i_APCI2016_WriteDigitalOutput(struct
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI2016_BitsDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI2016_BitsDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp;
@@ -320,13 +320,13 @@ int i_APCI2016_BitsDigitalOutput(struct 
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2016_ConfigWatchdog                          |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Watchdog                                |
 +----------------------------------------------------------------------------+
 | Input Parameters  :   struct comedi_device *dev      : Driver handle              |
-|                     comedi_subdevice *s,   :pointer to subdevice structure |
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure |
 |                     comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -337,7 +337,7 @@ int i_APCI2016_BitsDigitalOutput(struct 
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI2016_ConfigWatchdog(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI2016_ConfigWatchdog(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -363,13 +363,13 @@ int i_APCI2016_ConfigWatchdog(struct com
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2016_StartStopWriteWatchdog                  |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Start / Stop The Watchdog                              |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|                     comedi_subdevice *s,   :pointer to subdevice structure |
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure |
 |                     comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -380,7 +380,7 @@ int i_APCI2016_ConfigWatchdog(struct com
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI2016_StartStopWriteWatchdog(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI2016_StartStopWriteWatchdog(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -409,13 +409,13 @@ int i_APCI2016_StartStopWriteWatchdog(st
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2016_ReadWatchdog                            |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Watchdog                                      |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|                     comedi_subdevice *s,   :pointer to subdevice structure |
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure |
 |                     comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -427,7 +427,7 @@ int i_APCI2016_StartStopWriteWatchdog(st
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI2016_ReadWatchdog(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI2016_ReadWatchdog(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	udelay(5);
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2016.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2016.h
@@ -40,25 +40,25 @@
 // Hardware Layer  functions for Apci2016
 
 //DO
-int i_APCI2016_ConfigDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI2016_ConfigDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
 
-int i_APCI2016_WriteDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI2016_WriteDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
 
-int i_APCI2016_BitsDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI2016_BitsDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
 
 // TIMER
 // timer value is passed as u seconds
 
-int i_APCI2016_ConfigWatchdog(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI2016_ConfigWatchdog(struct comedi_device *dev, struct comedi_subdevice *s,
 			      comedi_insn *insn, unsigned int *data);
 
-int i_APCI2016_StartStopWriteWatchdog(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI2016_StartStopWriteWatchdog(struct comedi_device *dev, struct comedi_subdevice *s,
 				      comedi_insn *insn, unsigned int *data);
 
-int i_APCI2016_ReadWatchdog(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI2016_ReadWatchdog(struct comedi_device *dev, struct comedi_subdevice *s,
 			    comedi_insn *insn, unsigned int *data);
 
 // Interrupt functions.....
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2032.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2032.c
@@ -57,7 +57,7 @@ UINT ui_InterruptData, ui_Type;
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2032_ConfigDigitalOutput                     |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Digital Output Subdevice.               |
@@ -79,7 +79,7 @@ UINT ui_InterruptData, ui_Type;
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI2032_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI2032_ConfigDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command = 0;
@@ -117,7 +117,7 @@ int i_APCI2032_ConfigDigitalOutput(struc
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2032_WriteDigitalOutput                      |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Writes port value  To the selected port                |
@@ -134,7 +134,7 @@ int i_APCI2032_ConfigDigitalOutput(struc
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI2032_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI2032_WriteDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp, ui_Temp1;
@@ -296,7 +296,7 @@ INT i_APCI2032_WriteDigitalOutput(struct
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2032_ReadDigitalOutput                       |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel or port           |
@@ -313,7 +313,7 @@ INT i_APCI2032_WriteDigitalOutput(struct
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI2032_ReadDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI2032_ReadDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp;
@@ -363,13 +363,13 @@ INT i_APCI2032_ReadDigitalOutput(struct 
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : INT i_APCI2032_ConfigWatchdog(comedi_device
-                   *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data)|
+                   *dev,struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data)|
 |				                                                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Watchdog                                |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|                     comedi_subdevice *s,   :pointer to subdevice structure
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status                                                                                                             |
 +----------------------------------------------------------------------------+
@@ -380,7 +380,7 @@ INT i_APCI2032_ReadDigitalOutput(struct 
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI2032_ConfigWatchdog(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI2032_ConfigWatchdog(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0] == 0) {
@@ -403,13 +403,13 @@ INT i_APCI2032_ConfigWatchdog(struct com
  /*
     +----------------------------------------------------------------------------+
     | Function   Name   : int i_APCI2032_StartStopWriteWatchdog                  |
-    |                           (struct comedi_device *dev,comedi_subdevice *s,
+    |                           (struct comedi_device *dev,struct comedi_subdevice *s,
     comedi_insn *insn,unsigned int *data);                      |
     +----------------------------------------------------------------------------+
     | Task              : Start / Stop The Watchdog                              |
     +----------------------------------------------------------------------------+
     | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-    |                     comedi_subdevice *s,   :pointer to subdevice structure
+    |                     struct comedi_subdevice *s,   :pointer to subdevice structure
     comedi_insn *insn      :pointer to insn structure      |
     |                     unsigned int *data          : Data Pointer to read status  |
     +----------------------------------------------------------------------------+
@@ -421,7 +421,7 @@ INT i_APCI2032_ConfigWatchdog(struct com
     +----------------------------------------------------------------------------+
   */
 
-int i_APCI2032_StartStopWriteWatchdog(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI2032_StartStopWriteWatchdog(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	switch (data[0]) {
@@ -448,13 +448,13 @@ int i_APCI2032_StartStopWriteWatchdog(st
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2032_ReadWatchdog                            |
-|			(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
+|			(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,
                     unsigned int *data); 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Watchdog                                      |
 +----------------------------------------------------------------------------+
 | Input Parameters  :   struct comedi_device *dev      : Driver handle              |
-|                     comedi_subdevice *s,   :pointer to subdevice structure
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -466,7 +466,7 @@ int i_APCI2032_StartStopWriteWatchdog(st
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI2032_ReadWatchdog(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI2032_ReadWatchdog(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -530,7 +530,7 @@ void v_APCI2032_Interrupt(int irq, void 
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   :  int i_APCI2032_ReadInterruptStatus                    |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              :Reads the interrupt status register                     |
@@ -544,7 +544,7 @@ void v_APCI2032_Interrupt(int irq, void 
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI2032_ReadInterruptStatus(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI2032_ReadInterruptStatus(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	*data = ui_Type;
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2032.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2032.h
@@ -55,22 +55,22 @@
 // Hardware Layer  functions for Apci2032
 
 //DO
-int i_APCI2032_ConfigDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI2032_ConfigDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
-INT i_APCI2032_WriteDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI2032_WriteDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
-INT i_APCI2032_ReadDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI2032_ReadDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
-int i_APCI2032_ReadInterruptStatus(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI2032_ReadInterruptStatus(struct comedi_device *dev, struct comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
 
 // TIMER
 // timer value is passed as u seconds
-INT i_APCI2032_ConfigWatchdog(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI2032_ConfigWatchdog(struct comedi_device *dev, struct comedi_subdevice *s,
 			      comedi_insn *insn, unsigned int *data);
-int i_APCI2032_StartStopWriteWatchdog(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI2032_StartStopWriteWatchdog(struct comedi_device *dev, struct comedi_subdevice *s,
 				      comedi_insn *insn, unsigned int *data);
-int i_APCI2032_ReadWatchdog(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI2032_ReadWatchdog(struct comedi_device *dev, struct comedi_subdevice *s,
 			    comedi_insn *insn, unsigned int *data);
 
 // Interrupt functions.....
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2200.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2200.c
@@ -56,13 +56,13 @@ You shoud also find the complete GPL in 
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2200_Read1DigitalInput                       |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the digital input                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|		       comedi_subdevice *s,   :pointer to subdevice structure
+|		       struct comedi_subdevice *s,   :pointer to subdevice structure
                        comedi_insn *insn      :pointer to insn structure     |
 |                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -73,7 +73,7 @@ You shoud also find the complete GPL in 
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI2200_Read1DigitalInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI2200_Read1DigitalInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_TmpValue = 0;
@@ -94,13 +94,13 @@ INT i_APCI2200_Read1DigitalInput(struct 
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2200_ReadMoreDigitalInput                    |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                     comedi_insn *insn,unsigned int *data)                      |
 +----------------------------------------------------------------------------+
 | Task              : Return the status of the Requested digital inputs      |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|                      comedi_subdevice *s,   :pointer to subdevice structure
+|                      struct comedi_subdevice *s,   :pointer to subdevice structure
                        comedi_insn *insn      :pointer to insn structure     |
 |                      unsigned int *data         : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -112,7 +112,7 @@ INT i_APCI2200_Read1DigitalInput(struct 
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI2200_ReadMoreDigitalInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI2200_ReadMoreDigitalInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -147,7 +147,7 @@ INT i_APCI2200_ReadMoreDigitalInput(stru
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2200_ConfigDigitalOutput (struct comedi_device *dev,
-                    comedi_subdevice *s comedi_insn *insn,unsigned int *data)    |
+                    struct comedi_subdevice *s comedi_insn *insn,unsigned int *data)    |
 |				                                                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Digital Output Subdevice.               |
@@ -155,7 +155,7 @@ INT i_APCI2200_ReadMoreDigitalInput(stru
 | Input Parameters  : struct comedi_device *dev : Driver handle                     |
 |                     unsigned int *data         : Data Pointer contains         |
 |                                          configuration parameters as below |
-|                      comedi_subdevice *s,   :pointer to subdevice structure
+|                      struct comedi_subdevice *s,   :pointer to subdevice structure
                        comedi_insn *insn      :pointer to insn structure                                                           |
 |					  data[0]  :1:Memory on                          |
 |					            0:Memory off                         |
@@ -169,7 +169,7 @@ INT i_APCI2200_ReadMoreDigitalInput(stru
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI2200_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI2200_ConfigDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	devpriv->b_OutputMemoryStatus = data[0];
@@ -179,13 +179,13 @@ int i_APCI2200_ConfigDigitalOutput(struc
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2200_WriteDigitalOutput                      |
-|			(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
+|			(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,
                      unsigned int *data)                                         |
 +----------------------------------------------------------------------------+
 | Task              : Writes port value  To the selected port                |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|                     comedi_subdevice *s,   :pointer to subdevice structure
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                    unsigned int *data           : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -197,7 +197,7 @@ int i_APCI2200_ConfigDigitalOutput(struc
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI2200_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI2200_WriteDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp, ui_Temp1;
@@ -336,13 +336,13 @@ INT i_APCI2200_WriteDigitalOutput(struct
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2200_ReadDigitalOutput                       |
-|			(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
+|			(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,
                     unsigned int *data) 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel or port           |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|                     comedi_subdevice *s,   :pointer to subdevice structure
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -354,7 +354,7 @@ INT i_APCI2200_WriteDigitalOutput(struct
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI2200_ReadDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI2200_ReadDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -400,13 +400,13 @@ INT i_APCI2200_ReadDigitalOutput(struct 
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2200_ConfigWatchdog(struct comedi_device *dev,
-                      comedi_subdevice *s,comedi_insn *insn,unsigned int *data)  |
+                      struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data)  |
 |				                                                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Watchdog                                |
 +----------------------------------------------------------------------------+
 | Input Parameters  :   struct comedi_device *dev      : Driver handle              |
-|                     comedi_subdevice *s,   :pointer to subdevice structure
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status                                                                                                             |
 +----------------------------------------------------------------------------+
@@ -418,7 +418,7 @@ INT i_APCI2200_ReadDigitalOutput(struct 
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI2200_ConfigWatchdog(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI2200_ConfigWatchdog(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0] == 0) {
@@ -446,13 +446,13 @@ int i_APCI2200_ConfigWatchdog(struct com
  /*
     +----------------------------------------------------------------------------+
     | Function   Name   : int i_APCI2200_StartStopWriteWatchdog                  |
-    |                           (struct comedi_device *dev,comedi_subdevice *s,
+    |                           (struct comedi_device *dev,struct comedi_subdevice *s,
     comedi_insn *insn,unsigned int *data);                      |
     +----------------------------------------------------------------------------+
     | Task              : Start / Stop The Watchdog                              |
     +----------------------------------------------------------------------------+
     | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-    |                     comedi_subdevice *s,   :pointer to subdevice structure
+    |                     struct comedi_subdevice *s,   :pointer to subdevice structure
     comedi_insn *insn      :pointer to insn structure      |
     |                     unsigned int *data          : Data Pointer to read status  |
     +----------------------------------------------------------------------------+
@@ -464,7 +464,7 @@ int i_APCI2200_ConfigWatchdog(struct com
     +----------------------------------------------------------------------------+
   */
 
-int i_APCI2200_StartStopWriteWatchdog(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI2200_StartStopWriteWatchdog(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	switch (data[0]) {
@@ -491,13 +491,13 @@ int i_APCI2200_StartStopWriteWatchdog(st
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI2200_ReadWatchdog                            |
-|			(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,
+|			(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,
                     unsigned int *data); 	                                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Watchdog                                      |
 +----------------------------------------------------------------------------+
 | Input Parameters  :   struct comedi_device *dev      : Driver handle              |
-|                     comedi_subdevice *s,   :pointer to subdevice structure
+|                     struct comedi_subdevice *s,   :pointer to subdevice structure
                       comedi_insn *insn      :pointer to insn structure      |
 |                     unsigned int *data          : Data Pointer to read status  |
 +----------------------------------------------------------------------------+
@@ -509,7 +509,7 @@ int i_APCI2200_StartStopWriteWatchdog(st
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI2200_ReadWatchdog(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI2200_ReadWatchdog(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] =
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2200.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci2200.h
@@ -36,25 +36,25 @@
 // Hardware Layer  functions for Apci2200
 
 //Digital Input
-INT i_APCI2200_ReadMoreDigitalInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI2200_ReadMoreDigitalInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				    comedi_insn *insn, unsigned int *data);
-INT i_APCI2200_Read1DigitalInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI2200_Read1DigitalInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
 
 //Digital Output
-int i_APCI2200_ConfigDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI2200_ConfigDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
-INT i_APCI2200_WriteDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI2200_WriteDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
-INT i_APCI2200_ReadDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI2200_ReadDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
 
 // TIMER
-int i_APCI2200_ConfigWatchdog(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI2200_ConfigWatchdog(struct comedi_device *dev, struct comedi_subdevice *s,
 			      comedi_insn *insn, unsigned int *data);
-int i_APCI2200_StartStopWriteWatchdog(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI2200_StartStopWriteWatchdog(struct comedi_device *dev, struct comedi_subdevice *s,
 				      comedi_insn *insn, unsigned int *data);
-int i_APCI2200_ReadWatchdog(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI2200_ReadWatchdog(struct comedi_device *dev, struct comedi_subdevice *s,
 			    comedi_insn *insn, unsigned int *data);
 
 //reset
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.c
@@ -58,14 +58,14 @@ static UINT ui_Temp = 0;
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_InsnConfigAnalogInput(struct comedi_device *dev,|
-|  comedi_subdevice *s,comedi_insn *insn,unsigned int *data)					 |
+|  struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data)					 |
 |                                            						         |
 +----------------------------------------------------------------------------+
 | Task              : Calls card specific function  					     |
 |                     										                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev									 |
-|                     comedi_subdevice *s									 |
+|                     struct comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data      					         		 |
 +----------------------------------------------------------------------------+
@@ -74,7 +74,7 @@ static UINT ui_Temp = 0;
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_InsnConfigAnalogInput(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI3120_InsnConfigAnalogInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT i;
@@ -125,7 +125,7 @@ int i_APCI3120_InsnConfigAnalogInput(str
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_InsnReadAnalogInput(struct comedi_device *dev,  |
-|			comedi_subdevice *s,comedi_insn *insn, unsigned int *data)	 |
+|			struct comedi_subdevice *s,comedi_insn *insn, unsigned int *data)	 |
 |                                            						         |
 +----------------------------------------------------------------------------+
 | Task              :  card specific function								 |
@@ -136,7 +136,7 @@ int i_APCI3120_InsnConfigAnalogInput(str
 |                     										                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev									 |
-|                     comedi_subdevice *s									 |
+|                     struct comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data     									 |
 +----------------------------------------------------------------------------+
@@ -145,7 +145,7 @@ int i_APCI3120_InsnConfigAnalogInput(str
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_InsnReadAnalogInput(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI3120_InsnReadAnalogInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	USHORT us_ConvertTiming, us_TmpValue, i;
@@ -394,14 +394,14 @@ int i_APCI3120_InsnReadAnalogInput(struc
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_StopCyclicAcquisition(struct comedi_device *dev,|
-| 											     comedi_subdevice *s)|
+| 											     struct comedi_subdevice *s)|
 |                                        									 |
 +----------------------------------------------------------------------------+
 | Task              : Stops Cyclic acquisition  						     |
 |                     										                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev									 |
-|                     comedi_subdevice *s									 |
+|                     struct comedi_subdevice *s									 |
 |                                                 					         |
 +----------------------------------------------------------------------------+
 | Return Value      :0              					                     |
@@ -409,7 +409,7 @@ int i_APCI3120_InsnReadAnalogInput(struc
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_StopCyclicAcquisition(struct comedi_device * dev, comedi_subdevice * s)
+int i_APCI3120_StopCyclicAcquisition(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	// Disable A2P Fifo write and AMWEN signal
 	outw(0, devpriv->i_IobaseAddon + 4);
@@ -460,7 +460,7 @@ int i_APCI3120_StopCyclicAcquisition(str
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_CommandTestAnalogInput(struct comedi_device *dev|
-|			,comedi_subdevice *s,comedi_cmd *cmd)					 |
+|			,struct comedi_subdevice *s,comedi_cmd *cmd)					 |
 |                                        									 |
 +----------------------------------------------------------------------------+
 | Task              : Test validity for a command for cyclic anlog input     |
@@ -468,7 +468,7 @@ int i_APCI3120_StopCyclicAcquisition(str
 |                     										                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev									 |
-|                     comedi_subdevice *s									 |
+|                     struct comedi_subdevice *s									 |
 |                     comedi_cmd *cmd              					         |
 +----------------------------------------------------------------------------+
 | Return Value      :0              					                     |
@@ -476,7 +476,7 @@ int i_APCI3120_StopCyclicAcquisition(str
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_CommandTestAnalogInput(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI3120_CommandTestAnalogInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -617,7 +617,7 @@ int i_APCI3120_CommandTestAnalogInput(st
 /*
 +----------------------------------------------------------------------------+
 | Function name     : int i_APCI3120_CommandAnalogInput(struct comedi_device *dev,  |
-|												comedi_subdevice *s) |
+|												struct comedi_subdevice *s) |
 |                                        									 |
 +----------------------------------------------------------------------------+
 | Task              : Does asynchronous acquisition                          |
@@ -625,7 +625,7 @@ int i_APCI3120_CommandTestAnalogInput(st
 |                     										                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev									 |
-|                     comedi_subdevice *s									 |
+|                     struct comedi_subdevice *s									 |
 |                     														 |
 +----------------------------------------------------------------------------+
 | Return Value      :              					                         |
@@ -633,7 +633,7 @@ int i_APCI3120_CommandTestAnalogInput(st
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_CommandAnalogInput(struct comedi_device * dev, comedi_subdevice * s)
+int i_APCI3120_CommandAnalogInput(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &s->async->cmd;
 
@@ -690,7 +690,7 @@ int i_APCI3120_CommandAnalogInput(struct
 /*
 +----------------------------------------------------------------------------+
 | Function name     :  int i_APCI3120_CyclicAnalogInput(int mode,            |
-|		 	   struct comedi_device * dev,comedi_subdevice * s)			 |
+|		 	   struct comedi_device * dev,struct comedi_subdevice * s)			 |
 +----------------------------------------------------------------------------+
 | Task              : This is used for analog input cyclic acquisition       |
 |			  Performs the command operations.                       |
@@ -708,7 +708,7 @@ int i_APCI3120_CommandAnalogInput(struct
 */
 
 int i_APCI3120_CyclicAnalogInput(int mode, struct comedi_device * dev,
-	comedi_subdevice * s)
+	struct comedi_subdevice * s)
 {
 	BYTE b_Tmp;
 	UINT ui_Tmp, ui_DelayTiming = 0, ui_TimerValue1 = 0, dmalen0 =
@@ -1275,7 +1275,7 @@ int i_APCI3120_Reset(struct comedi_devic
 /*
 +----------------------------------------------------------------------------+
 | Function name     : int i_APCI3120_SetupChannelList(struct comedi_device * dev,   |
-|                     comedi_subdevice * s, int n_chan,unsigned int *chanlist|
+|                     struct comedi_subdevice * s, int n_chan,unsigned int *chanlist|
 |			  ,char check)											 |
 |                                            						         |
 +----------------------------------------------------------------------------+
@@ -1286,7 +1286,7 @@ int i_APCI3120_Reset(struct comedi_devic
 |                     										                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device * dev									 |
-|                     comedi_subdevice * s									 |
+|                     struct comedi_subdevice * s									 |
 |                     int n_chan                   					         |
 			  unsigned int *chanlist
 			  char check
@@ -1296,7 +1296,7 @@ int i_APCI3120_Reset(struct comedi_devic
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_SetupChannelList(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI3120_SetupChannelList(struct comedi_device * dev, struct comedi_subdevice * s,
 	int n_chan, unsigned int *chanlist, char check)
 {
 	unsigned int i;		//, differencial=0, bipolar=0;
@@ -1428,7 +1428,7 @@ void v_APCI3120_Interrupt(int irq, void 
 	USHORT us_TmpValue;
 	BYTE b_DummyRead;
 
-	comedi_subdevice *s = dev->subdevices + 0;
+	struct comedi_subdevice *s = dev->subdevices + 0;
 	ui_Check = 1;
 
 	int_daq = inw(dev->iobase + APCI3120_RD_STATUS) & 0xf000;	// get IRQ reasons
@@ -1634,7 +1634,7 @@ void v_APCI3120_Interrupt(int irq, void 
 {
        int n_chan,i;
        short *data;
-       comedi_subdevice *s=dev->subdevices+0;
+       struct comedi_subdevice *s=dev->subdevices+0;
        comedi_async *async = s->async;
        data=async->data+async->buf_int_ptr;//new samples added from here onwards
        n_chan=devpriv->ui_AiNbrofChannels;
@@ -1657,7 +1657,7 @@ void v_APCI3120_Interrupt(int irq, void 
 int i_APCI3120_InterruptHandleEos(struct comedi_device * dev)
 {
 	int n_chan, i;
-	comedi_subdevice *s = dev->subdevices + 0;
+	struct comedi_subdevice *s = dev->subdevices + 0;
 	int err = 1;
 
 	n_chan = devpriv->ui_AiNbrofChannels;
@@ -1699,7 +1699,7 @@ int i_APCI3120_InterruptHandleEos(struct
 void v_APCI3120_InterruptDma(int irq, void *d)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev->subdevices + 0;
+	struct comedi_subdevice *s = dev->subdevices + 0;
 	unsigned int next_dma_buf, samplesinbuf;
 	unsigned long low_word, high_word, var;
 
@@ -1879,7 +1879,7 @@ void v_APCI3120_InterruptDma(int irq, vo
 /*
 +----------------------------------------------------------------------------+
 | Function name     :void v_APCI3120_InterruptDmaMoveBlock16bit(comedi_device|
-|*dev,comedi_subdevice *s,short *dma,short *data,int n)				     |
+|*dev,struct comedi_subdevice *s,short *dma,short *data,int n)				     |
 |                                        									 |
 +----------------------------------------------------------------------------+
 | Task              : This function copies the data from DMA buffer to the   |
@@ -1887,7 +1887,7 @@ void v_APCI3120_InterruptDma(int irq, vo
 |                     										                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev									 |
-|                     comedi_subdevice *s									 |
+|                     struct comedi_subdevice *s									 |
 |                     short *dma											 |
 |                     short *data,int n          					         |
 +----------------------------------------------------------------------------+
@@ -1896,7 +1896,7 @@ void v_APCI3120_InterruptDma(int irq, vo
 +----------------------------------------------------------------------------+
 */
 
-/*void v_APCI3120_InterruptDmaMoveBlock16bit(struct comedi_device *dev,comedi_subdevice *s,short *dma,short *data,int n)
+/*void v_APCI3120_InterruptDmaMoveBlock16bit(struct comedi_device *dev,struct comedi_subdevice *s,short *dma,short *data,int n)
 {
 	int i,j,m;
 
@@ -1926,7 +1926,7 @@ void v_APCI3120_InterruptDma(int irq, vo
 }
 */
 void v_APCI3120_InterruptDmaMoveBlock16bit(struct comedi_device * dev,
-	comedi_subdevice * s, short * dma_buffer, unsigned int num_samples)
+	struct comedi_subdevice * s, short * dma_buffer, unsigned int num_samples)
 {
 	devpriv->ui_AiActualScan +=
 		(s->async->cur_chan + num_samples) / devpriv->ui_AiScanLength;
@@ -1945,14 +1945,14 @@ void v_APCI3120_InterruptDmaMoveBlock16b
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_InsnConfigTimer(struct comedi_device *dev,          |
-|	comedi_subdevice *s,comedi_insn *insn,unsigned int *data) 			     |
+|	struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data) 			     |
 |                                        									 |
 +----------------------------------------------------------------------------+
 | Task              :Configure Timer 2  								     |
 |                     										                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev									 |
-|                     comedi_subdevice *s									 |
+|                     struct comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data 										 |
 |                     														 |
@@ -1967,7 +1967,7 @@ void v_APCI3120_InterruptDmaMoveBlock16b
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_InsnConfigTimer(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI3120_InsnConfigTimer(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -2093,13 +2093,13 @@ int i_APCI3120_InsnConfigTimer(struct co
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_InsnWriteTimer(struct comedi_device *dev,           |
-|                    comedi_subdevice *s, comedi_insn *insn,unsigned int *data)  |
+|                    struct comedi_subdevice *s, comedi_insn *insn,unsigned int *data)  |
 |                                            						         |
 +----------------------------------------------------------------------------+
 | Task              :    To start and stop the timer		                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev									 |
-|                     comedi_subdevice *s									 |
+|                     struct comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data                                         |
 |                                                                            |
@@ -2118,7 +2118,7 @@ int i_APCI3120_InsnConfigTimer(struct co
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_InsnWriteTimer(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI3120_InsnWriteTimer(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -2284,14 +2284,14 @@ int i_APCI3120_InsnWriteTimer(struct com
 /*
 +----------------------------------------------------------------------------+
 | Function name     : int i_APCI3120_InsnReadTimer(struct comedi_device *dev,           |
-|		comedi_subdevice *s,comedi_insn *insn, unsigned int *data) 		 |
+|		struct comedi_subdevice *s,comedi_insn *insn, unsigned int *data) 		 |
 |                                        									 |
 |                                            						         |
 +----------------------------------------------------------------------------+
 | Task              : read the Timer value 				                 	 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : 	struct comedi_device *dev									 |
-|                     comedi_subdevice *s									 |
+|                     struct comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data 										 |
 |                     														 |
@@ -2304,7 +2304,7 @@ int i_APCI3120_InsnWriteTimer(struct com
 |                    													     |
 +----------------------------------------------------------------------------+
 */
-int i_APCI3120_InsnReadTimer(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI3120_InsnReadTimer(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_Tmp;
@@ -2361,7 +2361,7 @@ int i_APCI3120_InsnReadTimer(struct come
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_InsnReadDigitalInput(struct comedi_device *dev,     |
-|			comedi_subdevice *s, comedi_insn *insn,unsigned int *data)   |
+|			struct comedi_subdevice *s, comedi_insn *insn,unsigned int *data)   |
 |                                        									 |
 |                                            						         |
 +----------------------------------------------------------------------------+
@@ -2369,7 +2369,7 @@ int i_APCI3120_InsnReadTimer(struct come
 |                     										                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev									 |
-|                     comedi_subdevice *s									 |
+|                     struct comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data 										 |
 +----------------------------------------------------------------------------+
@@ -2378,8 +2378,10 @@ int i_APCI3120_InsnReadTimer(struct come
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_InsnReadDigitalInput(struct comedi_device * dev, comedi_subdevice
-	* s, comedi_insn * insn, unsigned int * data)
+int i_APCI3120_InsnReadDigitalInput(struct comedi_device *dev,
+				    struct comedi_subdevice *s,
+				    comedi_insn *insn,
+				    unsigned int *data)
 {
 	UINT ui_Chan, ui_TmpValue;
 
@@ -2404,7 +2406,7 @@ int i_APCI3120_InsnReadDigitalInput(stru
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_InsnBitsDigitalInput(struct comedi_device *dev, |
-|comedi_subdevice *s, comedi_insn *insn,unsigned int *data)                      |
+|struct comedi_subdevice *s, comedi_insn *insn,unsigned int *data)                      |
 |                                        									 |
 +----------------------------------------------------------------------------+
 | Task              : Reads the value of the Digital input Port i.e.4channels|
@@ -2412,7 +2414,7 @@ int i_APCI3120_InsnReadDigitalInput(stru
 |                     										                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev									 |
-|                     comedi_subdevice *s									 |
+|                     struct comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data 										 |
 +----------------------------------------------------------------------------+
@@ -2420,7 +2422,7 @@ int i_APCI3120_InsnReadDigitalInput(stru
 |                    													     |
 +----------------------------------------------------------------------------+
 */
-int i_APCI3120_InsnBitsDigitalInput(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI3120_InsnBitsDigitalInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_TmpValue;
@@ -2443,14 +2445,14 @@ int i_APCI3120_InsnBitsDigitalInput(stru
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_InsnConfigDigitalOutput(struct comedi_device    |
-| *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data)				 |
+| *dev,struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data)				 |
 |                                            						         |
 +----------------------------------------------------------------------------+
 | Task              :Configure the output memory ON or OFF				     |
 |                     										                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  :struct comedi_device *dev									 	 |
-|                     comedi_subdevice *s									 |
+|                     struct comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data 										 |
 +----------------------------------------------------------------------------+
@@ -2460,7 +2462,7 @@ int i_APCI3120_InsnBitsDigitalInput(stru
 */
 
 int i_APCI3120_InsnConfigDigitalOutput(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 
 	if ((data[0] != 0) && (data[0] != 1)) {
@@ -2486,14 +2488,14 @@ int i_APCI3120_InsnConfigDigitalOutput(s
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_InsnBitsDigitalOutput(struct comedi_device *dev,    |
-|		comedi_subdevice *s, comedi_insn *insn,unsigned int *data) 		 |
+|		struct comedi_subdevice *s, comedi_insn *insn,unsigned int *data) 		 |
 |                                        									 |
 +----------------------------------------------------------------------------+
 | Task              : write diatal output port							     |
 |                     										                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev									 |
-|                     comedi_subdevice *s									 |
+|                     struct comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data 										 |
                       data[0]     Value to be written
@@ -2505,8 +2507,10 @@ int i_APCI3120_InsnConfigDigitalOutput(s
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_InsnBitsDigitalOutput(struct comedi_device * dev, comedi_subdevice
-	* s, comedi_insn * insn, unsigned int * data)
+int i_APCI3120_InsnBitsDigitalOutput(struct comedi_device * dev,
+				     struct comedi_subdevice *s,
+				     comedi_insn *insn,
+				     unsigned int *data)
 {
 	if ((data[0] > this_board->i_DoMaxdata) || (data[0] < 0)) {
 
@@ -2537,14 +2541,14 @@ int i_APCI3120_InsnBitsDigitalOutput(str
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_InsnWriteDigitalOutput(struct comedi_device *dev,|
-|comedi_subdevice *s,comedi_insn *insn,unsigned int *data) 			             |
+|struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data) 			             |
 |                                            						         |
 +----------------------------------------------------------------------------+
 | Task              : Write digiatl output								     |
 |                     										                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev								 	 |
-|                     comedi_subdevice *s									 |
+|                     struct comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data 										 |
                       data[0]     Value to be written
@@ -2556,8 +2560,10 @@ int i_APCI3120_InsnBitsDigitalOutput(str
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_InsnWriteDigitalOutput(struct comedi_device * dev, comedi_subdevice
-	* s, comedi_insn * insn, unsigned int * data)
+int i_APCI3120_InsnWriteDigitalOutput(struct comedi_device *dev,
+				      struct comedi_subdevice *s,
+				      comedi_insn *insn,
+				      unsigned int *data)
 {
 
 	UINT ui_Temp1;
@@ -2618,14 +2624,14 @@ int i_APCI3120_InsnWriteDigitalOutput(st
 /*
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3120_InsnWriteAnalogOutput(struct comedi_device *dev,|
-|comedi_subdevice *s, comedi_insn *insn,unsigned int *data)			             |
+|struct comedi_subdevice *s, comedi_insn *insn,unsigned int *data)			             |
 |                                        									 |
 +----------------------------------------------------------------------------+
 | Task              : Write  analog output   							     |
 |                     										                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev									 |
-|                     comedi_subdevice *s									 |
+|                     struct comedi_subdevice *s									 |
 |                     comedi_insn *insn                                      |
 |                     unsigned int *data  										 |
 +----------------------------------------------------------------------------+
@@ -2634,8 +2640,10 @@ int i_APCI3120_InsnWriteDigitalOutput(st
 +----------------------------------------------------------------------------+
 */
 
-int i_APCI3120_InsnWriteAnalogOutput(struct comedi_device * dev, comedi_subdevice
-	* s, comedi_insn * insn, unsigned int * data)
+int i_APCI3120_InsnWriteAnalogOutput(struct comedi_device *dev,
+				     struct comedi_subdevice *s,
+				     comedi_insn *insn,
+				     unsigned int *data)
 {
 	UINT ui_Range, ui_Channel;
 	USHORT us_TmpValue;
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3120.h
@@ -178,19 +178,19 @@ typedef struct {
 // Function Declaration For APCI-3120
 
 // Internal functions
-int i_APCI3120_SetupChannelList(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_SetupChannelList(struct comedi_device *dev, struct comedi_subdevice *s,
 				int n_chan, unsigned int *chanlist, char check);
 int i_APCI3120_ExttrigEnable(struct comedi_device *dev);
 int i_APCI3120_ExttrigDisable(struct comedi_device *dev);
-int i_APCI3120_StopCyclicAcquisition(struct comedi_device *dev, comedi_subdevice *s);
+int i_APCI3120_StopCyclicAcquisition(struct comedi_device *dev, struct comedi_subdevice *s);
 int i_APCI3120_Reset(struct comedi_device *dev);
 int i_APCI3120_CyclicAnalogInput(int mode, struct comedi_device *dev,
-				 comedi_subdevice *s);
+				 struct comedi_subdevice *s);
 // Interrupt functions
 void v_APCI3120_Interrupt(int irq, void *d);
-//UPDATE-0.7.57->0.7.68 void v_APCI3120_InterruptDmaMoveBlock16bit(struct comedi_device *dev,comedi_subdevice *s,short *dma,short *data,int n);
+//UPDATE-0.7.57->0.7.68 void v_APCI3120_InterruptDmaMoveBlock16bit(struct comedi_device *dev,struct comedi_subdevice *s,short *dma,short *data,int n);
 void v_APCI3120_InterruptDmaMoveBlock16bit(struct comedi_device *dev,
-					   comedi_subdevice *s,
+					   struct comedi_subdevice *s,
 					   short *dma_buffer,
 					   unsigned int num_samples);
 int i_APCI3120_InterruptHandleEos(struct comedi_device *dev);
@@ -198,44 +198,44 @@ void v_APCI3120_InterruptDma(int irq, vo
 
 // TIMER
 
-int i_APCI3120_InsnConfigTimer(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_InsnConfigTimer(struct comedi_device *dev, struct comedi_subdevice *s,
 			       comedi_insn *insn, unsigned int *data);
-int i_APCI3120_InsnWriteTimer(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_InsnWriteTimer(struct comedi_device *dev, struct comedi_subdevice *s,
 			      comedi_insn *insn, unsigned int *data);
-int i_APCI3120_InsnReadTimer(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_InsnReadTimer(struct comedi_device *dev, struct comedi_subdevice *s,
 			     comedi_insn *insn, unsigned int *data);
 
 //DI
 // for di read
 
-int i_APCI3120_InsnBitsDigitalInput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_InsnBitsDigitalInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				    comedi_insn *insn, unsigned int *data);
-int i_APCI3120_InsnReadDigitalInput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_InsnReadDigitalInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				    comedi_insn *insn, unsigned int *data);
 
 //DO
 //int i_APCI3120_WriteDigitalOutput(struct comedi_device *dev, BYTE data);
 int i_APCI3120_InsnConfigDigitalOutput(struct comedi_device *dev,
-				       comedi_subdevice *s, comedi_insn *insn,
+				       struct comedi_subdevice *s, comedi_insn *insn,
 				       unsigned int *data);
-int i_APCI3120_InsnBitsDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_InsnBitsDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				     comedi_insn *insn, unsigned int *data);
-int i_APCI3120_InsnWriteDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_InsnWriteDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				      comedi_insn *insn, unsigned int *data);
 
 //AO
 //int i_APCI3120_Write1AnalogValue(struct comedi_device *dev,UINT ui_Range,UINT ui_Channel,UINT data );
-int i_APCI3120_InsnWriteAnalogOutput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_InsnWriteAnalogOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				     comedi_insn *insn, unsigned int *data);
 
 //AI HArdware layer
 
-int i_APCI3120_InsnConfigAnalogInput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_InsnConfigAnalogInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				     comedi_insn *insn, unsigned int *data);
-int i_APCI3120_InsnReadAnalogInput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_InsnReadAnalogInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
-int i_APCI3120_CommandTestAnalogInput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI3120_CommandTestAnalogInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				      comedi_cmd *cmd);
-int i_APCI3120_CommandAnalogInput(struct comedi_device *dev, comedi_subdevice *s);
-//int i_APCI3120_CancelAnalogInput(struct comedi_device *dev, comedi_subdevice *s);
-int i_APCI3120_StopCyclicAcquisition(struct comedi_device *dev, comedi_subdevice *s);
+int i_APCI3120_CommandAnalogInput(struct comedi_device *dev, struct comedi_subdevice *s);
+//int i_APCI3120_CancelAnalogInput(struct comedi_device *dev, struct comedi_subdevice *s);
+int i_APCI3120_StopCyclicAcquisition(struct comedi_device *dev, struct comedi_subdevice *s);
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.c
@@ -530,7 +530,7 @@ INT i_APCI3200_GetChannelCalibrationValu
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadDigitalInput                       |
-  |			  (struct comedi_device *dev,comedi_subdevice *s,               |
+  |			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
   |                      comedi_insn *insn,unsigned int *data)                     |
   +----------------------------------------------------------------------------+
   | Task              : Read  value  of the selected channel or port           |
@@ -550,7 +550,7 @@ INT i_APCI3200_GetChannelCalibrationValu
   +----------------------------------------------------------------------------+
 */
 
-INT i_APCI3200_ReadDigitalInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI3200_ReadDigitalInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp = 0;
@@ -592,7 +592,7 @@ INT i_APCI3200_ReadDigitalInput(struct c
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ConfigDigitalOutput                     |
-  |			  (struct comedi_device *dev,comedi_subdevice *s,				 |
+  |			  (struct comedi_device *dev,struct comedi_subdevice *s,				 |
   |                      comedi_insn *insn,unsigned int *data)                     |
   +----------------------------------------------------------------------------+
   | Task              : Configures The Digital Output Subdevice.               |
@@ -608,7 +608,7 @@ INT i_APCI3200_ReadDigitalInput(struct c
   |																	 |
   +----------------------------------------------------------------------------+
 */
-int i_APCI3200_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI3200_ConfigDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -629,13 +629,13 @@ int i_APCI3200_ConfigDigitalOutput(struc
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_WriteDigitalOutput                      |
-  |			  (struct comedi_device *dev,comedi_subdevice *s,				 |
+  |			  (struct comedi_device *dev,struct comedi_subdevice *s,				 |
   |                      comedi_insn *insn,unsigned int *data)                     |
   +----------------------------------------------------------------------------+
   | Task              : writes To the digital Output Subdevice                 |
   +----------------------------------------------------------------------------+
   | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-  |                     comedi_subdevice *s     : Subdevice Pointer            |
+  |                     struct comedi_subdevice *s     : Subdevice Pointer            |
   |                     comedi_insn *insn       : Insn Structure Pointer       |
   |                     unsigned int *data          : Data Pointer contains        |
   |                                          configuration parameters as below |
@@ -653,7 +653,7 @@ int i_APCI3200_ConfigDigitalOutput(struc
   |			                                                         |
   +----------------------------------------------------------------------------+
 */
-INT i_APCI3200_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI3200_WriteDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp = 0, ui_Temp1 = 0;
@@ -746,7 +746,7 @@ INT i_APCI3200_WriteDigitalOutput(struct
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadDigitalOutput                       |
-  |			  (struct comedi_device *dev,comedi_subdevice *s,               |
+  |			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
   |                      comedi_insn *insn,unsigned int *data)                     |
   +----------------------------------------------------------------------------+
   | Task              : Read  value  of the selected channel or port           |
@@ -766,7 +766,7 @@ INT i_APCI3200_WriteDigitalOutput(struct
   |			                                                         |
   +----------------------------------------------------------------------------+
 */
-INT i_APCI3200_ReadDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI3200_ReadDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp;
@@ -807,13 +807,13 @@ INT i_APCI3200_ReadDigitalOutput(struct 
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : INT i_APCI3200_ConfigAnalogInput                       |
-  |			  (struct comedi_device *dev,comedi_subdevice *s,               |
+  |			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
   |                      comedi_insn *insn,unsigned int *data)                     |
   +----------------------------------------------------------------------------+
   | Task              : Configures The Analog Input Subdevice                  |
   +----------------------------------------------------------------------------+
   | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-  |                     comedi_subdevice *s     : Subdevice Pointer            |
+  |                     struct comedi_subdevice *s     : Subdevice Pointer            |
   |                     comedi_insn *insn       : Insn Structure Pointer       |
   |                     unsigned int *data          : Data Pointer contains        |
   |                                          configuration parameters as below |
@@ -874,7 +874,7 @@ INT i_APCI3200_ReadDigitalOutput(struct 
   |			                                                         |
   +----------------------------------------------------------------------------+
 */
-INT i_APCI3200_ConfigAnalogInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI3200_ConfigAnalogInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -1334,7 +1334,7 @@ INT i_APCI3200_ConfigAnalogInput(struct 
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadAnalogInput                         |
-  |			          (struct comedi_device *dev,comedi_subdevice *s,       |
+  |			          (struct comedi_device *dev,struct comedi_subdevice *s,       |
   |                     comedi_insn *insn,unsigned int *data)                      |
   +----------------------------------------------------------------------------+
   | Task              : Read  value  of the selected channel			         |
@@ -1361,7 +1361,7 @@ INT i_APCI3200_ConfigAnalogInput(struct 
   |			                                                         |
   +----------------------------------------------------------------------------+
 */
-INT i_APCI3200_ReadAnalogInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI3200_ReadAnalogInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_DummyValue = 0;
@@ -1633,7 +1633,7 @@ INT i_APCI3200_ReadAnalogInput(struct co
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_Read1AnalogInputChannel                 |
-  |			          (struct comedi_device *dev,comedi_subdevice *s,       |
+  |			          (struct comedi_device *dev,struct comedi_subdevice *s,       |
   |                     comedi_insn *insn,unsigned int *data)                      |
   +----------------------------------------------------------------------------+
   | Task              : Read  value  of the selected channel			         |
@@ -1652,7 +1652,7 @@ INT i_APCI3200_ReadAnalogInput(struct co
   +----------------------------------------------------------------------------+
 */
 INT i_APCI3200_Read1AnalogInputChannel(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_EOC = 0;
 	UINT ui_ChannelNo = 0;
@@ -1759,7 +1759,7 @@ INT i_APCI3200_Read1AnalogInputChannel(s
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadCalibrationOffsetValue              |
-  |			          (struct comedi_device *dev,comedi_subdevice *s,       |
+  |			          (struct comedi_device *dev,struct comedi_subdevice *s,       |
   |                     comedi_insn *insn,unsigned int *data)                      |
   +----------------------------------------------------------------------------+
   | Task              : Read calibration offset  value  of the selected channel|
@@ -1895,7 +1895,7 @@ int i_APCI3200_ReadCalibrationOffsetValu
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadCalibrationGainValue                |
-  |			          (struct comedi_device *dev,comedi_subdevice *s,       |
+  |			          (struct comedi_device *dev,struct comedi_subdevice *s,       |
   |                     comedi_insn *insn,unsigned int *data)                      |
   +----------------------------------------------------------------------------+
   | Task              : Read calibration gain  value  of the selected channel  |
@@ -2030,7 +2030,7 @@ int i_APCI3200_ReadCalibrationGainValue(
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadCJCValue                            |
-  |			          (struct comedi_device *dev,comedi_subdevice *s,       |
+  |			          (struct comedi_device *dev,struct comedi_subdevice *s,       |
   |                     comedi_insn *insn,unsigned int *data)                      |
   +----------------------------------------------------------------------------+
   | Task              : Read CJC  value  of the selected channel               |
@@ -2150,7 +2150,7 @@ int i_APCI3200_ReadCJCValue(struct comed
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadCJCCalOffset                        |
-  |			          (struct comedi_device *dev,comedi_subdevice *s,       |
+  |			          (struct comedi_device *dev,struct comedi_subdevice *s,       |
   |                     comedi_insn *insn,unsigned int *data)                      |
   +----------------------------------------------------------------------------+
   | Task              : Read CJC calibration offset  value  of the selected channel
@@ -2265,7 +2265,7 @@ int i_APCI3200_ReadCJCCalOffset(struct c
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_ReadCJCGainValue                        |
-  |			          (struct comedi_device *dev,comedi_subdevice *s,       |
+  |			          (struct comedi_device *dev,struct comedi_subdevice *s,       |
   |                     comedi_insn *insn,unsigned int *data)                      |
   +----------------------------------------------------------------------------+
   | Task              : Read CJC calibration gain value
@@ -2375,13 +2375,13 @@ int i_APCI3200_ReadCJCCalGain(struct com
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_InsnBits_AnalogInput_Test               |
-  |			  (struct comedi_device *dev,comedi_subdevice *s,               |
+  |			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
   |                      comedi_insn *insn,unsigned int *data)                     |
   +----------------------------------------------------------------------------+
   | Task              : Tests the Selected Anlog Input Channel                 |
   +----------------------------------------------------------------------------+
   | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-  |                     comedi_subdevice *s     : Subdevice Pointer            |
+  |                     struct comedi_subdevice *s     : Subdevice Pointer            |
   |                     comedi_insn *insn       : Insn Structure Pointer       |
   |                     unsigned int *data          : Data Pointer contains        |
   |                                          configuration parameters as below |
@@ -2405,7 +2405,7 @@ int i_APCI3200_ReadCJCCalGain(struct com
 */
 
 INT i_APCI3200_InsnBits_AnalogInput_Test(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Configuration = 0;
 	INT i_Temp;		//,i_TimeUnit;
@@ -2510,13 +2510,13 @@ INT i_APCI3200_InsnBits_AnalogInput_Test
 /*
   +----------------------------------------------------------------------------+
   | Function   Name   : int i_APCI3200_InsnWriteReleaseAnalogInput             |
-  |			  (struct comedi_device *dev,comedi_subdevice *s,               |
+  |			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
   |                      comedi_insn *insn,unsigned int *data)                     |
   +----------------------------------------------------------------------------+
   | Task              :  Resets the channels                                                      |
   +----------------------------------------------------------------------------+
   | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-  |                     comedi_subdevice *s     : Subdevice Pointer            |
+  |                     struct comedi_subdevice *s     : Subdevice Pointer            |
   |                     comedi_insn *insn       : Insn Structure Pointer       |
   |                     unsigned int *data          : Data Pointer
   +----------------------------------------------------------------------------+
@@ -2530,7 +2530,7 @@ INT i_APCI3200_InsnBits_AnalogInput_Test
 */
 
 INT i_APCI3200_InsnWriteReleaseAnalogInput(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	i_APCI3200_Reset(dev);
 	return insn->n;
@@ -2539,7 +2539,7 @@ INT i_APCI3200_InsnWriteReleaseAnalogInp
 /*
   +----------------------------------------------------------------------------+
   | Function name     :int i_APCI3200_CommandTestAnalogInput(struct comedi_device *dev|
-  |			,comedi_subdevice *s,comedi_cmd *cmd)			         |
+  |			,struct comedi_subdevice *s,comedi_cmd *cmd)			         |
   |                                        									 |
   +----------------------------------------------------------------------------+
   | Task              : Test validity for a command for cyclic anlog input     |
@@ -2547,7 +2547,7 @@ INT i_APCI3200_InsnWriteReleaseAnalogInp
   |                     										                 |
   +----------------------------------------------------------------------------+
   | Input Parameters  : struct comedi_device *dev									 |
-  |                     comedi_subdevice *s									 |
+  |                     struct comedi_subdevice *s									 |
   |                     comedi_cmd *cmd              					         |
   |                     										                 |
   |
@@ -2560,7 +2560,7 @@ INT i_APCI3200_InsnWriteReleaseAnalogInp
   +----------------------------------------------------------------------------+
 */
 
-int i_APCI3200_CommandTestAnalogInput(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI3200_CommandTestAnalogInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 
@@ -2749,14 +2749,14 @@ int i_APCI3200_CommandTestAnalogInput(st
 /*
   +----------------------------------------------------------------------------+
   | Function name     :int i_APCI3200_StopCyclicAcquisition(struct comedi_device *dev,|
-  | 											     comedi_subdevice *s)|
+  | 											     struct comedi_subdevice *s)|
   |                                        									 |
   +----------------------------------------------------------------------------+
   | Task              : Stop the  acquisition  						     |
   |                     										                 |
   +----------------------------------------------------------------------------+
   | Input Parameters  : struct comedi_device *dev									 |
-  |                     comedi_subdevice *s									 |
+  |                     struct comedi_subdevice *s									 |
   |                                                 					         |
   +----------------------------------------------------------------------------+
   | Return Value      :0              					                     |
@@ -2764,7 +2764,7 @@ int i_APCI3200_CommandTestAnalogInput(st
   +----------------------------------------------------------------------------+
 */
 
-int i_APCI3200_StopCyclicAcquisition(struct comedi_device * dev, comedi_subdevice * s)
+int i_APCI3200_StopCyclicAcquisition(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	UINT ui_Configuration = 0;
 	//i_InterruptFlag=0;
@@ -2797,7 +2797,7 @@ int i_APCI3200_StopCyclicAcquisition(str
 /*
   +----------------------------------------------------------------------------+
   | Function name     : int i_APCI3200_CommandAnalogInput(struct comedi_device *dev,  |
-  |												comedi_subdevice *s) |
+  |												struct comedi_subdevice *s) |
   |                                        									 |
   +----------------------------------------------------------------------------+
   | Task              : Does asynchronous acquisition                          |
@@ -2805,7 +2805,7 @@ int i_APCI3200_StopCyclicAcquisition(str
   |                     										                 |
   +----------------------------------------------------------------------------+
   | Input Parameters  : struct comedi_device *dev									 |
-  |                     comedi_subdevice *s									 |
+  |                     struct comedi_subdevice *s									 |
   |                     														 |
   |                     														 |
   +----------------------------------------------------------------------------+
@@ -2814,7 +2814,7 @@ int i_APCI3200_StopCyclicAcquisition(str
   +----------------------------------------------------------------------------+
 */
 
-int i_APCI3200_CommandAnalogInput(struct comedi_device * dev, comedi_subdevice * s)
+int i_APCI3200_CommandAnalogInput(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &s->async->cmd;
 	UINT ui_Configuration = 0;
@@ -3502,7 +3502,7 @@ void v_APCI3200_Interrupt(int irq, void 
 int i_APCI3200_InterruptHandleEos(struct comedi_device * dev)
 {
 	UINT ui_StatusRegister = 0;
-	comedi_subdevice *s = dev->subdevices + 0;
+	struct comedi_subdevice *s = dev->subdevices + 0;
 
 	//BEGIN JK 18.10.2004: APCI-3200 Driver update 0.7.57 -> 0.7.68
 	//comedi_async *async = s->async;
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3200.h
@@ -154,22 +154,22 @@ typedef struct {
 
 //AI
 
-INT i_APCI3200_ConfigAnalogInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI3200_ConfigAnalogInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
-INT i_APCI3200_ReadAnalogInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI3200_ReadAnalogInput(struct comedi_device *dev, struct comedi_subdevice *s,
 			       comedi_insn *insn, unsigned int *data);
 INT i_APCI3200_InsnWriteReleaseAnalogInput(struct comedi_device *dev,
-					   comedi_subdevice *s,
+					   struct comedi_subdevice *s,
 					   comedi_insn *insn, unsigned int *data);
 INT i_APCI3200_InsnBits_AnalogInput_Test(struct comedi_device *dev,
-					 comedi_subdevice *s,
+					 struct comedi_subdevice *s,
 					 comedi_insn *insn, unsigned int *data);
-INT i_APCI3200_StopCyclicAcquisition(struct comedi_device *dev, comedi_subdevice *s);
+INT i_APCI3200_StopCyclicAcquisition(struct comedi_device *dev, struct comedi_subdevice *s);
 INT i_APCI3200_InterruptHandleEos(struct comedi_device *dev);
-INT i_APCI3200_CommandTestAnalogInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI3200_CommandTestAnalogInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				      comedi_cmd *cmd);
-INT i_APCI3200_CommandAnalogInput(struct comedi_device *dev, comedi_subdevice *s);
-INT i_APCI3200_ReadDigitalInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI3200_CommandAnalogInput(struct comedi_device *dev, struct comedi_subdevice *s);
+INT i_APCI3200_ReadDigitalInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				comedi_insn *insn, unsigned int *data);
 //Interrupt
 void v_APCI3200_Interrupt(int irq, void *d);
@@ -182,6 +182,6 @@ int i_APCI3200_ReadCJCValue(struct comed
 int i_APCI3200_ReadCalibrationGainValue(struct comedi_device *dev, UINT *data);
 int i_APCI3200_ReadCalibrationOffsetValue(struct comedi_device *dev, UINT *data);
 int i_APCI3200_Read1AnalogInputChannel(struct comedi_device *dev,
-				       comedi_subdevice *s, comedi_insn *insn,
+				       struct comedi_subdevice *s, comedi_insn *insn,
 				       unsigned int *data);
 int i_APCI3200_ReadCJCCalGain(struct comedi_device *dev, unsigned int *data);
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.c
@@ -56,7 +56,7 @@ You shoud also find the complete GPL in 
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_ReadDigitalInput                    |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel or port           |
@@ -73,7 +73,7 @@ You shoud also find the complete GPL in 
 +----------------------------------------------------------------------------+
 */
 
-INT i_APCI3501_ReadDigitalInput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI3501_ReadDigitalInput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp;
@@ -99,7 +99,7 @@ INT i_APCI3501_ReadDigitalInput(struct c
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_ConfigDigitalOutput                     |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Digital Output Subdevice.               |
@@ -121,7 +121,7 @@ INT i_APCI3501_ReadDigitalInput(struct c
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-int i_APCI3501_ConfigDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+int i_APCI3501_ConfigDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -142,13 +142,13 @@ int i_APCI3501_ConfigDigitalOutput(struc
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_WriteDigitalOutput                      |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : writes To the digital Output Subdevice                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|                     comedi_subdevice *s     : Subdevice Pointer            |
+|                     struct comedi_subdevice *s     : Subdevice Pointer            |
 |                     comedi_insn *insn       : Insn Structure Pointer       |
 |                     unsigned int *data          : Data Pointer contains        |
 |                                          configuration parameters as below |
@@ -161,7 +161,7 @@ int i_APCI3501_ConfigDigitalOutput(struc
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI3501_WriteDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI3501_WriteDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp, ui_Temp1;
@@ -232,7 +232,7 @@ INT i_APCI3501_WriteDigitalOutput(struct
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_ReadDigitalOutput                       |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read  value  of the selected channel or port           |
@@ -248,7 +248,7 @@ INT i_APCI3501_WriteDigitalOutput(struct
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI3501_ReadDigitalOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI3501_ReadDigitalOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	UINT ui_Temp;
@@ -275,13 +275,13 @@ INT i_APCI3501_ReadDigitalOutput(struct 
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_ConfigAnalogOutput                      |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Analog Output Subdevice                 |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|                     comedi_subdevice *s     : Subdevice Pointer            |
+|                     struct comedi_subdevice *s     : Subdevice Pointer            |
 |                     comedi_insn *insn       : Insn Structure Pointer       |
 |                     unsigned int *data          : Data Pointer contains        |
 |                                          configuration parameters as below |
@@ -298,7 +298,7 @@ INT i_APCI3501_ReadDigitalOutput(struct 
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI3501_ConfigAnalogOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI3501_ConfigAnalogOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	outl(data[0],
@@ -316,13 +316,13 @@ INT i_APCI3501_ConfigAnalogOutput(struct
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_WriteAnalogOutput                       |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Writes To the Selected Anlog Output Channel            |
 +----------------------------------------------------------------------------+
 | Input Parameters  : struct comedi_device *dev      : Driver handle                |
-|                     comedi_subdevice *s     : Subdevice Pointer            |
+|                     struct comedi_subdevice *s     : Subdevice Pointer            |
 |                     comedi_insn *insn       : Insn Structure Pointer       |
 |                     unsigned int *data          : Data Pointer contains        |
 |                                          configuration parameters as below |
@@ -336,7 +336,7 @@ INT i_APCI3501_ConfigAnalogOutput(struct
 |			                                                         |
 +----------------------------------------------------------------------------+
 */
-INT i_APCI3501_WriteAnalogOutput(struct comedi_device * dev, comedi_subdevice * s,
+INT i_APCI3501_WriteAnalogOutput(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command1 = 0, ul_Channel_no, ul_Polarity, ul_DAC_Ready = 0;;
@@ -386,7 +386,7 @@ INT i_APCI3501_WriteAnalogOutput(struct 
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_ConfigTimerCounterWatchdog              |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Configures The Timer , Counter or Watchdog             |
@@ -411,7 +411,7 @@ INT i_APCI3501_WriteAnalogOutput(struct 
 +----------------------------------------------------------------------------+
 */
 INT i_APCI3501_ConfigTimerCounterWatchdog(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command1 = 0;
 	devpriv->tsk_Current = current;
@@ -489,7 +489,7 @@ INT i_APCI3501_ConfigTimerCounterWatchdo
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_StartStopWriteTimerCounterWatchdog      |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Start / Stop The Selected Timer , Counter or Watchdog  |
@@ -512,7 +512,7 @@ INT i_APCI3501_ConfigTimerCounterWatchdo
 */
 
 int i_APCI3501_StartStopWriteTimerCounterWatchdog(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	ULONG ul_Command1 = 0;
 	int i_Temp;
@@ -592,7 +592,7 @@ int i_APCI3501_StartStopWriteTimerCounte
 /*
 +----------------------------------------------------------------------------+
 | Function   Name   : int i_APCI3501_ReadTimerCounterWatchdog                |
-|			  (struct comedi_device *dev,comedi_subdevice *s,               |
+|			  (struct comedi_device *dev,struct comedi_subdevice *s,               |
 |                      comedi_insn *insn,unsigned int *data)                     |
 +----------------------------------------------------------------------------+
 | Task              : Read The Selected Timer , Counter or Watchdog          |
@@ -614,7 +614,7 @@ int i_APCI3501_StartStopWriteTimerCounte
 */
 
 int i_APCI3501_ReadTimerCounterWatchdog(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 
 	if (devpriv->b_TimerSelectMode == ADDIDATA_WATCHDOG) {
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.h
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3501.h
@@ -55,37 +55,37 @@ comedi_lrange range_apci3501_ao = { 2, {
 // Hardware Layer  functions for Apci3501
 
 //AO
-INT i_APCI3501_ConfigAnalogOutput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI3501_ConfigAnalogOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
-INT i_APCI3501_WriteAnalogOutput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI3501_WriteAnalogOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
 
 //DI
 // for di read
-//INT i_APCI3501_ReadDigitalInput(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data);
+//INT i_APCI3501_ReadDigitalInput(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data);
 
-INT i_APCI3501_ReadDigitalInput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI3501_ReadDigitalInput(struct comedi_device *dev, struct comedi_subdevice *s,
 				comedi_insn *insn, unsigned int *data);
 
 //DO
-int i_APCI3501_ConfigDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+int i_APCI3501_ConfigDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
-INT i_APCI3501_WriteDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI3501_WriteDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
-INT i_APCI3501_ReadDigitalOutput(struct comedi_device *dev, comedi_subdevice *s,
+INT i_APCI3501_ReadDigitalOutput(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
 
 // TIMER
 // timer value is passed as u seconds
 INT i_APCI3501_ConfigTimerCounterWatchdog(struct comedi_device *dev,
-					  comedi_subdevice *s,
+					  struct comedi_subdevice *s,
 					  comedi_insn *insn, unsigned int *data);
 int i_APCI3501_StartStopWriteTimerCounterWatchdog(struct comedi_device *dev,
-						  comedi_subdevice *s,
+						  struct comedi_subdevice *s,
 						  comedi_insn *insn,
 						  unsigned int *data);
 int i_APCI3501_ReadTimerCounterWatchdog(struct comedi_device *dev,
-					comedi_subdevice *s,
+					struct comedi_subdevice *s,
 					comedi_insn *insn, unsigned int *data);
 //Interrupt
 void v_APCI3501_Interrupt(int irq, void *d);
--- a/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3xxx.c
+++ b/drivers/staging/comedi/drivers/addi-data/hwdrv_apci3xxx.c
@@ -81,7 +81,7 @@ int i_APCI3XXX_TestConversionStarted(str
 +----------------------------------------------------------------------------+
 | Function Name     : INT   i_APCI3XXX_AnalogInputConfigOperatingMode        |
 |                          (struct comedi_device    *dev,                           |
-|                           comedi_subdevice *s,                             |
+|                           struct comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
@@ -106,7 +106,7 @@ int i_APCI3XXX_TestConversionStarted(str
 */
 
 int i_APCI3XXX_AnalogInputConfigOperatingMode(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn->n;
 	BYTE b_TimeBase = 0;
@@ -275,7 +275,7 @@ int i_APCI3XXX_AnalogInputConfigOperatin
 +----------------------------------------------------------------------------+
 | Function Name     : INT   i_APCI3XXX_InsnConfigAnalogInput                 |
 |                          (struct comedi_device    *dev,                           |
-|                           comedi_subdevice *s,                             |
+|                           struct comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
@@ -296,7 +296,7 @@ int i_APCI3XXX_AnalogInputConfigOperatin
 */
 
 int i_APCI3XXX_InsnConfigAnalogInput(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn->n;
 
@@ -333,7 +333,7 @@ int i_APCI3XXX_InsnConfigAnalogInput(str
 +----------------------------------------------------------------------------+
 | Function Name     : INT   i_APCI3XXX_InsnReadAnalogInput                   |
 |                          (struct comedi_device    *dev,                           |
-|                           comedi_subdevice *s,                             |
+|                           struct comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
@@ -356,7 +356,7 @@ int i_APCI3XXX_InsnConfigAnalogInput(str
 */
 
 int i_APCI3XXX_InsnReadAnalogInput(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn->n;
 	BYTE b_Configuration = (BYTE) CR_RANGE(insn->chanspec);
@@ -664,7 +664,7 @@ void v_APCI3XXX_Interrupt(int irq, void 
 +----------------------------------------------------------------------------+
 | Function Name     : INT   i_APCI3XXX_InsnWriteAnalogOutput                 |
 |                          (struct comedi_device    *dev,                           |
-|                           comedi_subdevice *s,                             |
+|                           struct comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
@@ -685,7 +685,7 @@ void v_APCI3XXX_Interrupt(int irq, void 
 */
 
 int i_APCI3XXX_InsnWriteAnalogOutput(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_Range = (BYTE) CR_RANGE(insn->chanspec);
 	BYTE b_Channel = (BYTE) CR_CHAN(insn->chanspec);
@@ -770,7 +770,7 @@ int i_APCI3XXX_InsnWriteAnalogOutput(str
 +----------------------------------------------------------------------------+
 | Function Name     : INT   i_APCI3XXX_InsnConfigInitTTLIO                   |
 |                          (struct comedi_device    *dev,                           |
-|                           comedi_subdevice *s,                             |
+|                           struct comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
@@ -792,7 +792,7 @@ int i_APCI3XXX_InsnWriteAnalogOutput(str
 */
 
 int i_APCI3XXX_InsnConfigInitTTLIO(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn->n;
 	BYTE b_Command = 0;
@@ -901,7 +901,7 @@ int i_APCI3XXX_InsnConfigInitTTLIO(struc
 +----------------------------------------------------------------------------+
 | Function Name     : INT     i_APCI3XXX_InsnBitsTTLIO                       |
 |                          (struct comedi_device    *dev,                           |
-|                           comedi_subdevice *s,                             |
+|                           struct comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
@@ -920,7 +920,7 @@ int i_APCI3XXX_InsnConfigInitTTLIO(struc
 */
 
 int i_APCI3XXX_InsnBitsTTLIO(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn->n;
 	BYTE b_ChannelCpt = 0;
@@ -1058,7 +1058,7 @@ int i_APCI3XXX_InsnBitsTTLIO(struct come
 +----------------------------------------------------------------------------+
 | Function Name     : INT i_APCI3XXX_InsnReadTTLIO                           |
 |                          (struct comedi_device    *dev,                           |
-|                           comedi_subdevice *s,                             |
+|                           struct comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
@@ -1075,7 +1075,7 @@ int i_APCI3XXX_InsnBitsTTLIO(struct come
 */
 
 int i_APCI3XXX_InsnReadTTLIO(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	BYTE b_Channel = (BYTE) CR_CHAN(insn->chanspec);
 	INT i_ReturnValue = insn->n;
@@ -1170,7 +1170,7 @@ int i_APCI3XXX_InsnReadTTLIO(struct come
 +----------------------------------------------------------------------------+
 | Function Name     : INT     i_APCI3XXX_InsnWriteTTLIO                      |
 |                          (struct comedi_device    *dev,                           |
-|                           comedi_subdevice *s,                             |
+|                           struct comedi_subdevice *s,                             |
 |                           comedi_insn      *insn,                          |
 |                           unsigned int         *data)                          |
 +----------------------------------------------------------------------------+
@@ -1188,7 +1188,7 @@ int i_APCI3XXX_InsnReadTTLIO(struct come
 */
 
 int i_APCI3XXX_InsnWriteTTLIO(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn->n;
 	BYTE b_Channel = (BYTE) CR_CHAN(insn->chanspec);
@@ -1282,7 +1282,7 @@ int i_APCI3XXX_InsnWriteTTLIO(struct com
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3XXX_InsnReadDigitalInput                     |
 |                                          (struct comedi_device *dev,              |
-|                                           comedi_subdevice *s,             |
+|                                           struct comedi_subdevice *s,             |
 |                                           comedi_insn *insn,               |
 |                                           unsigned int *data)                  |
 +----------------------------------------------------------------------------+
@@ -1299,7 +1299,7 @@ int i_APCI3XXX_InsnWriteTTLIO(struct com
 */
 
 int i_APCI3XXX_InsnReadDigitalInput(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn->n;
 	BYTE b_Channel = (BYTE) CR_CHAN(insn->chanspec);
@@ -1341,7 +1341,7 @@ int i_APCI3XXX_InsnReadDigitalInput(stru
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3XXX_InsnBitsDigitalInput                     |
 |                                          (struct comedi_device *dev,              |
-|                                           comedi_subdevice *s,             |
+|                                           struct comedi_subdevice *s,             |
 |                                           comedi_insn *insn,               |
 |                                           unsigned int *data)                  |
 +----------------------------------------------------------------------------+
@@ -1357,7 +1357,7 @@ int i_APCI3XXX_InsnReadDigitalInput(stru
 +----------------------------------------------------------------------------+
 */
 int i_APCI3XXX_InsnBitsDigitalInput(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn->n;
 	DWORD dw_Temp = 0;
@@ -1392,7 +1392,7 @@ int i_APCI3XXX_InsnBitsDigitalInput(stru
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3XXX_InsnBitsDigitalOutput                    |
 |                                          (struct comedi_device *dev,              |
-|                                           comedi_subdevice *s,             |
+|                                           struct comedi_subdevice *s,             |
 |                                           comedi_insn *insn,               |
 |                                           unsigned int *data)                  |
 +----------------------------------------------------------------------------+
@@ -1410,7 +1410,7 @@ int i_APCI3XXX_InsnBitsDigitalInput(stru
 +----------------------------------------------------------------------------+
 */
 int i_APCI3XXX_InsnBitsDigitalOutput(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn->n;
 	BYTE b_ChannelCpt = 0;
@@ -1488,7 +1488,7 @@ int i_APCI3XXX_InsnBitsDigitalOutput(str
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3XXX_InsnWriteDigitalOutput                   |
 |                                          (struct comedi_device *dev,              |
-|                                           comedi_subdevice *s,             |
+|                                           struct comedi_subdevice *s,             |
 |                                           comedi_insn *insn,               |
 |                                           unsigned int *data)                  |
 +----------------------------------------------------------------------------+
@@ -1506,7 +1506,7 @@ int i_APCI3XXX_InsnBitsDigitalOutput(str
 */
 
 int i_APCI3XXX_InsnWriteDigitalOutput(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn->n;
 	BYTE b_Channel = CR_CHAN(insn->chanspec);
@@ -1564,7 +1564,7 @@ int i_APCI3XXX_InsnWriteDigitalOutput(st
 +----------------------------------------------------------------------------+
 | Function name     :int i_APCI3XXX_InsnReadDigitalOutput                    |
 |                                          (struct comedi_device *dev,              |
-|                                           comedi_subdevice *s,             |
+|                                           struct comedi_subdevice *s,             |
 |                                           comedi_insn *insn,               |
 |                                           unsigned int *data)                  |
 +----------------------------------------------------------------------------+
@@ -1581,7 +1581,7 @@ int i_APCI3XXX_InsnWriteDigitalOutput(st
 */
 
 int i_APCI3XXX_InsnReadDigitalOutput(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	INT i_ReturnValue = insn->n;
 	BYTE b_Channel = CR_CHAN(insn->chanspec);
--- a/drivers/staging/comedi/drivers/adl_pci6208.c
+++ b/drivers/staging/comedi/drivers/adl_pci6208.c
@@ -127,13 +127,13 @@ pci6208_pci_setup(struct pci_dev *pci_de
 	int dev_minor);
 
 /*read/write functions*/
-static int pci6208_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int pci6208_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pci6208_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int pci6208_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-//static int pci6208_dio_insn_bits(struct comedi_device *dev,comedi_subdevice *s,
+//static int pci6208_dio_insn_bits(struct comedi_device *dev,struct comedi_subdevice *s,
 //      comedi_insn *insn,unsigned int *data);
-//static int pci6208_dio_insn_config(struct comedi_device *dev,comedi_subdevice *s,
+//static int pci6208_dio_insn_config(struct comedi_device *dev,struct comedi_subdevice *s,
 //      comedi_insn *insn,unsigned int *data);
 
 /*
@@ -144,7 +144,7 @@ static int pci6208_ao_rinsn(struct comed
  */
 static int pci6208_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int retval;
 	unsigned long io_base;
 
@@ -219,7 +219,7 @@ static int pci6208_detach(struct comedi_
 	return 0;
 }
 
-static int pci6208_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int pci6208_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i = 0, Data_Read;
@@ -244,7 +244,7 @@ static int pci6208_ao_winsn(struct comed
 
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
-static int pci6208_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int pci6208_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -261,7 +261,7 @@ static int pci6208_ao_rinsn(struct comed
  * useful to applications if you implement the insn_bits interface.
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
-//static int pci6208_dio_insn_bits(struct comedi_device *dev,comedi_subdevice *s,
+//static int pci6208_dio_insn_bits(struct comedi_device *dev,struct comedi_subdevice *s,
 //      comedi_insn *insn,unsigned int *data)
 //{
 //      if(insn->n!=2)return -EINVAL;
@@ -285,7 +285,7 @@ static int pci6208_ao_rinsn(struct comed
 //      return 2;
 //}
 
-//static int pci6208_dio_insn_config(struct comedi_device *dev,comedi_subdevice *s,
+//static int pci6208_dio_insn_config(struct comedi_device *dev,struct comedi_subdevice *s,
 //      comedi_insn *insn,unsigned int *data)
 //{
 //      int chan=CR_CHAN(insn->chanspec);
--- a/drivers/staging/comedi/drivers/adl_pci7296.c
+++ b/drivers/staging/comedi/drivers/adl_pci7296.c
@@ -75,7 +75,7 @@ static comedi_driver driver_adl_pci7296 
 static int adl_pci7296_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	struct pci_dev *pcidev;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int bus, slot;
 	int ret;
 
--- a/drivers/staging/comedi/drivers/adl_pci7432.c
+++ b/drivers/staging/comedi/drivers/adl_pci7432.c
@@ -69,10 +69,10 @@ static comedi_driver driver_adl_pci7432 
 
 /* Digital IO */
 
-static int adl_pci7432_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci7432_di_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int adl_pci7432_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci7432_do_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 /*            */
@@ -80,7 +80,7 @@ static int adl_pci7432_do_insn_bits(stru
 static int adl_pci7432_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	struct pci_dev *pcidev;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int bus, slot;
 
 	printk("comedi: attempt to attach...\n");
@@ -164,7 +164,7 @@ static int adl_pci7432_detach(struct com
 	return 0;
 }
 
-static int adl_pci7432_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci7432_do_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	printk("comedi: pci7432_do_insn_bits called\n");
@@ -184,7 +184,7 @@ static int adl_pci7432_do_insn_bits(stru
 	return 2;
 }
 
-static int adl_pci7432_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci7432_di_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	printk("comedi: pci7432_di_insn_bits called\n");
--- a/drivers/staging/comedi/drivers/adl_pci8164.c
+++ b/drivers/staging/comedi/drivers/adl_pci8164.c
@@ -79,34 +79,34 @@ static comedi_driver driver_adl_pci8164 
       detach:adl_pci8164_detach,
 };
 
-static int adl_pci8164_insn_read_msts(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_read_msts(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int adl_pci8164_insn_read_ssts(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_read_ssts(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int adl_pci8164_insn_read_buf0(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_read_buf0(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int adl_pci8164_insn_read_buf1(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_read_buf1(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int adl_pci8164_insn_write_cmd(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_write_cmd(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int adl_pci8164_insn_write_otp(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_write_otp(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 static int adl_pci8164_insn_write_buf0(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
 static int adl_pci8164_insn_write_buf1(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
 static int adl_pci8164_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	struct pci_dev *pcidev;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int bus, slot;
 
 	printk("comedi: attempt to attach...\n");
@@ -208,7 +208,7 @@ static int adl_pci8164_detach(struct com
 	return 0;
 }
 
-static int adl_pci8164_insn_read_msts(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_read_msts(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int axis, axis_reg;
@@ -245,7 +245,7 @@ static int adl_pci8164_insn_read_msts(st
 	return 2;
 }
 
-static int adl_pci8164_insn_read_ssts(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_read_ssts(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int axis, axis_reg;
@@ -282,7 +282,7 @@ static int adl_pci8164_insn_read_ssts(st
 	return 2;
 }
 
-static int adl_pci8164_insn_read_buf0(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_read_buf0(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int axis, axis_reg;
@@ -319,7 +319,7 @@ static int adl_pci8164_insn_read_buf0(st
 	return 2;
 }
 
-static int adl_pci8164_insn_read_buf1(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_read_buf1(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int axis, axis_reg;
@@ -357,7 +357,7 @@ static int adl_pci8164_insn_read_buf1(st
 	return 2;
 }
 
-static int adl_pci8164_insn_write_cmd(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_write_cmd(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int axis, axis_reg;
@@ -395,7 +395,7 @@ static int adl_pci8164_insn_write_cmd(st
 	return 2;
 }
 
-static int adl_pci8164_insn_write_otp(struct comedi_device * dev, comedi_subdevice * s,
+static int adl_pci8164_insn_write_otp(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int axis, axis_reg;
@@ -434,7 +434,7 @@ static int adl_pci8164_insn_write_otp(st
 }
 
 static int adl_pci8164_insn_write_buf0(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int axis, axis_reg;
 
@@ -472,7 +472,7 @@ static int adl_pci8164_insn_write_buf0(s
 }
 
 static int adl_pci8164_insn_write_buf1(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int axis, axis_reg;
 
--- a/drivers/staging/comedi/drivers/adl_pci9111.c
+++ b/drivers/staging/comedi/drivers/adl_pci9111.c
@@ -267,7 +267,7 @@ TODO:
 
 static int pci9111_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int pci9111_detach(struct comedi_device * dev);
-static void pci9111_ai_munge(struct comedi_device * dev, comedi_subdevice * s,
+static void pci9111_ai_munge(struct comedi_device * dev, struct comedi_subdevice * s,
 	void *data, unsigned int num_bytes, unsigned int start_chan_index);
 
 static const comedi_lrange pci9111_hr_ai_range = {
@@ -527,7 +527,7 @@ static void pci9111_interrupt_source_set
 
 #undef AI_DO_CMD_DEBUG
 
-static int pci9111_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int pci9111_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	// Disable interrupts
 
@@ -558,7 +558,7 @@ static int pci9111_ai_cancel(struct come
 
 static int
 pci9111_ai_do_cmd_test(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_cmd * cmd)
+	struct comedi_subdevice * s, comedi_cmd * cmd)
 {
 	int tmp;
 	int error = 0;
@@ -758,7 +758,7 @@ pci9111_ai_do_cmd_test(struct comedi_dev
 // Analog input command
 //
 
-static int pci9111_ai_do_cmd(struct comedi_device * dev, comedi_subdevice * subdevice)
+static int pci9111_ai_do_cmd(struct comedi_device * dev, struct comedi_subdevice * subdevice)
 {
 	comedi_cmd *async_cmd = &subdevice->async->cmd;
 
@@ -881,7 +881,7 @@ static int pci9111_ai_do_cmd(struct come
 	return 0;
 }
 
-static void pci9111_ai_munge(struct comedi_device * dev, comedi_subdevice * s,
+static void pci9111_ai_munge(struct comedi_device * dev, struct comedi_subdevice * s,
 	void *data, unsigned int num_bytes, unsigned int start_chan_index)
 {
 	unsigned int i, num_samples = num_bytes / sizeof(short);
@@ -912,7 +912,7 @@ static void pci9111_ai_munge(struct come
 static irqreturn_t pci9111_interrupt(int irq, void *p_device PT_REGS_ARG)
 {
 	struct comedi_device *dev = p_device;
-	comedi_subdevice *subdevice = dev->read_subdev;
+	struct comedi_subdevice *subdevice = dev->read_subdev;
 	comedi_async *async;
 	unsigned long irq_flags;
 	unsigned char intcsr;
@@ -1072,7 +1072,7 @@ static irqreturn_t pci9111_interrupt(int
 #undef AI_INSN_DEBUG
 
 static int pci9111_ai_insn_read(struct comedi_device * dev,
-	comedi_subdevice * subdevice, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * subdevice, comedi_insn * insn, unsigned int * data)
 {
 	int resolution =
 		((pci9111_board_struct *) dev->board_ptr)->ai_resolution;
@@ -1132,7 +1132,7 @@ static int pci9111_ai_insn_read(struct c
 
 static int
 pci9111_ao_insn_write(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int i;
 
@@ -1149,7 +1149,7 @@ pci9111_ao_insn_write(struct comedi_devi
 //
 
 static int pci9111_ao_insn_read(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int i;
 
@@ -1171,7 +1171,7 @@ static int pci9111_ao_insn_read(struct c
 //
 
 static int pci9111_di_insn_bits(struct comedi_device * dev,
-	comedi_subdevice * subdevice, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * subdevice, comedi_insn * insn, unsigned int * data)
 {
 	unsigned int bits;
 
@@ -1186,7 +1186,7 @@ static int pci9111_di_insn_bits(struct c
 //
 
 static int pci9111_do_insn_bits(struct comedi_device * dev,
-	comedi_subdevice * subdevice, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * subdevice, comedi_insn * insn, unsigned int * data)
 {
 	unsigned int bits;
 
@@ -1248,7 +1248,7 @@ static int pci9111_reset(struct comedi_d
 
 static int pci9111_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *subdevice;
+	struct comedi_subdevice *subdevice;
 	unsigned long io_base, io_range, lcr_io_base, lcr_io_range;
 	struct pci_dev *pci_device;
 	int error, i;
--- a/drivers/staging/comedi/drivers/adl_pci9118.c
+++ b/drivers/staging/comedi/drivers/adl_pci9118.c
@@ -288,7 +288,7 @@ typedef struct {
 	unsigned char cnt0_users;	// bit field of 8254 CNT0 users (0-unused, 1-AO, 2-DI, 3-DO)
 	unsigned char exttrg_users;	// bit field of external trigger users (0-AI, 1-AO, 2-DI, 3-DO)
 	unsigned int cnt0_divisor;	// actual CNT0 divisor
-	void (*int_ai_func) (struct comedi_device *, comedi_subdevice *, unsigned short, unsigned int, unsigned short);	// ptr to actual interrupt AI function
+	void (*int_ai_func) (struct comedi_device *, struct comedi_subdevice *, unsigned short, unsigned int, unsigned short);	// ptr to actual interrupt AI function
 	unsigned char ai16bits;	// =1 16 bit card
 	unsigned char usedma;	// =1 use DMA transfer and not INT
 	unsigned char useeoshandle;	// =1 change WAKE_EOS DMA transfer to fit on every second
@@ -308,9 +308,9 @@ typedef struct {
 ==============================================================================
 */
 
-static int check_channel_list(struct comedi_device * dev, comedi_subdevice * s,
+static int check_channel_list(struct comedi_device * dev, struct comedi_subdevice * s,
 	int n_chan, unsigned int *chanlist, int frontadd, int backadd);
-static int setup_channel_list(struct comedi_device * dev, comedi_subdevice * s,
+static int setup_channel_list(struct comedi_device * dev, struct comedi_subdevice * s,
 	int n_chan, unsigned int *chanlist, int rot, int frontadd, int backadd,
 	int usedma, char eoshandle);
 static void start_pacer(struct comedi_device * dev, int mode, unsigned int divisor1,
@@ -318,16 +318,16 @@ static void start_pacer(struct comedi_de
 static int pci9118_reset(struct comedi_device * dev);
 static int pci9118_exttrg_add(struct comedi_device * dev, unsigned char source);
 static int pci9118_exttrg_del(struct comedi_device * dev, unsigned char source);
-static int pci9118_ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int pci9118_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 static void pci9118_calc_divisors(char mode, struct comedi_device * dev,
-	comedi_subdevice * s, unsigned int *tim1, unsigned int *tim2,
+	struct comedi_subdevice * s, unsigned int *tim1, unsigned int *tim2,
 	unsigned int flags, int chans, unsigned int *div1, unsigned int *div2,
 	char usessh, unsigned int chnsshfront);
 
 /*
 ==============================================================================
 */
-static int pci9118_insn_read_ai(struct comedi_device * dev, comedi_subdevice * s,
+static int pci9118_insn_read_ai(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -377,7 +377,7 @@ static int pci9118_insn_read_ai(struct c
 /*
 ==============================================================================
 */
-static int pci9118_insn_write_ao(struct comedi_device * dev, comedi_subdevice * s,
+static int pci9118_insn_write_ao(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, chanreg, ch;
@@ -400,7 +400,7 @@ static int pci9118_insn_write_ao(struct 
 /*
 ==============================================================================
 */
-static int pci9118_insn_read_ao(struct comedi_device * dev, comedi_subdevice * s,
+static int pci9118_insn_read_ao(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, chan;
@@ -415,7 +415,7 @@ static int pci9118_insn_read_ao(struct c
 /*
 ==============================================================================
 */
-static int pci9118_insn_bits_di(struct comedi_device * dev, comedi_subdevice * s,
+static int pci9118_insn_bits_di(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[1] = inl(dev->iobase + PCI9118_DI) & 0xf;
@@ -426,7 +426,7 @@ static int pci9118_insn_bits_di(struct c
 /*
 ==============================================================================
 */
-static int pci9118_insn_bits_do(struct comedi_device * dev, comedi_subdevice * s,
+static int pci9118_insn_bits_do(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0]) {
@@ -457,7 +457,7 @@ static void interrupt_pci9118_ai_mode4_s
 }
 
 static unsigned int defragment_dma_buffer(struct comedi_device * dev,
-	comedi_subdevice * s, short * dma_buffer, unsigned int num_samples)
+	struct comedi_subdevice * s, short * dma_buffer, unsigned int num_samples)
 {
 	unsigned int i = 0, j = 0;
 	unsigned int start_pos = devpriv->ai_add_front,
@@ -481,7 +481,7 @@ static unsigned int defragment_dma_buffe
 ==============================================================================
 */
 static unsigned int move_block_from_dma(struct comedi_device * dev,
-	comedi_subdevice * s, short * dma_buffer, unsigned int num_samples)
+	struct comedi_subdevice * s, short * dma_buffer, unsigned int num_samples)
 {
 	unsigned int num_bytes;
 
@@ -502,7 +502,7 @@ static unsigned int move_block_from_dma(
 ==============================================================================
 */
 static char pci9118_decode_error_status(struct comedi_device * dev,
-	comedi_subdevice * s, unsigned char m)
+	struct comedi_subdevice * s, unsigned char m)
 {
 	if (m & 0x100) {
 		comedi_error(dev, "A/D FIFO Full status (Fatal Error!)");
@@ -531,7 +531,7 @@ static char pci9118_decode_error_status(
 	return 0;
 }
 
-static void pci9118_ai_munge(struct comedi_device * dev, comedi_subdevice * s,
+static void pci9118_ai_munge(struct comedi_device * dev, struct comedi_subdevice * s,
 	void *data, unsigned int num_bytes, unsigned int start_chan_index)
 {
 	unsigned int i, num_samples = num_bytes / sizeof(short);
@@ -552,7 +552,7 @@ static void pci9118_ai_munge(struct come
 ==============================================================================
 */
 static void interrupt_pci9118_ai_onesample(struct comedi_device * dev,
-	comedi_subdevice * s, unsigned short int_adstat, unsigned int int_amcc,
+	struct comedi_subdevice * s, unsigned short int_adstat, unsigned int int_amcc,
 	unsigned short int_daq)
 {
 	register short sampl;
@@ -598,7 +598,7 @@ static void interrupt_pci9118_ai_onesamp
 /*
 ==============================================================================
 */
-static void interrupt_pci9118_ai_dma(struct comedi_device * dev, comedi_subdevice * s,
+static void interrupt_pci9118_ai_dma(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned short int_adstat, unsigned int int_amcc,
 	unsigned short int_daq)
 {
@@ -727,7 +727,7 @@ static irqreturn_t interrupt_pci9118(int
 /*
 ==============================================================================
 */
-static int pci9118_ai_inttrig(struct comedi_device * dev, comedi_subdevice * s,
+static int pci9118_ai_inttrig(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trignum)
 {
 	if (trignum != devpriv->ai_inttrig_start)
@@ -751,7 +751,7 @@ static int pci9118_ai_inttrig(struct com
 /*
 ==============================================================================
 */
-static int pci9118_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int pci9118_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -1163,7 +1163,7 @@ static int Compute_and_setup_dma(struct 
 /*
 ==============================================================================
 */
-static int pci9118_ai_docmd_sampl(struct comedi_device * dev, comedi_subdevice * s)
+static int pci9118_ai_docmd_sampl(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	DPRINTK("adl_pci9118 EDBG: BGN: pci9118_ai_docmd_sampl(%d,) [%d]\n",
 		dev->minor, devpriv->ai_do);
@@ -1216,7 +1216,7 @@ static int pci9118_ai_docmd_sampl(struct
 /*
 ==============================================================================
 */
-static int pci9118_ai_docmd_dma(struct comedi_device * dev, comedi_subdevice * s)
+static int pci9118_ai_docmd_dma(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	DPRINTK("adl_pci9118 EDBG: BGN: pci9118_ai_docmd_dma(%d,) [%d,%d]\n",
 		dev->minor, devpriv->ai_do, devpriv->usedma);
@@ -1287,7 +1287,7 @@ static int pci9118_ai_docmd_dma(struct c
 /*
 ==============================================================================
 */
-static int pci9118_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int pci9118_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &s->async->cmd;
 	unsigned int addchans = 0;
@@ -1486,7 +1486,7 @@ static int pci9118_ai_cmd(struct comedi_
 /*
 ==============================================================================
 */
-static int check_channel_list(struct comedi_device * dev, comedi_subdevice * s,
+static int check_channel_list(struct comedi_device * dev, struct comedi_subdevice * s,
 	int n_chan, unsigned int *chanlist, int frontadd, int backadd)
 {
 	unsigned int i, differencial = 0, bipolar = 0;
@@ -1537,7 +1537,7 @@ static int check_channel_list(struct com
 /*
 ==============================================================================
 */
-static int setup_channel_list(struct comedi_device * dev, comedi_subdevice * s,
+static int setup_channel_list(struct comedi_device * dev, struct comedi_subdevice * s,
 	int n_chan, unsigned int *chanlist, int rot, int frontadd, int backadd,
 	int usedma, char useeos)
 {
@@ -1652,7 +1652,7 @@ static int setup_channel_list(struct com
   calculate 8254 divisors if they are used for dual timing
 */
 static void pci9118_calc_divisors(char mode, struct comedi_device * dev,
-	comedi_subdevice * s, unsigned int *tim1, unsigned int *tim2,
+	struct comedi_subdevice * s, unsigned int *tim1, unsigned int *tim2,
 	unsigned int flags, int chans, unsigned int *div1, unsigned int *div2,
 	char usessh, unsigned int chnsshfront)
 {
@@ -1760,7 +1760,7 @@ static int pci9118_exttrg_del(struct com
 /*
 ==============================================================================
 */
-static int pci9118_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int pci9118_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	if (devpriv->usedma)
 		outl(inl(devpriv->iobase_a + AMCC_OP_REG_MCSR) & (~EN_A2P_TRANSFERS), devpriv->iobase_a + AMCC_OP_REG_MCSR);	// stop DMA
@@ -1837,7 +1837,7 @@ static int pci9118_reset(struct comedi_d
 */
 static int pci9118_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret, pages, i;
 	unsigned short master;
 	unsigned int irq;
--- a/drivers/staging/comedi/drivers/adq12b.c
+++ b/drivers/staging/comedi/drivers/adq12b.c
@@ -174,9 +174,9 @@ static comedi_driver driver_adq12b={
         num_names:      sizeof(adq12b_boards) / sizeof(adq12b_board),
 };
 
-static int adq12b_ai_rinsn(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data);
-static int adq12b_di_insn_bits(struct comedi_device *dev,comedi_subdevice *s, comedi_insn *insn,unsigned int *data);
-static int adq12b_do_insn_bits(struct comedi_device *dev,comedi_subdevice *s, comedi_insn *insn,unsigned int *data);
+static int adq12b_ai_rinsn(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data);
+static int adq12b_di_insn_bits(struct comedi_device *dev,struct comedi_subdevice *s, comedi_insn *insn,unsigned int *data);
+static int adq12b_do_insn_bits(struct comedi_device *dev,struct comedi_subdevice *s, comedi_insn *insn,unsigned int *data);
 
 /*
  * Attach is called by the Comedi core to configure the driver
@@ -186,7 +186,7 @@ static int adq12b_do_insn_bits(struct co
  */
 static int adq12b_attach(struct comedi_device *dev,comedi_devconfig *it)
 {
-        comedi_subdevice *s;
+        struct comedi_subdevice *s;
         unsigned long iobase;
         int unipolar, differential;
 
@@ -314,7 +314,7 @@ static int adq12b_detach(struct comedi_d
  * mode.
  */
 
-static int adq12b_ai_rinsn(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data)
+static int adq12b_ai_rinsn(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data)
 {
         int n, i;
         int range, channel;
@@ -357,7 +357,7 @@ static int adq12b_ai_rinsn(struct comedi
 }
 
 
-static int adq12b_di_insn_bits(struct comedi_device *dev,comedi_subdevice *s, 	comedi_insn *insn,unsigned int *data)
+static int adq12b_di_insn_bits(struct comedi_device *dev,struct comedi_subdevice *s, 	comedi_insn *insn,unsigned int *data)
 {
 
         /* only bits 0-4 have information about digital inputs */
@@ -367,7 +367,7 @@ static int adq12b_di_insn_bits(struct co
 }
 
 
-static int adq12b_do_insn_bits(struct comedi_device *dev,comedi_subdevice *s, 	comedi_insn *insn,unsigned int *data)
+static int adq12b_do_insn_bits(struct comedi_device *dev,struct comedi_subdevice *s, 	comedi_insn *insn,unsigned int *data)
 {
         int channel;
 
--- a/drivers/staging/comedi/drivers/adv_pci1710.c
+++ b/drivers/staging/comedi/drivers/adv_pci1710.c
@@ -304,14 +304,14 @@ typedef struct {
 ==============================================================================
 */
 
-static int check_channel_list(struct comedi_device * dev, comedi_subdevice * s,
+static int check_channel_list(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int *chanlist, unsigned int n_chan);
-static void setup_channel_list(struct comedi_device * dev, comedi_subdevice * s,
+static void setup_channel_list(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int *chanlist, unsigned int n_chan, unsigned int seglen);
 static void start_pacer(struct comedi_device * dev, int mode, unsigned int divisor1,
 	unsigned int divisor2);
 static int pci1710_reset(struct comedi_device * dev);
-static int pci171x_ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int pci171x_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 
 static const unsigned int muxonechan[] = { 0x0000, 0x0101, 0x0202, 0x0303, 0x0404, 0x0505, 0x0606, 0x0707,	// used for gain list programming
 	0x0808, 0x0909, 0x0a0a, 0x0b0b, 0x0c0c, 0x0d0d, 0x0e0e, 0x0f0f,
@@ -322,7 +322,7 @@ static const unsigned int muxonechan[] =
 /*
 ==============================================================================
 */
-static int pci171x_insn_read_ai(struct comedi_device * dev, comedi_subdevice * s,
+static int pci171x_insn_read_ai(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, timeout;
@@ -390,7 +390,7 @@ static int pci171x_insn_read_ai(struct c
 /*
 ==============================================================================
 */
-static int pci171x_insn_write_ao(struct comedi_device * dev, comedi_subdevice * s,
+static int pci171x_insn_write_ao(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, chan, range, ofs;
@@ -421,7 +421,7 @@ static int pci171x_insn_write_ao(struct 
 /*
 ==============================================================================
 */
-static int pci171x_insn_read_ao(struct comedi_device * dev, comedi_subdevice * s,
+static int pci171x_insn_read_ao(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, chan;
@@ -436,7 +436,7 @@ static int pci171x_insn_read_ao(struct c
 /*
 ==============================================================================
 */
-static int pci171x_insn_bits_di(struct comedi_device * dev, comedi_subdevice * s,
+static int pci171x_insn_bits_di(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[1] = inw(dev->iobase + PCI171x_DI);
@@ -447,7 +447,7 @@ static int pci171x_insn_bits_di(struct c
 /*
 ==============================================================================
 */
-static int pci171x_insn_bits_do(struct comedi_device * dev, comedi_subdevice * s,
+static int pci171x_insn_bits_do(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0]) {
@@ -463,7 +463,7 @@ static int pci171x_insn_bits_do(struct c
 /*
 ==============================================================================
 */
-static int pci171x_insn_counter_read(struct comedi_device * dev, comedi_subdevice * s,
+static int pci171x_insn_counter_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int msb, lsb, ccntrl;
@@ -485,7 +485,7 @@ static int pci171x_insn_counter_read(str
 /*
 ==============================================================================
 */
-static int pci171x_insn_counter_write(struct comedi_device * dev, comedi_subdevice * s,
+static int pci171x_insn_counter_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	uint msb, lsb, ccntrl, status;
@@ -513,7 +513,7 @@ static int pci171x_insn_counter_write(st
 ==============================================================================
 */
 static int pci171x_insn_counter_config(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 #ifdef unused
 	/* This doesn't work like a normal Comedi counter config */
@@ -548,7 +548,7 @@ static int pci171x_insn_counter_config(s
 /*
 ==============================================================================
 */
-static int pci1720_insn_write_ao(struct comedi_device * dev, comedi_subdevice * s,
+static int pci1720_insn_write_ao(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, rangereg, chan;
@@ -577,7 +577,7 @@ static int pci1720_insn_write_ao(struct 
 static void interrupt_pci1710_every_sample(void *d)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev->subdevices + 0;
+	struct comedi_subdevice *s = dev->subdevices + 0;
 	int m;
 #ifdef PCI171x_PARANOIDCHECK
 	short sampl;
@@ -659,7 +659,7 @@ static void interrupt_pci1710_every_samp
 /*
 ==============================================================================
 */
-static int move_block_from_fifo(struct comedi_device * dev, comedi_subdevice * s,
+static int move_block_from_fifo(struct comedi_device * dev, struct comedi_subdevice * s,
 	int n, int turn)
 {
 	int i, j;
@@ -708,7 +708,7 @@ static int move_block_from_fifo(struct c
 static void interrupt_pci1710_half_fifo(void *d)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev->subdevices + 0;
+	struct comedi_subdevice *s = dev->subdevices + 0;
 	int m, samplesinbuf;
 
 	DPRINTK("adv_pci1710 EDBG: BGN: interrupt_pci1710_half_fifo(...)\n");
@@ -802,7 +802,7 @@ static irqreturn_t interrupt_service_pci
 ==============================================================================
 */
 static int pci171x_ai_docmd_and_mode(int mode, struct comedi_device * dev,
-	comedi_subdevice * s)
+	struct comedi_subdevice * s)
 {
 	unsigned int divisor1, divisor2;
 	unsigned int seglen;
@@ -900,7 +900,7 @@ static void pci171x_cmdtest_out(int e, c
 /*
 ==============================================================================
 */
-static int pci171x_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int pci171x_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -1065,7 +1065,7 @@ static int pci171x_ai_cmdtest(struct com
 /*
 ==============================================================================
 */
-static int pci171x_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int pci171x_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &s->async->cmd;
 
@@ -1104,7 +1104,7 @@ static int pci171x_ai_cmd(struct comedi_
  If it's ok, then program scan/gain logic.
  This works for all cards.
 */
-static int check_channel_list(struct comedi_device * dev, comedi_subdevice * s,
+static int check_channel_list(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int *chanlist, unsigned int n_chan)
 {
 	unsigned int chansegment[32];
@@ -1163,7 +1163,7 @@ static int check_channel_list(struct com
 	return seglen;
 }
 
-static void setup_channel_list(struct comedi_device * dev, comedi_subdevice * s,
+static void setup_channel_list(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int *chanlist, unsigned int n_chan, unsigned int seglen)
 {
 	unsigned int i, range, chanprog;
@@ -1220,7 +1220,7 @@ static void start_pacer(struct comedi_de
 /*
 ==============================================================================
 */
-static int pci171x_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int pci171x_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	DPRINTK("adv_pci1710 EDBG: BGN: pci171x_ai_cancel(...)\n");
 
@@ -1318,7 +1318,7 @@ static int pci1710_reset(struct comedi_d
 */
 static int pci1710_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret, subdev, n_subdevices;
 	unsigned int irq;
 	unsigned long iobase;
--- a/drivers/staging/comedi/drivers/adv_pci1723.c
+++ b/drivers/staging/comedi/drivers/adv_pci1723.c
@@ -202,7 +202,7 @@ static int pci1723_reset(struct comedi_d
 	return 0;
 }
 
-static int pci1723_insn_read_ao(struct comedi_device * dev, comedi_subdevice * s,
+static int pci1723_insn_read_ao(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, chan;
@@ -218,7 +218,7 @@ static int pci1723_insn_read_ao(struct c
 /*
   analog data output;
 */
-static int pci1723_ao_write_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int pci1723_ao_write_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, chan;
@@ -238,7 +238,7 @@ static int pci1723_ao_write_winsn(struct
 /*
   digital i/o config/query
 */
-static int pci1723_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int pci1723_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int mask;
@@ -278,7 +278,7 @@ static int pci1723_dio_insn_config(struc
 /*
   digital i/o bits read/write
 */
-static int pci1723_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pci1723_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0]) {
@@ -296,7 +296,7 @@ static int pci1723_dio_insn_bits(struct 
  */
 static int pci1723_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret, subdev, n_subdevices;
 	struct pci_dev *pcidev;
 	unsigned int iobase;
--- a/drivers/staging/comedi/drivers/adv_pci_dio.c
+++ b/drivers/staging/comedi/drivers/adv_pci_dio.c
@@ -357,7 +357,7 @@ static pci_dio_private *pci_priv = NULL;
 /*
 ==============================================================================
 */
-static int pci_dio_insn_bits_di_b(struct comedi_device * dev, comedi_subdevice * s,
+static int pci_dio_insn_bits_di_b(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	const diosubd_data *d = (const diosubd_data *)s->private;
@@ -374,7 +374,7 @@ static int pci_dio_insn_bits_di_b(struct
 /*
 ==============================================================================
 */
-static int pci_dio_insn_bits_di_w(struct comedi_device * dev, comedi_subdevice * s,
+static int pci_dio_insn_bits_di_w(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	const diosubd_data *d = (const diosubd_data *)s->private;
@@ -390,7 +390,7 @@ static int pci_dio_insn_bits_di_w(struct
 /*
 ==============================================================================
 */
-static int pci_dio_insn_bits_do_b(struct comedi_device * dev, comedi_subdevice * s,
+static int pci_dio_insn_bits_do_b(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	const diosubd_data *d = (const diosubd_data *)s->private;
@@ -411,7 +411,7 @@ static int pci_dio_insn_bits_do_b(struct
 /*
 ==============================================================================
 */
-static int pci_dio_insn_bits_do_w(struct comedi_device * dev, comedi_subdevice * s,
+static int pci_dio_insn_bits_do_w(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	const diosubd_data *d = (const diosubd_data *)s->private;
@@ -490,7 +490,7 @@ static int pci1760_mbxrequest(struct com
 /*
 ==============================================================================
 */
-static int pci1760_insn_bits_di(struct comedi_device * dev, comedi_subdevice * s,
+static int pci1760_insn_bits_di(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[1] = inb(dev->iobase + IMB3);
@@ -501,7 +501,7 @@ static int pci1760_insn_bits_di(struct c
 /*
 ==============================================================================
 */
-static int pci1760_insn_bits_do(struct comedi_device * dev, comedi_subdevice * s,
+static int pci1760_insn_bits_do(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int ret;
@@ -528,7 +528,7 @@ static int pci1760_insn_bits_do(struct c
 /*
 ==============================================================================
 */
-static int pci1760_insn_cnt_read(struct comedi_device * dev, comedi_subdevice * s,
+static int pci1760_insn_cnt_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int ret, n;
@@ -552,7 +552,7 @@ static int pci1760_insn_cnt_read(struct 
 /*
 ==============================================================================
 */
-static int pci1760_insn_cnt_write(struct comedi_device * dev, comedi_subdevice * s,
+static int pci1760_insn_cnt_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int ret;
@@ -752,7 +752,7 @@ static int pci_dio_reset(struct comedi_d
 */
 static int pci1760_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int subdev = 0;
 
 	s = dev->subdevices + subdev;
@@ -802,7 +802,7 @@ static int pci1760_attach(struct comedi_
 /*
 ==============================================================================
 */
-static int pci_dio_add_di(struct comedi_device * dev, comedi_subdevice * s,
+static int pci_dio_add_di(struct comedi_device * dev, struct comedi_subdevice * s,
 	const diosubd_data * d, int subdev)
 {
 	s->type = COMEDI_SUBD_DI;
@@ -829,7 +829,7 @@ static int pci_dio_add_di(struct comedi_
 /*
 ==============================================================================
 */
-static int pci_dio_add_do(struct comedi_device * dev, comedi_subdevice * s,
+static int pci_dio_add_do(struct comedi_device * dev, struct comedi_subdevice * s,
 	const diosubd_data * d, int subdev)
 {
 	s->type = COMEDI_SUBD_DO;
@@ -885,7 +885,7 @@ static int CheckAndAllocCard(struct come
 */
 static int pci_dio_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret, subdev, n_subdevices, i, j;
 	unsigned long iobase;
 	struct pci_dev *pcidev;
@@ -1014,7 +1014,7 @@ static int pci_dio_attach(struct comedi_
 static int pci_dio_detach(struct comedi_device * dev)
 {
 	int i, j;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int subdev;
 
 	if (dev->private) {
--- a/drivers/staging/comedi/drivers/aio_aio12_8.c
+++ b/drivers/staging/comedi/drivers/aio_aio12_8.c
@@ -88,7 +88,7 @@ typedef struct {
 
 #define devpriv	((aio12_8_private *) dev->private)
 
-static int aio_aio12_8_ai_read(struct comedi_device * dev, comedi_subdevice * s,
+static int aio_aio12_8_ai_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -122,7 +122,7 @@ static int aio_aio12_8_ai_read(struct co
 	return n;
 }
 
-static int aio_aio12_8_ao_read(struct comedi_device * dev, comedi_subdevice * s,
+static int aio_aio12_8_ao_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -133,7 +133,7 @@ static int aio_aio12_8_ao_read(struct co
 	return insn->n;
 }
 
-static int aio_aio12_8_ao_write(struct comedi_device * dev, comedi_subdevice * s,
+static int aio_aio12_8_ao_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -164,7 +164,7 @@ static const comedi_lrange range_aio_aio
 static int aio_aio12_8_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int iobase;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	iobase = it->options[0];
 	if (!request_region(iobase, 24, "aio_aio12_8")) {
--- a/drivers/staging/comedi/drivers/aio_iiro_16.c
+++ b/drivers/staging/comedi/drivers/aio_iiro_16.c
@@ -82,15 +82,15 @@ static comedi_driver driver_aio_iiro_16 
 };
 
 static int aio_iiro_16_dio_insn_bits_read(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
 static int aio_iiro_16_dio_insn_bits_write(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
 static int aio_iiro_16_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int iobase;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	printk("comedi%d: aio_iiro_16: ", dev->minor);
 
@@ -143,7 +143,7 @@ static int aio_iiro_16_detach(struct com
 }
 
 static int aio_iiro_16_dio_insn_bits_write(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
 		return -EINVAL;
@@ -162,7 +162,7 @@ static int aio_iiro_16_dio_insn_bits_wri
 }
 
 static int aio_iiro_16_dio_insn_bits_read(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
 		return -EINVAL;
--- a/drivers/staging/comedi/drivers/amplc_dio200.c
+++ b/drivers/staging/comedi/drivers/amplc_dio200.c
@@ -572,7 +572,7 @@ dio200_request_region(unsigned minor, un
  * 'insn_bits' function for an 'INTERRUPT' subdevice.
  */
 static int
-dio200_subdev_intr_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+dio200_subdev_intr_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	dio200_subdev_intr *subpriv = s->private;
@@ -591,7 +591,7 @@ dio200_subdev_intr_insn_bits(struct come
 /*
  * Called to stop acquisition for an 'INTERRUPT' subdevice.
  */
-static void dio200_stop_intr(struct comedi_device * dev, comedi_subdevice * s)
+static void dio200_stop_intr(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	dio200_subdev_intr *subpriv = s->private;
 
@@ -605,7 +605,7 @@ static void dio200_stop_intr(struct come
 /*
  * Called to start acquisition for an 'INTERRUPT' subdevice.
  */
-static int dio200_start_intr(struct comedi_device * dev, comedi_subdevice * s)
+static int dio200_start_intr(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned int n;
 	unsigned isn_bits;
@@ -641,7 +641,7 @@ static int dio200_start_intr(struct come
  * Internal trigger function to start acquisition for an 'INTERRUPT' subdevice.
  */
 static int
-dio200_inttrig_start_intr(struct comedi_device * dev, comedi_subdevice * s,
+dio200_inttrig_start_intr(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trignum)
 {
 	dio200_subdev_intr *subpriv;
@@ -671,7 +671,7 @@ dio200_inttrig_start_intr(struct comedi_
  * This is called from the interrupt service routine to handle a read
  * scan on an 'INTERRUPT' subdevice.
  */
-static int dio200_handle_read_intr(struct comedi_device * dev, comedi_subdevice * s)
+static int dio200_handle_read_intr(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	dio200_subdev_intr *subpriv = s->private;
 	unsigned triggered;
@@ -783,7 +783,7 @@ static int dio200_handle_read_intr(struc
 /*
  * 'cancel' function for an 'INTERRUPT' subdevice.
  */
-static int dio200_subdev_intr_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int dio200_subdev_intr_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	dio200_subdev_intr *subpriv = s->private;
 	unsigned long flags;
@@ -801,7 +801,7 @@ static int dio200_subdev_intr_cancel(str
  * 'do_cmdtest' function for an 'INTERRUPT' subdevice.
  */
 static int
-dio200_subdev_intr_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+dio200_subdev_intr_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -907,7 +907,7 @@ dio200_subdev_intr_cmdtest(struct comedi
 /*
  * 'do_cmd' function for an 'INTERRUPT' subdevice.
  */
-static int dio200_subdev_intr_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int dio200_subdev_intr_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &s->async->cmd;
 	dio200_subdev_intr *subpriv = s->private;
@@ -953,7 +953,7 @@ static int dio200_subdev_intr_cmd(struct
  * This function initializes an 'INTERRUPT' subdevice.
  */
 static int
-dio200_subdev_intr_init(struct comedi_device * dev, comedi_subdevice * s,
+dio200_subdev_intr_init(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned long iobase, unsigned valid_isns, int has_int_sce)
 {
 	dio200_subdev_intr *subpriv;
@@ -998,7 +998,7 @@ dio200_subdev_intr_init(struct comedi_de
  * This function cleans up an 'INTERRUPT' subdevice.
  */
 static void
-dio200_subdev_intr_cleanup(struct comedi_device * dev, comedi_subdevice * s)
+dio200_subdev_intr_cleanup(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	dio200_subdev_intr *subpriv = s->private;
 
@@ -1033,7 +1033,7 @@ static irqreturn_t dio200_interrupt(int 
  * Handle 'insn_read' for an '8254' counter subdevice.
  */
 static int
-dio200_subdev_8254_read(struct comedi_device * dev, comedi_subdevice * s,
+dio200_subdev_8254_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	dio200_subdev_8254 *subpriv = s->private;
@@ -1048,7 +1048,7 @@ dio200_subdev_8254_read(struct comedi_de
  * Handle 'insn_write' for an '8254' counter subdevice.
  */
 static int
-dio200_subdev_8254_write(struct comedi_device * dev, comedi_subdevice * s,
+dio200_subdev_8254_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	dio200_subdev_8254 *subpriv = s->private;
@@ -1142,7 +1142,7 @@ dio200_get_clock_src(dio200_subdev_8254 
  * Handle 'insn_config' for an '8254' counter subdevice.
  */
 static int
-dio200_subdev_8254_config(struct comedi_device * dev, comedi_subdevice * s,
+dio200_subdev_8254_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	dio200_subdev_8254 *subpriv = s->private;
@@ -1194,7 +1194,7 @@ dio200_subdev_8254_config(struct comedi_
  * offset is the offset to the 8254 chip.
  */
 static int
-dio200_subdev_8254_init(struct comedi_device * dev, comedi_subdevice * s,
+dio200_subdev_8254_init(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned long iobase, unsigned offset, int has_clk_gat_sce)
 {
 	dio200_subdev_8254 *subpriv;
@@ -1247,7 +1247,7 @@ dio200_subdev_8254_init(struct comedi_de
  * This function cleans up an '8254' counter subdevice.
  */
 static void
-dio200_subdev_8254_cleanup(struct comedi_device * dev, comedi_subdevice * s)
+dio200_subdev_8254_cleanup(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	dio200_subdev_intr *subpriv = s->private;
 
@@ -1264,7 +1264,7 @@ dio200_subdev_8254_cleanup(struct comedi
  */
 static int dio200_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase = 0;
 	unsigned int irq = 0;
 #ifdef CONFIG_COMEDI_PCI
@@ -1443,7 +1443,7 @@ static int dio200_detach(struct comedi_d
 	if (dev->subdevices) {
 		layout = thislayout;
 		for (n = 0; n < dev->n_subdevices; n++) {
-			comedi_subdevice *s = &dev->subdevices[n];
+			struct comedi_subdevice *s = &dev->subdevices[n];
 			switch (layout->sdtype[n]) {
 			case sd_8254:
 				dio200_subdev_8254_cleanup(dev, s);
--- a/drivers/staging/comedi/drivers/amplc_pc236.c
+++ b/drivers/staging/comedi/drivers/amplc_pc236.c
@@ -188,12 +188,12 @@ static int pc236_request_region(unsigned
 static void pc236_intr_disable(struct comedi_device * dev);
 static void pc236_intr_enable(struct comedi_device * dev);
 static int pc236_intr_check(struct comedi_device * dev);
-static int pc236_intr_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int pc236_intr_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pc236_intr_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int pc236_intr_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int pc236_intr_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int pc236_intr_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int pc236_intr_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int pc236_intr_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 static irqreturn_t pc236_interrupt(int irq, void *d PT_REGS_ARG);
 
 /*
@@ -266,7 +266,7 @@ pc236_find_pci(struct comedi_device * de
  */
 static int pc236_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase = 0;
 	unsigned int irq = 0;
 #ifdef CONFIG_COMEDI_PCI
@@ -528,7 +528,7 @@ static int pc236_intr_check(struct comed
  * Input from subdevice 1.
  * Copied from the comedi_parport driver.
  */
-static int pc236_intr_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int pc236_intr_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[1] = 0;
@@ -539,7 +539,7 @@ static int pc236_intr_insn(struct comedi
  * Subdevice 1 command test.
  * Copied from the comedi_parport driver.
  */
-static int pc236_intr_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int pc236_intr_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -617,7 +617,7 @@ static int pc236_intr_cmdtest(struct com
 /*
  * Subdevice 1 command.
  */
-static int pc236_intr_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int pc236_intr_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	pc236_intr_enable(dev);
 
@@ -627,7 +627,7 @@ static int pc236_intr_cmd(struct comedi_
 /*
  * Subdevice 1 cancel command.
  */
-static int pc236_intr_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int pc236_intr_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	pc236_intr_disable(dev);
 
@@ -641,7 +641,7 @@ static int pc236_intr_cancel(struct come
 static irqreturn_t pc236_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev->subdevices + 1;
+	struct comedi_subdevice *s = dev->subdevices + 1;
 	int handled;
 
 	handled = pc236_intr_check(dev);
--- a/drivers/staging/comedi/drivers/amplc_pc263.c
+++ b/drivers/staging/comedi/drivers/amplc_pc263.c
@@ -146,9 +146,9 @@ static comedi_driver driver_amplc_pc263 
 
 static int pc263_request_region(unsigned minor, unsigned long from,
 	unsigned long extent);
-static int pc263_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pc263_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pc263_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int pc263_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 /*
@@ -221,7 +221,7 @@ pc263_find_pci(struct comedi_device * de
  */
 static int pc263_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase = 0;
 #ifdef CONFIG_COMEDI_PCI
 	struct pci_dev *pci_dev = NULL;
@@ -387,7 +387,7 @@ static int pc263_request_region(unsigned
  * useful to applications if you implement the insn_bits interface.
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
-static int pc263_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pc263_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -412,7 +412,7 @@ static int pc263_dio_insn_bits(struct co
 	return 2;
 }
 
-static int pc263_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int pc263_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 1)
--- a/drivers/staging/comedi/drivers/amplc_pci224.c
+++ b/drivers/staging/comedi/drivers/amplc_pci224.c
@@ -477,7 +477,7 @@ pci224_ao_set_data(struct comedi_device 
  * 'insn_write' function for AO subdevice.
  */
 static int
-pci224_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+pci224_ao_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -504,7 +504,7 @@ pci224_ao_insn_write(struct comedi_devic
  * command.
  */
 static int
-pci224_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+pci224_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -532,7 +532,7 @@ pci224_cascade_ns_to_timer(int osc_base,
 /*
  * Kills a command running on the AO subdevice.
  */
-static void pci224_ao_stop(struct comedi_device * dev, comedi_subdevice * s)
+static void pci224_ao_stop(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long flags;
 
@@ -572,7 +572,7 @@ static void pci224_ao_stop(struct comedi
 /*
  * Handles start of acquisition for the AO subdevice.
  */
-static void pci224_ao_start(struct comedi_device * dev, comedi_subdevice * s)
+static void pci224_ao_start(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &s->async->cmd;
 	unsigned long flags;
@@ -599,7 +599,7 @@ static void pci224_ao_start(struct comed
 /*
  * Handles interrupts from the DAC FIFO.
  */
-static void pci224_ao_handle_fifo(struct comedi_device * dev, comedi_subdevice * s)
+static void pci224_ao_handle_fifo(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &s->async->cmd;
 	unsigned int num_scans;
@@ -728,7 +728,7 @@ static void pci224_ao_handle_fifo(struct
  * Internal trigger function to start acquisition on AO subdevice.
  */
 static int
-pci224_ao_inttrig_start(struct comedi_device * dev, comedi_subdevice * s,
+pci224_ao_inttrig_start(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trignum)
 {
 	if (trignum != 0)
@@ -748,7 +748,7 @@ pci224_ao_inttrig_start(struct comedi_de
  * 'do_cmdtest' function for AO subdevice.
  */
 static int
-pci224_ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s, comedi_cmd * cmd)
+pci224_ao_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s, comedi_cmd * cmd)
 {
 	int err = 0;
 	unsigned int tmp;
@@ -1015,7 +1015,7 @@ pci224_ao_cmdtest(struct comedi_device *
 /*
  * 'do_cmd' function for AO subdevice.
  */
-static int pci224_ao_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int pci224_ao_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &s->async->cmd;
 	int range;
@@ -1172,7 +1172,7 @@ static int pci224_ao_cmd(struct comedi_d
 /*
  * 'cancel' function for AO subdevice.
  */
-static int pci224_ao_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int pci224_ao_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	pci224_ao_stop(dev, s);
 	return 0;
@@ -1182,7 +1182,7 @@ static int pci224_ao_cancel(struct comed
  * 'munge' data for AO command.
  */
 static void
-pci224_ao_munge(struct comedi_device * dev, comedi_subdevice * s, void *data,
+pci224_ao_munge(struct comedi_device * dev, struct comedi_subdevice * s, void *data,
 	unsigned int num_bytes, unsigned int chan_index)
 {
 	comedi_async *async = s->async;
@@ -1215,7 +1215,7 @@ pci224_ao_munge(struct comedi_device * d
 static irqreturn_t pci224_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = &dev->subdevices[0];
+	struct comedi_subdevice *s = &dev->subdevices[0];
 	comedi_cmd *cmd;
 	unsigned char intstat, valid_intstat;
 	unsigned char curenab;
@@ -1325,7 +1325,7 @@ pci224_find_pci(struct comedi_device * d
  */
 static int pci224_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	struct pci_dev *pci_dev;
 	unsigned int irq;
 	int bus = 0, slot = 0;
@@ -1511,7 +1511,7 @@ static int pci224_detach(struct comedi_d
 		comedi_free_irq(dev->irq, dev);
 	}
 	if (dev->subdevices) {
-		comedi_subdevice *s;
+		struct comedi_subdevice *s;
 
 		s = dev->subdevices + 0;
 		/* AO subdevice */
--- a/drivers/staging/comedi/drivers/amplc_pci230.c
+++ b/drivers/staging/comedi/drivers/amplc_pci230.c
@@ -615,30 +615,30 @@ static comedi_driver driver_amplc_pci230
 
 COMEDI_PCI_INITCLEANUP(driver_amplc_pci230, pci230_pci_table);
 
-static int pci230_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int pci230_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pci230_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int pci230_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pci230_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int pci230_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 static void pci230_ct_setup_ns_mode(struct comedi_device * dev, unsigned int ct,
 	unsigned int mode, uint64_t ns, unsigned int round);
 static void pci230_ns_to_single_timer(unsigned int *ns, unsigned int round);
 static void pci230_cancel_ct(struct comedi_device * dev, unsigned int ct);
 static irqreturn_t pci230_interrupt(int irq, void *d PT_REGS_ARG);
-static int pci230_ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int pci230_ao_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int pci230_ao_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int pci230_ao_cancel(struct comedi_device * dev, comedi_subdevice * s);
-static void pci230_ao_stop(struct comedi_device * dev, comedi_subdevice * s);
-static void pci230_handle_ao_nofifo(struct comedi_device * dev, comedi_subdevice * s);
-static int pci230_handle_ao_fifo(struct comedi_device * dev, comedi_subdevice * s);
-static int pci230_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int pci230_ao_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int pci230_ao_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
+static void pci230_ao_stop(struct comedi_device * dev, struct comedi_subdevice * s);
+static void pci230_handle_ao_nofifo(struct comedi_device * dev, struct comedi_subdevice * s);
+static int pci230_handle_ao_fifo(struct comedi_device * dev, struct comedi_subdevice * s);
+static int pci230_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int pci230_ai_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int pci230_ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
-static void pci230_ai_stop(struct comedi_device * dev, comedi_subdevice * s);
-static void pci230_handle_ai(struct comedi_device * dev, comedi_subdevice * s);
+static int pci230_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int pci230_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
+static void pci230_ai_stop(struct comedi_device * dev, struct comedi_subdevice * s);
+static void pci230_handle_ai(struct comedi_device * dev, struct comedi_subdevice * s);
 
 static short pci230_ai_read(struct comedi_device * dev)
 {
@@ -704,7 +704,7 @@ static inline void pci230_ao_write_fifo(
  */
 static int pci230_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase1, iobase2;
 	/* PCI230's I/O spaces 1 and 2 respectively. */
 	struct pci_dev *pci_dev;
@@ -1058,7 +1058,7 @@ static inline void put_all_resources(str
 /*
  *  COMEDI_SUBD_AI instruction;
  */
-static int pci230_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int pci230_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int n, i;
@@ -1163,7 +1163,7 @@ static int pci230_ai_rinsn(struct comedi
 /*
  *  COMEDI_SUBD_AO instructions;
  */
-static int pci230_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int pci230_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -1191,7 +1191,7 @@ static int pci230_ao_winsn(struct comedi
 
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
-static int pci230_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int pci230_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -1203,7 +1203,7 @@ static int pci230_ao_rinsn(struct comedi
 	return i;
 }
 
-static int pci230_ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int pci230_ao_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -1417,7 +1417,7 @@ static int pci230_ao_cmdtest(struct come
 }
 
 static int pci230_ao_inttrig_scan_begin(struct comedi_device * dev,
-	comedi_subdevice * s, unsigned int trig_num)
+	struct comedi_subdevice * s, unsigned int trig_num)
 {
 	unsigned long irqflags;
 
@@ -1448,7 +1448,7 @@ static int pci230_ao_inttrig_scan_begin(
 	return 1;
 }
 
-static void pci230_ao_start(struct comedi_device * dev, comedi_subdevice * s)
+static void pci230_ao_start(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_async *async = s->async;
 	comedi_cmd *cmd = &async->cmd;
@@ -1536,7 +1536,7 @@ static void pci230_ao_start(struct comed
 	}
 }
 
-static int pci230_ao_inttrig_start(struct comedi_device * dev, comedi_subdevice * s,
+static int pci230_ao_inttrig_start(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trig_num)
 {
 	if (trig_num != 0)
@@ -1548,7 +1548,7 @@ static int pci230_ao_inttrig_start(struc
 	return 1;
 }
 
-static int pci230_ao_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int pci230_ao_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned short daccon;
 	unsigned int range;
@@ -1648,7 +1648,7 @@ static int pci230_ai_check_scan_period(c
 	return !err;
 }
 
-static int pci230_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int pci230_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -2035,7 +2035,7 @@ static int pci230_ai_cmdtest(struct come
 }
 
 static void pci230_ai_update_fifo_trigger_level(struct comedi_device * dev,
-	comedi_subdevice * s)
+	struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &s->async->cmd;
 	unsigned int scanlen = cmd->scan_end_arg;
@@ -2078,7 +2078,7 @@ static void pci230_ai_update_fifo_trigge
 	}
 }
 
-static int pci230_ai_inttrig_convert(struct comedi_device * dev, comedi_subdevice * s,
+static int pci230_ai_inttrig_convert(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trig_num)
 {
 	unsigned long irqflags;
@@ -2122,7 +2122,7 @@ static int pci230_ai_inttrig_convert(str
 }
 
 static int pci230_ai_inttrig_scan_begin(struct comedi_device * dev,
-	comedi_subdevice * s, unsigned int trig_num)
+	struct comedi_subdevice * s, unsigned int trig_num)
 {
 	unsigned long irqflags;
 	unsigned char zgat;
@@ -2143,7 +2143,7 @@ static int pci230_ai_inttrig_scan_begin(
 	return 1;
 }
 
-static void pci230_ai_start(struct comedi_device * dev, comedi_subdevice * s)
+static void pci230_ai_start(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long irqflags;
 	unsigned short conv;
@@ -2280,7 +2280,7 @@ static void pci230_ai_start(struct comed
 	}
 }
 
-static int pci230_ai_inttrig_start(struct comedi_device * dev, comedi_subdevice * s,
+static int pci230_ai_inttrig_start(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trig_num)
 {
 	if (trig_num != 0)
@@ -2292,7 +2292,7 @@ static int pci230_ai_inttrig_start(struc
 	return 1;
 }
 
-static int pci230_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int pci230_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned int i, chan, range, diff;
 	unsigned int res_mask;
@@ -2563,7 +2563,7 @@ static irqreturn_t pci230_interrupt(int 
 {
 	unsigned char status_int, valid_status_int;
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long irqflags;
 
 	/* Read interrupt status/enable register. */
@@ -2622,7 +2622,7 @@ static irqreturn_t pci230_interrupt(int 
 	return IRQ_HANDLED;
 }
 
-static void pci230_handle_ao_nofifo(struct comedi_device * dev, comedi_subdevice * s)
+static void pci230_handle_ao_nofifo(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	short data;
 	int i, ret;
@@ -2659,7 +2659,7 @@ static void pci230_handle_ao_nofifo(stru
 
 /* Loads DAC FIFO (if using it) from buffer. */
 /* Returns 0 if AO finished due to completion or error, 1 if still going. */
-static int pci230_handle_ao_fifo(struct comedi_device * dev, comedi_subdevice * s)
+static int pci230_handle_ao_fifo(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_async *async = s->async;
 	comedi_cmd *cmd = &async->cmd;
@@ -2762,7 +2762,7 @@ static int pci230_handle_ao_fifo(struct 
 	return running;
 }
 
-static void pci230_handle_ai(struct comedi_device * dev, comedi_subdevice * s)
+static void pci230_handle_ai(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned int events = 0;
 	unsigned int status_fifo;
@@ -2861,7 +2861,7 @@ static void pci230_handle_ai(struct come
 	}
 }
 
-static void pci230_ao_stop(struct comedi_device * dev, comedi_subdevice * s)
+static void pci230_ao_stop(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long irqflags;
 	unsigned char intsrc;
@@ -2916,13 +2916,13 @@ static void pci230_ao_stop(struct comedi
 	put_all_resources(dev, OWNER_AOCMD);
 }
 
-static int pci230_ao_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int pci230_ao_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	pci230_ao_stop(dev, s);
 	return 0;
 }
 
-static void pci230_ai_stop(struct comedi_device * dev, comedi_subdevice * s)
+static void pci230_ai_stop(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long irqflags;
 	comedi_cmd *cmd;
@@ -2970,7 +2970,7 @@ static void pci230_ai_stop(struct comedi
 	put_all_resources(dev, OWNER_AICMD);
 }
 
-static int pci230_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int pci230_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	pci230_ai_stop(dev, s);
 	return 0;
--- a/drivers/staging/comedi/drivers.c
+++ b/drivers/staging/comedi/drivers.c
@@ -48,12 +48,12 @@
 #include <asm/system.h>
 
 static int postconfig(struct comedi_device *dev);
-static int insn_rw_emulate_bits(struct comedi_device *dev, comedi_subdevice *s,
+static int insn_rw_emulate_bits(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
 static void *comedi_recognize(comedi_driver * driv, const char *name);
 static void comedi_report_boards(comedi_driver *driv);
-static int poll_invalid(struct comedi_device *dev, comedi_subdevice *s);
-int comedi_buf_alloc(struct comedi_device *dev, comedi_subdevice *s,
+static int poll_invalid(struct comedi_device *dev, struct comedi_subdevice *s);
+int comedi_buf_alloc(struct comedi_device *dev, struct comedi_subdevice *s,
 	unsigned long new_size);
 
 comedi_driver *comedi_drivers;
@@ -66,7 +66,7 @@ int comedi_modprobe(int minor)
 static void cleanup_device(struct comedi_device *dev)
 {
 	int i;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	if (dev->subdevices) {
 		for (i = 0; i < dev->n_subdevices; i++) {
@@ -227,7 +227,7 @@ int comedi_driver_unregister(comedi_driv
 static int postconfig(struct comedi_device *dev)
 {
 	int i;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	comedi_async *async = NULL;
 	int ret;
 
@@ -331,18 +331,18 @@ void comedi_report_boards(comedi_driver 
 		printk(" %s\n", driv->driver_name);
 }
 
-static int poll_invalid(struct comedi_device *dev, comedi_subdevice *s)
+static int poll_invalid(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	return -EINVAL;
 }
 
-int insn_inval(struct comedi_device *dev, comedi_subdevice *s,
+int insn_inval(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	return -EINVAL;
 }
 
-static int insn_rw_emulate_bits(struct comedi_device *dev, comedi_subdevice *s,
+static int insn_rw_emulate_bits(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	comedi_insn new_insn;
@@ -412,7 +412,7 @@ static inline unsigned long kvirt_to_kva
 	return kva;
 }
 
-int comedi_buf_alloc(struct comedi_device *dev, comedi_subdevice *s,
+int comedi_buf_alloc(struct comedi_device *dev, struct comedi_subdevice *s,
 	unsigned long new_size)
 {
 	comedi_async *async = s->async;
@@ -538,7 +538,7 @@ int comedi_buf_alloc(struct comedi_devic
  * and kernel space */
 unsigned int comedi_buf_munge(comedi_async *async, unsigned int num_bytes)
 {
-	comedi_subdevice *s = async->subdevice;
+	struct comedi_subdevice *s = async->subdevice;
 	unsigned int count = 0;
 	const unsigned num_sample_bytes = bytes_per_sample(s);
 
--- a/drivers/staging/comedi/drivers/c6xdigio.c
+++ b/drivers/staging/comedi/drivers/c6xdigio.c
@@ -339,14 +339,14 @@ static void C6X_encResetAll(unsigned lon
 }
 
 static int c6xdigio_pwmo_insn_read(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	printk("c6xdigio_pwmo_insn_read %x\n", insn->n);
 	return insn->n;
 }
 
 static int c6xdigio_pwmo_insn_write(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int i;
 	int chan = CR_CHAN(insn->chanspec);
@@ -360,7 +360,7 @@ static int c6xdigio_pwmo_insn_write(stru
 }
 
 //static int c6xdigio_ei_init_insn_read(struct comedi_device *dev,
-//                                 comedi_subdevice *s,
+//                                 struct comedi_subdevice *s,
 //                                 comedi_insn *insn,
 //                                 unsigned int *data)
 //{
@@ -369,7 +369,7 @@ static int c6xdigio_pwmo_insn_write(stru
 //}
 
 //static int c6xdigio_ei_init_insn_write(struct comedi_device *dev,
-//                                 comedi_subdevice *s,
+//                                 struct comedi_subdevice *s,
 //                                 comedi_insn *insn,
 //                                 unsigned int *data)
 //{
@@ -382,7 +382,7 @@ static int c6xdigio_pwmo_insn_write(stru
 //}
 
 static int c6xdigio_ei_insn_read(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	//  printk("c6xdigio_ei__insn_read %x\n", insn->n);
 	int n;
@@ -433,7 +433,7 @@ static int c6xdigio_attach(struct comedi
 	int result = 0;
 	unsigned long iobase;
 	unsigned int irq;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	iobase = it->options[0];
 	printk("comedi%d: c6xdigio: 0x%04lx\n", dev->minor, iobase);
--- a/drivers/staging/comedi/drivers/cb_das16_cs.c
+++ b/drivers/staging/comedi/drivers/cb_das16_cs.c
@@ -109,22 +109,22 @@ static const comedi_lrange das16cs_ai_ra
 };
 
 static irqreturn_t das16cs_interrupt(int irq, void *d PT_REGS_ARG);
-static int das16cs_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16cs_ai_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int das16cs_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int das16cs_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int das16cs_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16cs_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16cs_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16cs_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16cs_timer_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_timer_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16cs_timer_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_timer_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 static int get_prodid(struct comedi_device * dev, struct pcmcia_device *link)
@@ -168,7 +168,7 @@ static const das16cs_board *das16cs_prob
 static int das16cs_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	struct pcmcia_device *link;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret;
 	int i;
 
@@ -286,7 +286,7 @@ static irqreturn_t das16cs_interrupt(int
  * "instructions" read/write data in "one-shot" or "software-triggered"
  * mode.
  */
-static int das16cs_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -328,12 +328,12 @@ static int das16cs_ai_rinsn(struct comed
 	return i;
 }
 
-static int das16cs_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int das16cs_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	return -EINVAL;
 }
 
-static int das16cs_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -489,7 +489,7 @@ static int das16cs_ai_cmdtest(struct com
 	return 0;
 }
 
-static int das16cs_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -535,7 +535,7 @@ static int das16cs_ao_winsn(struct comed
 
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
-static int das16cs_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -552,7 +552,7 @@ static int das16cs_ao_rinsn(struct comed
  * useful to applications if you implement the insn_bits interface.
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
-static int das16cs_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -572,7 +572,7 @@ static int das16cs_dio_insn_bits(struct 
 	return 2;
 }
 
-static int das16cs_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn->chanspec);
@@ -610,13 +610,13 @@ static int das16cs_dio_insn_config(struc
 	return insn->n;
 }
 
-static int das16cs_timer_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_timer_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	return -EINVAL;
 }
 
-static int das16cs_timer_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int das16cs_timer_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	return -EINVAL;
--- a/drivers/staging/comedi/drivers/cb_pcidas64.c
+++ b/drivers/staging/comedi/drivers/cb_pcidas64.c
@@ -1134,46 +1134,46 @@ static comedi_driver driver_cb_pcidas = 
       detach:detach,
 };
 
-static int ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ai_config_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int ai_config_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ao_readback_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_readback_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ai_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int ao_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int ao_inttrig(struct comedi_device * dev, comedi_subdevice * subdev,
+static int ao_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int ao_inttrig(struct comedi_device * dev, struct comedi_subdevice * subdev,
 	unsigned int trig_num);
-static int ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
 static irqreturn_t handle_interrupt(int irq, void *d PT_REGS_ARG);
-static int ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
-static int ao_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
+static int ao_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 static int dio_callback(int dir, int port, int data, unsigned long arg);
 static int dio_callback_4020(int dir, int port, int data, unsigned long arg);
-static int di_rbits(struct comedi_device * dev, comedi_subdevice * s,
+static int di_rbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int do_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int do_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dio_60xx_config_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int dio_60xx_config_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dio_60xx_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int dio_60xx_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int calib_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int calib_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int calib_write_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int calib_write_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ad8402_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int ad8402_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 static void ad8402_write(struct comedi_device * dev, unsigned int channel,
 	unsigned int value);
-static int ad8402_write_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int ad8402_write_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int eeprom_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int eeprom_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 static void check_adc_timing(struct comedi_device * dev, comedi_cmd * cmd);
 static unsigned int get_divisor(unsigned int ns, unsigned int flags);
@@ -1365,7 +1365,7 @@ static void init_plx9080(struct comedi_d
  */
 static int setup_subdevices(struct comedi_device * dev)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	void *dio_8255_iobase;
 	int i;
 
@@ -1881,7 +1881,7 @@ static int detach(struct comedi_device *
 	return 0;
 }
 
-static int ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int bits = 0, n, i;
@@ -2106,7 +2106,7 @@ static int ai_config_master_clock(struct
 	return -EINVAL;
 }
 
-static int ai_config_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int ai_config_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int id = data[0];
@@ -2128,7 +2128,7 @@ static int ai_config_insn(struct comedi_
 	return -EINVAL;
 }
 
-static int ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -2679,7 +2679,7 @@ static inline void load_first_dma_descri
 	}
 }
 
-static int ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_async *async = s->async;
 	comedi_cmd *cmd = &async->cmd;
@@ -2799,7 +2799,7 @@ static int ai_cmd(struct comedi_device *
 // read num_samples from 16 bit wide ai fifo
 static void pio_drain_ai_fifo_16(struct comedi_device * dev)
 {
-	comedi_subdevice *s = dev->read_subdev;
+	struct comedi_subdevice *s = dev->read_subdev;
 	comedi_async *async = s->async;
 	comedi_cmd *cmd = &async->cmd;
 	unsigned int i;
@@ -2866,7 +2866,7 @@ static void pio_drain_ai_fifo_16(struct 
  */
 static void pio_drain_ai_fifo_32(struct comedi_device * dev)
 {
-	comedi_subdevice *s = dev->read_subdev;
+	struct comedi_subdevice *s = dev->read_subdev;
 	comedi_async *async = s->async;
 	comedi_cmd *cmd = &async->cmd;
 	unsigned int i;
@@ -2955,7 +2955,7 @@ static void drain_dma_buffers(struct com
 void handle_ai_interrupt(struct comedi_device * dev, unsigned short status,
 	unsigned int plx_status)
 {
-	comedi_subdevice *s = dev->read_subdev;
+	struct comedi_subdevice *s = dev->read_subdev;
 	comedi_async *async = s->async;
 	comedi_cmd *cmd = &async->cmd;
 	uint8_t dma1_status;
@@ -3077,7 +3077,7 @@ static void restart_ao_dma(struct comedi
 static void handle_ao_interrupt(struct comedi_device * dev, unsigned short status,
 	unsigned int plx_status)
 {
-	comedi_subdevice *s = dev->write_subdev;
+	struct comedi_subdevice *s = dev->write_subdev;
 	comedi_async *async;
 	comedi_cmd *cmd;
 	uint8_t dma0_status;
@@ -3174,7 +3174,7 @@ void abort_dma(struct comedi_device * de
 	comedi_spin_unlock_irqrestore(&dev->spinlock, flags);
 }
 
-static int ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long flags;
 
@@ -3194,7 +3194,7 @@ static int ai_cancel(struct comedi_devic
 	return 0;
 }
 
-static int ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn->chanspec);
@@ -3224,7 +3224,7 @@ static int ao_winsn(struct comedi_device
 	return 1;
 }
 
-static int ao_readback_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_readback_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = priv(dev)->ao_value[CR_CHAN(insn->chanspec)];
@@ -3413,7 +3413,7 @@ static inline int external_ai_queue_in_u
 	return 1;
 }
 
-static int ao_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int ao_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &s->async->cmd;
 
@@ -3438,7 +3438,7 @@ static int ao_cmd(struct comedi_device *
 	return 0;
 }
 
-static int ao_inttrig(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_inttrig(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trig_num)
 {
 	comedi_cmd *cmd = &s->async->cmd;
@@ -3461,7 +3461,7 @@ static int ao_inttrig(struct comedi_devi
 	return 0;
 }
 
-static int ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -3577,7 +3577,7 @@ static int ao_cmdtest(struct comedi_devi
 	return 0;
 }
 
-static int ao_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int ao_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	writew(0x0, priv(dev)->main_iobase + DAC_CONTROL0_REG);
 	abort_dma(dev, 0);
@@ -3605,7 +3605,7 @@ static int dio_callback_4020(int dir, in
 	}
 }
 
-static int di_rbits(struct comedi_device * dev, comedi_subdevice * s,
+static int di_rbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int bits;
@@ -3618,7 +3618,7 @@ static int di_rbits(struct comedi_device
 	return 2;
 }
 
-static int do_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int do_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] &= 0xf;
@@ -3634,7 +3634,7 @@ static int do_wbits(struct comedi_device
 	return 2;
 }
 
-static int dio_60xx_config_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int dio_60xx_config_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int mask;
@@ -3661,7 +3661,7 @@ static int dio_60xx_config_insn(struct c
 	return 1;
 }
 
-static int dio_60xx_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int dio_60xx_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0]) {
@@ -3694,7 +3694,7 @@ static void caldac_write(struct comedi_d
 	}
 }
 
-static int calib_write_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int calib_write_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int channel = CR_CHAN(insn->chanspec);
@@ -3709,7 +3709,7 @@ static int calib_write_insn(struct comed
 	return 1;
 }
 
-static int calib_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int calib_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int channel = CR_CHAN(insn->chanspec);
@@ -3750,7 +3750,7 @@ static void ad8402_write(struct comedi_d
 }
 
 /* for pci-das6402/16, channel 0 is analog input gain and channel 1 is offset */
-static int ad8402_write_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int ad8402_write_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int channel = CR_CHAN(insn->chanspec);
@@ -3767,7 +3767,7 @@ static int ad8402_write_insn(struct come
 	return 1;
 }
 
-static int ad8402_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int ad8402_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int channel = CR_CHAN(insn->chanspec);
@@ -3839,7 +3839,7 @@ static uint16_t read_eeprom(struct comed
 	return value;
 }
 
-static int eeprom_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int eeprom_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = read_eeprom(dev, CR_CHAN(insn->chanspec));
--- a/drivers/staging/comedi/drivers/cb_pcidas.c
+++ b/drivers/staging/comedi/drivers/cb_pcidas.c
@@ -449,46 +449,46 @@ static comedi_driver driver_cb_pcidas = 
       detach:cb_pcidas_detach,
 };
 
-static int cb_pcidas_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ai_config_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int ai_config_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int cb_pcidas_ao_nofifo_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ao_nofifo_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int cb_pcidas_ao_fifo_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ao_fifo_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int cb_pcidas_ao_readback_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ao_readback_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int cb_pcidas_ai_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int cb_pcidas_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int cb_pcidas_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int cb_pcidas_ao_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int cb_pcidas_ao_inttrig(struct comedi_device * dev, comedi_subdevice * subdev,
+static int cb_pcidas_ao_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int cb_pcidas_ao_inttrig(struct comedi_device * dev, struct comedi_subdevice * subdev,
 	unsigned int trig_num);
-static int cb_pcidas_ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ao_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
 static irqreturn_t cb_pcidas_interrupt(int irq, void *d PT_REGS_ARG);
 static void handle_ao_interrupt(struct comedi_device * dev, unsigned int status);
-static int cb_pcidas_cancel(struct comedi_device * dev, comedi_subdevice * s);
-static int cb_pcidas_ao_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int cb_pcidas_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
+static int cb_pcidas_ao_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 static void cb_pcidas_load_counters(struct comedi_device * dev, unsigned int *ns,
 	int round_flags);
-static int eeprom_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int eeprom_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int caldac_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int caldac_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int caldac_write_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int caldac_write_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int trimpot_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int trimpot_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 static int cb_pcidas_trimpot_write(struct comedi_device * dev, unsigned int channel,
 	unsigned int value);
-static int trimpot_write_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int trimpot_write_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dac08_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int dac08_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 static int dac08_write(struct comedi_device * dev, unsigned int value);
-static int dac08_write_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int dac08_write_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 static int caldac_8800_write(struct comedi_device * dev, unsigned int address,
 	uint8_t value);
@@ -509,7 +509,7 @@ static inline unsigned int cal_enable_bi
  */
 static int cb_pcidas_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	struct pci_dev *pcidev;
 	int index;
 	int i;
@@ -752,7 +752,7 @@ static int cb_pcidas_detach(struct comed
  * "instructions" read/write data in "one-shot" or "software-triggered"
  * mode.
  */
-static int cb_pcidas_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, i;
@@ -819,7 +819,7 @@ static int ai_config_calibration_source(
 	return 2;
 }
 
-static int ai_config_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int ai_config_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int id = data[0];
@@ -836,7 +836,7 @@ static int ai_config_insn(struct comedi_
 }
 
 // analog output insn for pcidas-1000 and 1200 series
-static int cb_pcidas_ao_nofifo_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ao_nofifo_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int channel;
@@ -861,7 +861,7 @@ static int cb_pcidas_ao_nofifo_winsn(str
 }
 
 // analog output insn for pcidas-1602 series
-static int cb_pcidas_ao_fifo_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ao_fifo_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int channel;
@@ -892,7 +892,7 @@ static int cb_pcidas_ao_fifo_winsn(struc
 
 // analog output readback insn
 // XXX loses track of analog output value back after an analog ouput command is executed
-static int cb_pcidas_ao_readback_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ao_readback_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv->ao_value[CR_CHAN(insn->chanspec)];
@@ -900,7 +900,7 @@ static int cb_pcidas_ao_readback_insn(st
 	return 1;
 }
 
-static int eeprom_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int eeprom_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	uint8_t nvram_data;
@@ -915,7 +915,7 @@ static int eeprom_read_insn(struct comed
 	return 1;
 }
 
-static int caldac_write_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int caldac_write_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	const unsigned int channel = CR_CHAN(insn->chanspec);
@@ -923,7 +923,7 @@ static int caldac_write_insn(struct come
 	return caldac_8800_write(dev, channel, data[0]);
 }
 
-static int caldac_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int caldac_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv->caldac_value[CR_CHAN(insn->chanspec)];
@@ -952,13 +952,13 @@ static int dac08_write(struct comedi_dev
 	return 1;
 }
 
-static int dac08_write_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int dac08_write_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	return dac08_write(dev, data[0]);
 }
 
-static int dac08_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int dac08_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv->dac08_value;
@@ -989,7 +989,7 @@ static int cb_pcidas_trimpot_write(struc
 	return 1;
 }
 
-static int trimpot_write_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int trimpot_write_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int channel = CR_CHAN(insn->chanspec);
@@ -997,7 +997,7 @@ static int trimpot_write_insn(struct com
 	return cb_pcidas_trimpot_write(dev, channel, data[0]);
 }
 
-static int trimpot_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int trimpot_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int channel = CR_CHAN(insn->chanspec);
@@ -1007,7 +1007,7 @@ static int trimpot_read_insn(struct come
 	return 1;
 }
 
-static int cb_pcidas_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -1162,7 +1162,7 @@ static int cb_pcidas_ai_cmdtest(struct c
 	return 0;
 }
 
-static int cb_pcidas_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int cb_pcidas_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_async *async = s->async;
 	comedi_cmd *cmd = &async->cmd;
@@ -1249,7 +1249,7 @@ static int cb_pcidas_ai_cmd(struct comed
 	return 0;
 }
 
-static int cb_pcidas_ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ao_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -1362,7 +1362,7 @@ static int cb_pcidas_ao_cmdtest(struct c
 	return 0;
 }
 
-static int cb_pcidas_ao_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int cb_pcidas_ao_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_async *async = s->async;
 	comedi_cmd *cmd = &async->cmd;
@@ -1425,7 +1425,7 @@ static int cb_pcidas_ao_cmd(struct comed
 	return 0;
 }
 
-static int cb_pcidas_ao_inttrig(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidas_ao_inttrig(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trig_num)
 {
 	unsigned int num_bytes, num_points = thisboard->fifo_size;
@@ -1477,7 +1477,7 @@ static int cb_pcidas_ao_inttrig(struct c
 static irqreturn_t cb_pcidas_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev->read_subdev;
+	struct comedi_subdevice *s = dev->read_subdev;
 	comedi_async *async;
 	int status, s5933_status;
 	int half_fifo = thisboard->fifo_size / 2;
@@ -1588,7 +1588,7 @@ static irqreturn_t cb_pcidas_interrupt(i
 
 static void handle_ao_interrupt(struct comedi_device * dev, unsigned int status)
 {
-	comedi_subdevice *s = dev->write_subdev;
+	struct comedi_subdevice *s = dev->write_subdev;
 	comedi_async *async = s->async;
 	comedi_cmd *cmd = &async->cmd;
 	unsigned int half_fifo = thisboard->fifo_size / 2;
@@ -1643,7 +1643,7 @@ static void handle_ao_interrupt(struct c
 }
 
 // cancel analog input command
-static int cb_pcidas_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int cb_pcidas_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long flags;
 
@@ -1662,7 +1662,7 @@ static int cb_pcidas_cancel(struct comed
 }
 
 // cancel analog output command
-static int cb_pcidas_ao_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int cb_pcidas_ao_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long flags;
 
--- a/drivers/staging/comedi/drivers/cb_pcidda.c
+++ b/drivers/staging/comedi/drivers/cb_pcidda.c
@@ -234,11 +234,11 @@ typedef struct {
 
 static int cb_pcidda_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int cb_pcidda_detach(struct comedi_device * dev);
-//static int cb_pcidda_ai_rinsn(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data);
-static int cb_pcidda_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+//static int cb_pcidda_ai_rinsn(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data);
+static int cb_pcidda_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-//static int cb_pcidda_ai_cmd(struct comedi_device *dev,comedi_subdevice *s);
-//static int cb_pcidda_ai_cmdtest(struct comedi_device *dev,comedi_subdevice *s, comedi_cmd *cmd);
+//static int cb_pcidda_ai_cmd(struct comedi_device *dev,struct comedi_subdevice *s);
+//static int cb_pcidda_ai_cmdtest(struct comedi_device *dev,struct comedi_subdevice *s, comedi_cmd *cmd);
 //static int cb_pcidda_ns_to_timer(unsigned int *ns,int round);
 static unsigned int cb_pcidda_serial_in(struct comedi_device * dev);
 static void cb_pcidda_serial_out(struct comedi_device * dev, unsigned int value,
@@ -267,7 +267,7 @@ static comedi_driver driver_cb_pcidda = 
  */
 static int cb_pcidda_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	struct pci_dev *pcidev;
 	int index;
 
@@ -413,7 +413,7 @@ static int cb_pcidda_detach(struct comed
  * I will program this later... ;-)
  */
 #if 0
-static int cb_pcidda_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int cb_pcidda_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	printk("cb_pcidda_ai_cmd\n");
 	printk("subdev: %d\n", cmd->subdev);
@@ -432,7 +432,7 @@ static int cb_pcidda_ai_cmd(struct comed
 #endif
 
 #if 0
-static int cb_pcidda_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidda_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -598,7 +598,7 @@ static int cb_pcidda_ns_to_timer(unsigne
 }
 #endif
 
-static int cb_pcidda_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcidda_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int command;
--- a/drivers/staging/comedi/drivers/cb_pcimdas.c
+++ b/drivers/staging/comedi/drivers/cb_pcimdas.c
@@ -184,11 +184,11 @@ static comedi_driver driver_cb_pcimdas =
       detach:cb_pcimdas_detach,
 };
 
-static int cb_pcimdas_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcimdas_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int cb_pcimdas_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcimdas_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int cb_pcimdas_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcimdas_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 /*
@@ -199,7 +199,7 @@ static int cb_pcimdas_ao_rinsn(struct co
  */
 static int cb_pcimdas_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	struct pci_dev *pcidev;
 	int index;
 	//int i;
@@ -372,7 +372,7 @@ static int cb_pcimdas_detach(struct come
  * "instructions" read/write data in "one-shot" or "software-triggered"
  * mode.
  */
-static int cb_pcimdas_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcimdas_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, i;
@@ -437,7 +437,7 @@ static int cb_pcimdas_ai_rinsn(struct co
 	return n;
 }
 
-static int cb_pcimdas_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcimdas_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -465,7 +465,7 @@ static int cb_pcimdas_ao_winsn(struct co
 
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
-static int cb_pcimdas_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int cb_pcimdas_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
--- a/drivers/staging/comedi/drivers/cb_pcimdda.c
+++ b/drivers/staging/comedi/drivers/cb_pcimdda.c
@@ -197,9 +197,9 @@ MODULE_DESCRIPTION("Comedi low-level dri
 MODULE_LICENSE("GPL");
 COMEDI_PCI_INITCLEANUP_NOMODULE(cb_pcimdda_driver, pci_table);
 
-static int ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 /*---------------------------------------------------------------------------
@@ -240,7 +240,7 @@ static int probe(struct comedi_device * 
  */
 static int attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int err;
 
 /*
@@ -352,7 +352,7 @@ static int detach(struct comedi_device *
 	return 0;
 }
 
-static int ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -391,7 +391,7 @@ static int ao_winsn(struct comedi_device
    all AO channels update simultaneously.  This is useful for some control
    applications, I would imagine.
 */
-static int ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
--- a/drivers/staging/comedi/drivers/comedi_bond.c
+++ b/drivers/staging/comedi/drivers/comedi_bond.c
@@ -213,9 +213,9 @@ static comedi_driver driver_bonding = {
       .num_names =	sizeof(bondingBoards) / sizeof(struct BondingBoard),
 };
 
-static int bonding_dio_insn_bits(struct comedi_device *dev, comedi_subdevice *s,
+static int bonding_dio_insn_bits(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
-static int bonding_dio_insn_config(struct comedi_device *dev, comedi_subdevice *s,
+static int bonding_dio_insn_config(struct comedi_device *dev, struct comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data);
 
 /*
@@ -226,7 +226,7 @@ static int bonding_dio_insn_config(struc
  */
 static int bonding_attach(struct comedi_device *dev, comedi_devconfig *it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	LOG_MSG("comedi%d\n", dev->minor);
 
@@ -293,7 +293,7 @@ static int bonding_detach(struct comedi_
  * useful to applications if you implement the insn_bits interface.
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
-static int bonding_dio_insn_bits(struct comedi_device *dev, comedi_subdevice *s,
+static int bonding_dio_insn_bits(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data)
 {
 #define LSAMPL_BITS (sizeof(unsigned int)*8)
@@ -340,7 +340,7 @@ static int bonding_dio_insn_bits(struct 
 	return insn->n;
 }
 
-static int bonding_dio_insn_config(struct comedi_device *dev, comedi_subdevice *s,
+static int bonding_dio_insn_config(struct comedi_device *dev, struct comedi_subdevice *s,
 				   comedi_insn *insn, unsigned int *data)
 {
 	int chan = CR_CHAN(insn->chanspec), ret, io_bits = s->io_bits;
--- a/drivers/staging/comedi/drivers/comedi_fc.c
+++ b/drivers/staging/comedi/drivers/comedi_fc.c
@@ -28,7 +28,7 @@
 
 #include "comedi_fc.h"
 
-static void increment_scan_progress(comedi_subdevice *subd,
+static void increment_scan_progress(struct comedi_subdevice *subd,
 				    unsigned int num_bytes)
 {
 	comedi_async *async = subd->async;
@@ -42,7 +42,7 @@ static void increment_scan_progress(come
 }
 
 /* Writes an array of data points to comedi's buffer */
-unsigned int cfc_write_array_to_buffer(comedi_subdevice *subd, void *data,
+unsigned int cfc_write_array_to_buffer(struct comedi_subdevice *subd, void *data,
 				       unsigned int num_bytes)
 {
 	comedi_async *async = subd->async;
@@ -67,7 +67,7 @@ unsigned int cfc_write_array_to_buffer(c
 }
 EXPORT_SYMBOL(cfc_write_array_to_buffer);
 
-unsigned int cfc_read_array_from_buffer(comedi_subdevice *subd, void *data,
+unsigned int cfc_read_array_from_buffer(struct comedi_subdevice *subd, void *data,
 					unsigned int num_bytes)
 {
 	comedi_async *async = subd->async;
@@ -85,7 +85,7 @@ unsigned int cfc_read_array_from_buffer(
 }
 EXPORT_SYMBOL(cfc_read_array_from_buffer);
 
-unsigned int cfc_handle_events(struct comedi_device *dev, comedi_subdevice *subd)
+unsigned int cfc_handle_events(struct comedi_device *dev, struct comedi_subdevice *subd)
 {
 	unsigned int events = subd->async->events;
 
--- a/drivers/staging/comedi/drivers/comedi_fc.h
+++ b/drivers/staging/comedi/drivers/comedi_fc.h
@@ -30,30 +30,30 @@
 #include "../comedidev.h"
 
 /* Writes an array of data points to comedi's buffer */
-extern unsigned int cfc_write_array_to_buffer(comedi_subdevice *subd,
+extern unsigned int cfc_write_array_to_buffer(struct comedi_subdevice *subd,
 					      void *data,
 					      unsigned int num_bytes);
 
-static inline unsigned int cfc_write_to_buffer(comedi_subdevice *subd,
+static inline unsigned int cfc_write_to_buffer(struct comedi_subdevice *subd,
 					       short data)
 {
 	return cfc_write_array_to_buffer(subd, &data, sizeof(data));
 };
 
-static inline unsigned int cfc_write_long_to_buffer(comedi_subdevice *subd,
+static inline unsigned int cfc_write_long_to_buffer(struct comedi_subdevice *subd,
 						    unsigned int data)
 {
 	return cfc_write_array_to_buffer(subd, &data, sizeof(data));
 };
 
-extern unsigned int cfc_read_array_from_buffer(comedi_subdevice *subd,
+extern unsigned int cfc_read_array_from_buffer(struct comedi_subdevice *subd,
 					       void *data,
 					       unsigned int num_bytes);
 
 extern unsigned int cfc_handle_events(struct comedi_device *dev,
-				      comedi_subdevice *subd);
+				      struct comedi_subdevice *subd);
 
-static inline unsigned int cfc_bytes_per_scan(comedi_subdevice *subd)
+static inline unsigned int cfc_bytes_per_scan(struct comedi_subdevice *subd)
 {
 	int num_samples;
 	int bits_per_sample;
--- a/drivers/staging/comedi/drivers/comedi_parport.c
+++ b/drivers/staging/comedi/drivers/comedi_parport.c
@@ -108,7 +108,7 @@ struct parport_private {
 };
 #define devpriv ((struct parport_private *)(dev->private))
 
-static int parport_insn_a(struct comedi_device *dev, comedi_subdevice *s,
+static int parport_insn_a(struct comedi_device *dev, struct comedi_subdevice *s,
 			  comedi_insn *insn, unsigned int *data)
 {
 	if (data[0]) {
@@ -123,7 +123,7 @@ static int parport_insn_a(struct comedi_
 	return 2;
 }
 
-static int parport_insn_config_a(struct comedi_device *dev, comedi_subdevice *s,
+static int parport_insn_config_a(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data)
 {
 	if (data[0]) {
@@ -138,7 +138,7 @@ static int parport_insn_config_a(struct 
 	return 1;
 }
 
-static int parport_insn_b(struct comedi_device *dev, comedi_subdevice *s,
+static int parport_insn_b(struct comedi_device *dev, struct comedi_subdevice *s,
 			  comedi_insn *insn, unsigned int *data)
 {
 	if (data[0]) {
@@ -151,7 +151,7 @@ static int parport_insn_b(struct comedi_
 	return 2;
 }
 
-static int parport_insn_c(struct comedi_device *dev, comedi_subdevice *s,
+static int parport_insn_c(struct comedi_device *dev, struct comedi_subdevice *s,
 			  comedi_insn *insn, unsigned int *data)
 {
 	data[0] &= 0x0f;
@@ -167,7 +167,7 @@ static int parport_insn_c(struct comedi_
 	return 2;
 }
 
-static int parport_intr_insn(struct comedi_device *dev, comedi_subdevice *s,
+static int parport_intr_insn(struct comedi_device *dev, struct comedi_subdevice *s,
 			     comedi_insn *insn, unsigned int *data)
 {
 	if (insn->n < 1)
@@ -177,7 +177,7 @@ static int parport_intr_insn(struct come
 	return 2;
 }
 
-static int parport_intr_cmdtest(struct comedi_device *dev, comedi_subdevice *s,
+static int parport_intr_cmdtest(struct comedi_device *dev, struct comedi_subdevice *s,
 				comedi_cmd *cmd)
 {
 	int err = 0;
@@ -252,7 +252,7 @@ static int parport_intr_cmdtest(struct c
 	return 0;
 }
 
-static int parport_intr_cmd(struct comedi_device *dev, comedi_subdevice *s)
+static int parport_intr_cmd(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	devpriv->c_data |= 0x10;
 	outb(devpriv->c_data, dev->iobase + PARPORT_C);
@@ -262,7 +262,7 @@ static int parport_intr_cmd(struct comed
 	return 0;
 }
 
-static int parport_intr_cancel(struct comedi_device *dev, comedi_subdevice *s)
+static int parport_intr_cancel(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	printk(KERN_DEBUG "parport_intr_cancel()\n");
 
@@ -277,7 +277,7 @@ static int parport_intr_cancel(struct co
 static irqreturn_t parport_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev->subdevices + 3;
+	struct comedi_subdevice *s = dev->subdevices + 3;
 
 	if (!devpriv->enable_irq) {
 		printk(KERN_ERR "comedi_parport: bogus irq, ignored\n");
@@ -296,7 +296,7 @@ static int parport_attach(struct comedi_
 	int ret;
 	unsigned int irq;
 	unsigned long iobase;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	iobase = it->options[0];
 	printk(KERN_INFO "comedi%d: parport: 0x%04lx ", dev->minor, iobase);
--- a/drivers/staging/comedi/drivers/comedi_rt_timer.c
+++ b/drivers/staging/comedi/drivers/comedi_rt_timer.c
@@ -124,9 +124,9 @@ static inline RTIME nano2count(long long
 
 static int timer_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int timer_detach(struct comedi_device * dev);
-static int timer_inttrig(struct comedi_device * dev, comedi_subdevice * s,
+static int timer_inttrig(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trig_num);
-static int timer_start_cmd(struct comedi_device * dev, comedi_subdevice * s);
+static int timer_start_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
 
 static comedi_driver driver_timer = {
       module:THIS_MODULE,
@@ -162,7 +162,7 @@ typedef struct {
 } timer_private;
 #define devpriv ((timer_private *)dev->private)
 
-static int timer_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int timer_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	devpriv->stop = 1;
 
@@ -209,7 +209,7 @@ inline static int check_conversion_timin
 static int timer_data_read(struct comedi_device * dev, comedi_cmd * cmd,
 	unsigned int index)
 {
-	comedi_subdevice *s = dev->read_subdev;
+	struct comedi_subdevice *s = dev->read_subdev;
 	int ret;
 	unsigned int data;
 
@@ -234,7 +234,7 @@ static int timer_data_read(struct comedi
 static int timer_data_write(struct comedi_device * dev, comedi_cmd * cmd,
 	unsigned int index)
 {
-	comedi_subdevice *s = dev->write_subdev;
+	struct comedi_subdevice *s = dev->write_subdev;
 	unsigned int num_bytes;
 	short data;
 	unsigned int long_data;
@@ -269,7 +269,7 @@ static int timer_data_write(struct comed
 static int timer_dio_read(struct comedi_device * dev, comedi_cmd * cmd,
 	unsigned int index)
 {
-	comedi_subdevice *s = dev->read_subdev;
+	struct comedi_subdevice *s = dev->read_subdev;
 	int ret;
 	unsigned int data;
 
@@ -291,7 +291,7 @@ static int timer_dio_read(struct comedi_
 static void scan_task_func(comedi_rt_task_context_t d)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev->subdevices + 0;
+	struct comedi_subdevice *s = dev->subdevices + 0;
 	comedi_async *async = s->async;
 	comedi_cmd *cmd = &async->cmd;
 	int i, ret;
@@ -361,7 +361,7 @@ static void scan_task_func(comedi_rt_tas
 static void timer_task_func(comedi_rt_task_context_t d)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev->subdevices + 0;
+	struct comedi_subdevice *s = dev->subdevices + 0;
 	comedi_cmd *cmd = &s->async->cmd;
 	int ret;
 	unsigned long long n;
@@ -396,7 +396,7 @@ static void timer_task_func(comedi_rt_ta
 	}
 }
 
-static int timer_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int timer_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	comedi_insn xinsn = *insn;
@@ -444,7 +444,7 @@ static int cmdtest_helper(comedi_cmd * c
 	return err;
 }
 
-static int timer_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int timer_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -516,7 +516,7 @@ static int timer_cmdtest(struct comedi_d
 	return 0;
 }
 
-static int timer_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int timer_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int ret;
 	comedi_cmd *cmd = &s->async->cmd;
@@ -567,7 +567,7 @@ static int timer_cmd(struct comedi_devic
 	return 0;
 }
 
-static int timer_inttrig(struct comedi_device * dev, comedi_subdevice * s,
+static int timer_inttrig(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trig_num)
 {
 	if (trig_num != 0)
@@ -578,7 +578,7 @@ static int timer_inttrig(struct comedi_d
 	return timer_start_cmd(dev, s);
 }
 
-static int timer_start_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int timer_start_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_async *async = s->async;
 	comedi_cmd *cmd = &async->cmd;
@@ -610,7 +610,7 @@ static int timer_start_cmd(struct comedi
 static int timer_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int ret;
-	comedi_subdevice *s, *emul_s;
+	struct comedi_subdevice *s, *emul_s;
 	struct comedi_device *emul_dev;
 	/* These should probably be devconfig options[] */
 	const int timer_priority = 4;
--- a/drivers/staging/comedi/drivers/comedi_test.c
+++ b/drivers/staging/comedi/drivers/comedi_test.c
@@ -107,13 +107,13 @@ static comedi_driver driver_waveform = {
 
 COMEDI_INITCLEANUP(driver_waveform);
 
-static int waveform_ai_cmdtest(struct comedi_device *dev, comedi_subdevice *s,
+static int waveform_ai_cmdtest(struct comedi_device *dev, struct comedi_subdevice *s,
 			       comedi_cmd *cmd);
-static int waveform_ai_cmd(struct comedi_device *dev, comedi_subdevice *s);
-static int waveform_ai_cancel(struct comedi_device *dev, comedi_subdevice *s);
-static int waveform_ai_insn_read(struct comedi_device *dev, comedi_subdevice *s,
+static int waveform_ai_cmd(struct comedi_device *dev, struct comedi_subdevice *s);
+static int waveform_ai_cancel(struct comedi_device *dev, struct comedi_subdevice *s);
+static int waveform_ai_insn_read(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data);
-static int waveform_ao_insn_write(struct comedi_device *dev, comedi_subdevice *s,
+static int waveform_ao_insn_write(struct comedi_device *dev, struct comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data);
 static short fake_sawtooth(struct comedi_device *dev, unsigned int range,
 			     unsigned long current_time);
@@ -194,7 +194,7 @@ static void waveform_ai_interrupt(unsign
 
 static int waveform_attach(struct comedi_device *dev, comedi_devconfig *it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int amplitude = it->options[0];
 	int period = it->options[1];
 	int i;
@@ -269,7 +269,7 @@ static int waveform_detach(struct comedi
 	return 0;
 }
 
-static int waveform_ai_cmdtest(struct comedi_device *dev, comedi_subdevice *s,
+static int waveform_ai_cmdtest(struct comedi_device *dev, struct comedi_subdevice *s,
 			       comedi_cmd *cmd)
 {
 	int err = 0;
@@ -397,7 +397,7 @@ static int waveform_ai_cmdtest(struct co
 	return 0;
 }
 
-static int waveform_ai_cmd(struct comedi_device *dev, comedi_subdevice *s)
+static int waveform_ai_cmd(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	comedi_cmd *cmd = &s->async->cmd;
 
@@ -429,7 +429,7 @@ static int waveform_ai_cmd(struct comedi
 	return 0;
 }
 
-static int waveform_ai_cancel(struct comedi_device *dev, comedi_subdevice *s)
+static int waveform_ai_cancel(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	devpriv->timer_running = 0;
 	del_timer(&devpriv->timer);
@@ -439,7 +439,7 @@ static int waveform_ai_cancel(struct com
 static short fake_sawtooth(struct comedi_device *dev, unsigned int range_index,
 			     unsigned long current_time)
 {
-	comedi_subdevice *s = dev->read_subdev;
+	struct comedi_subdevice *s = dev->read_subdev;
 	unsigned int offset = s->maxdata / 2;
 	u64 value;
 	const comedi_krange *krange = &s->range_table->range[range_index];
@@ -460,7 +460,7 @@ static short fake_sawtooth(struct comedi
 static short fake_squarewave(struct comedi_device *dev, unsigned int range_index,
 			       unsigned long current_time)
 {
-	comedi_subdevice *s = dev->read_subdev;
+	struct comedi_subdevice *s = dev->read_subdev;
 	unsigned int offset = s->maxdata / 2;
 	u64 value;
 	const comedi_krange *krange = &s->range_table->range[range_index];
@@ -504,7 +504,7 @@ static short fake_waveform(struct comedi
 	return fake_flatline(dev, range, current_time);
 }
 
-static int waveform_ai_insn_read(struct comedi_device *dev, comedi_subdevice *s,
+static int waveform_ai_insn_read(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data)
 {
 	int i, chan = CR_CHAN(insn->chanspec);
@@ -515,7 +515,7 @@ static int waveform_ai_insn_read(struct 
 	return insn->n;
 }
 
-static int waveform_ao_insn_write(struct comedi_device *dev, comedi_subdevice *s,
+static int waveform_ao_insn_write(struct comedi_device *dev, struct comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data)
 {
 	int i, chan = CR_CHAN(insn->chanspec);
--- a/drivers/staging/comedi/drivers/contec_pci_dio.c
+++ b/drivers/staging/comedi/drivers/contec_pci_dio.c
@@ -85,13 +85,13 @@ static comedi_driver driver_contec = {
 };
 
 /* Classic digital IO */
-static int contec_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int contec_di_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int contec_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int contec_do_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 #if 0
-static int contec_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int contec_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
 
 static int contec_ns_to_timer(unsigned int *ns, int round);
@@ -100,7 +100,7 @@ static int contec_ns_to_timer(unsigned i
 static int contec_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	struct pci_dev *pcidev;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	printk("comedi%d: contec: ", dev->minor);
 
@@ -179,7 +179,7 @@ static int contec_detach(struct comedi_d
 }
 
 #if 0
-static int contec_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int contec_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	printk("contec_cmdtest called\n");
@@ -192,7 +192,7 @@ static int contec_ns_to_timer(unsigned i
 }
 #endif
 
-static int contec_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int contec_do_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -212,7 +212,7 @@ static int contec_do_insn_bits(struct co
 	return 2;
 }
 
-static int contec_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int contec_di_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
--- a/drivers/staging/comedi/drivers/daqboard2000.c
+++ b/drivers/staging/comedi/drivers/daqboard2000.c
@@ -393,7 +393,7 @@ static void setup_sampling(struct comedi
 	writeAcqScanListEntry(dev, word3);
 }
 
-static int daqboard2000_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int daqboard2000_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -450,7 +450,7 @@ static int daqboard2000_ai_insn_read(str
 	return i;
 }
 
-static int daqboard2000_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int daqboard2000_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -463,7 +463,7 @@ static int daqboard2000_ao_insn_read(str
 	return i;
 }
 
-static int daqboard2000_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int daqboard2000_ao_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -720,7 +720,7 @@ static int daqboard2000_8255_cb(int dir,
 static int daqboard2000_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int result = 0;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	struct pci_dev *card = NULL;
 	void *aux_data;
 	unsigned int aux_len;
--- a/drivers/staging/comedi/drivers/das08.c
+++ b/drivers/staging/comedi/drivers/das08.c
@@ -154,19 +154,19 @@ driver.
 
 /* gainlist same as _pgx_ below */
 
-static int das08_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das08_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das08_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das08_di_rbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das08_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das08_do_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das08jr_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das08jr_di_rbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das08jr_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das08jr_do_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das08jr_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das08jr_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das08ao_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das08ao_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 static void i8254_set_mode_low(unsigned int base, int channel,
 	unsigned int mode);
@@ -512,7 +512,7 @@ MODULE_DEVICE_TABLE(pci, das08_pci_table
 
 #define TIMEOUT 100000
 
-static int das08_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das08_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
@@ -579,7 +579,7 @@ static int das08_ai_rinsn(struct comedi_
 	return n;
 }
 
-static int das08_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das08_di_rbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = 0;
@@ -588,7 +588,7 @@ static int das08_di_rbits(struct comedi_
 	return 2;
 }
 
-static int das08_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das08_do_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int wbits;
@@ -611,7 +611,7 @@ static int das08_do_wbits(struct comedi_
 	return 2;
 }
 
-static int das08jr_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das08jr_di_rbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = 0;
@@ -620,7 +620,7 @@ static int das08jr_di_rbits(struct comed
 	return 2;
 }
 
-static int das08jr_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das08jr_do_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	// null bits we are going to set
@@ -634,7 +634,7 @@ static int das08jr_do_wbits(struct comed
 	return 2;
 }
 
-static int das08jr_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das08jr_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -668,7 +668,7 @@ static int das08jr_ao_winsn(struct comed
  * a different method to force an update.
  *
  */
-static int das08ao_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das08ao_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -782,7 +782,7 @@ static unsigned int i8254_read_status(st
 	return i8254_read_status_low(st->iobase, chan);
 }
 
-static int das08_counter_read(struct comedi_device * dev, comedi_subdevice * s,
+static int das08_counter_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = insn->chanspec;
@@ -794,7 +794,7 @@ static int das08_counter_read(struct com
 	return 1;
 }
 
-static int das08_counter_write(struct comedi_device * dev, comedi_subdevice * s,
+static int das08_counter_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = insn->chanspec;
@@ -805,7 +805,7 @@ static int das08_counter_write(struct co
 	return 1;
 }
 
-static int das08_counter_config(struct comedi_device * dev, comedi_subdevice * s,
+static int das08_counter_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = insn->chanspec;
@@ -842,7 +842,7 @@ static comedi_driver driver_das08 = {
 
 int das08_common_attach(struct comedi_device * dev, unsigned long iobase)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret;
 
 	// allocate ioports for non-pcmcia, non-pci boards
--- a/drivers/staging/comedi/drivers/das16.c
+++ b/drivers/staging/comedi/drivers/das16.c
@@ -326,20 +326,20 @@ struct munge_info {
 	unsigned have_byte:1;
 };
 
-static int das16_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das16_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das16_do_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das16_di_rbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das16_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int das16_cmd_test(struct comedi_device * dev, comedi_subdevice * s,
+static int das16_cmd_test(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int das16_cmd_exec(struct comedi_device * dev, comedi_subdevice * s);
-static int das16_cancel(struct comedi_device * dev, comedi_subdevice * s);
-static void das16_ai_munge(struct comedi_device * dev, comedi_subdevice * s,
+static int das16_cmd_exec(struct comedi_device * dev, struct comedi_subdevice * s);
+static int das16_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
+static void das16_ai_munge(struct comedi_device * dev, struct comedi_subdevice * s,
 	void *array, unsigned int num_bytes, unsigned int start_chan_index);
 
 static void das16_reset(struct comedi_device * dev);
@@ -742,7 +742,7 @@ struct das16_private_struct {
 #define devpriv ((struct das16_private_struct *)(dev->private))
 #define thisboard ((struct das16_board_struct *)(dev->board_ptr))
 
-static int das16_cmd_test(struct comedi_device * dev, comedi_subdevice * s,
+static int das16_cmd_test(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0, tmp;
@@ -893,7 +893,7 @@ static int das16_cmd_test(struct comedi_
 	return 0;
 }
 
-static int das16_cmd_exec(struct comedi_device * dev, comedi_subdevice * s)
+static int das16_cmd_exec(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_async *async = s->async;
 	comedi_cmd *cmd = &async->cmd;
@@ -996,7 +996,7 @@ static int das16_cmd_exec(struct comedi_
 	return 0;
 }
 
-static int das16_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int das16_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long flags;
 
@@ -1031,7 +1031,7 @@ static void das16_reset(struct comedi_de
 	outb(0, dev->iobase + DAS16_CNTR_CONTROL);
 }
 
-static int das16_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das16_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
@@ -1079,7 +1079,7 @@ static int das16_ai_rinsn(struct comedi_
 	return n;
 }
 
-static int das16_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das16_di_rbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int bits;
@@ -1091,7 +1091,7 @@ static int das16_di_rbits(struct comedi_
 	return 2;
 }
 
-static int das16_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das16_do_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int wbits;
@@ -1111,7 +1111,7 @@ static int das16_do_wbits(struct comedi_
 	return 2;
 }
 
-static int das16_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das16_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -1200,7 +1200,7 @@ static int disable_dma_on_even(struct co
 static void das16_interrupt(struct comedi_device * dev)
 {
 	unsigned long dma_flags, spin_flags;
-	comedi_subdevice *s = dev->read_subdev;
+	struct comedi_subdevice *s = dev->read_subdev;
 	comedi_async *async;
 	comedi_cmd *cmd;
 	int num_bytes, residue;
@@ -1368,7 +1368,7 @@ static int das1600_mode_detect(struct co
 
 static int das16_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret;
 	unsigned int irq;
 	unsigned long iobase;
@@ -1715,7 +1715,7 @@ static unsigned int das16_suggest_transf
 	return size;
 }
 
-static void das16_ai_munge(struct comedi_device * dev, comedi_subdevice * s,
+static void das16_ai_munge(struct comedi_device * dev, struct comedi_subdevice * s,
 	void *array, unsigned int num_bytes, unsigned int start_chan_index)
 {
 	unsigned int i, num_samples = num_bytes / sizeof(short);
--- a/drivers/staging/comedi/drivers/das16m1.c
+++ b/drivers/staging/comedi/drivers/das16m1.c
@@ -131,19 +131,19 @@ static const comedi_lrange range_das16m1
 		}
 };
 
-static int das16m1_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das16m1_do_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16m1_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das16m1_di_rbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das16m1_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das16m1_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int das16m1_cmd_test(struct comedi_device * dev, comedi_subdevice * s,
+static int das16m1_cmd_test(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int das16m1_cmd_exec(struct comedi_device * dev, comedi_subdevice * s);
-static int das16m1_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int das16m1_cmd_exec(struct comedi_device * dev, struct comedi_subdevice * s);
+static int das16m1_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 
-static int das16m1_poll(struct comedi_device * dev, comedi_subdevice * s);
+static int das16m1_poll(struct comedi_device * dev, struct comedi_subdevice * s);
 static irqreturn_t das16m1_interrupt(int irq, void *d PT_REGS_ARG);
 static void das16m1_handler(struct comedi_device * dev, unsigned int status);
 
@@ -200,7 +200,7 @@ static inline short munge_sample(short d
 	return (data >> 4) & 0xfff;
 }
 
-static int das16m1_cmd_test(struct comedi_device * dev, comedi_subdevice * s,
+static int das16m1_cmd_test(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	unsigned int err = 0, tmp, i;
@@ -322,7 +322,7 @@ static int das16m1_cmd_test(struct comed
 	return 0;
 }
 
-static int das16m1_cmd_exec(struct comedi_device * dev, comedi_subdevice * s)
+static int das16m1_cmd_exec(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_async *async = s->async;
 	comedi_cmd *cmd = &async->cmd;
@@ -385,7 +385,7 @@ static int das16m1_cmd_exec(struct comed
 	return 0;
 }
 
-static int das16m1_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int das16m1_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	devpriv->control_state &= ~INTE & ~PACER_MASK;
 	outb(devpriv->control_state, dev->iobase + DAS16M1_INTR_CONTROL);
@@ -393,7 +393,7 @@ static int das16m1_cancel(struct comedi_
 	return 0;
 }
 
-static int das16m1_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das16m1_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
@@ -430,7 +430,7 @@ static int das16m1_ai_rinsn(struct comed
 	return n;
 }
 
-static int das16m1_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das16m1_di_rbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int bits;
@@ -442,7 +442,7 @@ static int das16m1_di_rbits(struct comed
 	return 2;
 }
 
-static int das16m1_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das16m1_do_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int wbits;
@@ -462,7 +462,7 @@ static int das16m1_do_wbits(struct comed
 	return 2;
 }
 
-static int das16m1_poll(struct comedi_device * dev, comedi_subdevice * s)
+static int das16m1_poll(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long flags;
 	unsigned int status;
@@ -516,7 +516,7 @@ static void munge_sample_array(short * a
 
 static void das16m1_handler(struct comedi_device * dev, unsigned int status)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	comedi_async *async;
 	comedi_cmd *cmd;
 	u16 num_samples;
@@ -637,7 +637,7 @@ static int das16m1_irq_bits(unsigned int
 
 static int das16m1_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret;
 	unsigned int irq;
 	unsigned long iobase;
--- a/drivers/staging/comedi/drivers/das1800.c
+++ b/drivers/staging/comedi/drivers/das1800.c
@@ -183,29 +183,29 @@ enum {
 static int das1800_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int das1800_detach(struct comedi_device * dev);
 static int das1800_probe(struct comedi_device * dev);
-static int das1800_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int das1800_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 static irqreturn_t das1800_interrupt(int irq, void *d PT_REGS_ARG);
-static int das1800_ai_poll(struct comedi_device * dev, comedi_subdevice * s);
+static int das1800_ai_poll(struct comedi_device * dev, struct comedi_subdevice * s);
 static void das1800_ai_handler(struct comedi_device * dev);
-static void das1800_handle_dma(struct comedi_device * dev, comedi_subdevice * s,
+static void das1800_handle_dma(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int status);
-static void das1800_flush_dma(struct comedi_device * dev, comedi_subdevice * s);
-static void das1800_flush_dma_channel(struct comedi_device * dev, comedi_subdevice * s,
+static void das1800_flush_dma(struct comedi_device * dev, struct comedi_subdevice * s);
+static void das1800_flush_dma_channel(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int channel, uint16_t * buffer);
 static void das1800_handle_fifo_half_full(struct comedi_device * dev,
-	comedi_subdevice * s);
+	struct comedi_subdevice * s);
 static void das1800_handle_fifo_not_empty(struct comedi_device * dev,
-	comedi_subdevice * s);
-static int das1800_ai_do_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+	struct comedi_subdevice * s);
+static int das1800_ai_do_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int das1800_ai_do_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int das1800_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das1800_ai_do_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int das1800_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das1800_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das1800_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das1800_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das1800_di_rbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das1800_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das1800_do_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 static int das1800_set_frequency(struct comedi_device * dev);
@@ -592,7 +592,7 @@ static int das1800_init_dma(struct comed
 
 static int das1800_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase = it->options[0];
 	unsigned int irq = it->options[1];
 	unsigned int dma0 = it->options[2];
@@ -867,7 +867,7 @@ static int das1800_probe(struct comedi_d
 	return -1;
 }
 
-static int das1800_ai_poll(struct comedi_device * dev, comedi_subdevice * s)
+static int das1800_ai_poll(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long flags;
 
@@ -911,7 +911,7 @@ static irqreturn_t das1800_interrupt(int
 // the guts of the interrupt handler, that is shared with das1800_ai_poll
 static void das1800_ai_handler(struct comedi_device * dev)
 {
-	comedi_subdevice *s = dev->subdevices + 0;	/* analog input subdevice */
+	struct comedi_subdevice *s = dev->subdevices + 0;	/* analog input subdevice */
 	comedi_async *async = s->async;
 	comedi_cmd *cmd = &async->cmd;
 	unsigned int status = inb(dev->iobase + DAS1800_STATUS);
@@ -962,7 +962,7 @@ static void das1800_ai_handler(struct co
 	return;
 }
 
-static void das1800_handle_dma(struct comedi_device * dev, comedi_subdevice * s,
+static void das1800_handle_dma(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int status)
 {
 	unsigned long flags;
@@ -1023,7 +1023,7 @@ static void munge_data(struct comedi_dev
 
 /* Utility function used by das1800_flush_dma() and das1800_handle_dma().
  * Assumes dma lock is held */
-static void das1800_flush_dma_channel(struct comedi_device * dev, comedi_subdevice * s,
+static void das1800_flush_dma_channel(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int channel, uint16_t * buffer)
 {
 	unsigned int num_bytes, num_samples;
@@ -1053,7 +1053,7 @@ static void das1800_flush_dma_channel(st
 
 /* flushes remaining data from board when external trigger has stopped aquisition
  * and we are using dma transfers */
-static void das1800_flush_dma(struct comedi_device * dev, comedi_subdevice * s)
+static void das1800_flush_dma(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long flags;
 	const int dual_dma = devpriv->irq_dma_bits & DMA_DUAL;
@@ -1084,7 +1084,7 @@ static void das1800_flush_dma(struct com
 }
 
 static void das1800_handle_fifo_half_full(struct comedi_device * dev,
-	comedi_subdevice * s)
+	struct comedi_subdevice * s)
 {
 	int numPoints = 0;	/* number of points to read */
 	comedi_cmd *cmd = &s->async->cmd;
@@ -1103,7 +1103,7 @@ static void das1800_handle_fifo_half_ful
 }
 
 static void das1800_handle_fifo_not_empty(struct comedi_device * dev,
-	comedi_subdevice * s)
+	struct comedi_subdevice * s)
 {
 	short dpnt;
 	int unipolar;
@@ -1126,7 +1126,7 @@ static void das1800_handle_fifo_not_empt
 	return;
 }
 
-static int das1800_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int das1800_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	outb(0x0, dev->iobase + DAS1800_STATUS);	/* disable conversions */
 	outb(0x0, dev->iobase + DAS1800_CONTROL_B);	/* disable interrupts and dma */
@@ -1139,7 +1139,7 @@ static int das1800_cancel(struct comedi_
 }
 
 /* test analog input cmd */
-static int das1800_ai_do_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int das1800_ai_do_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -1489,7 +1489,7 @@ static void program_chanlist(struct come
 }
 
 // analog input do_cmd
-static int das1800_ai_do_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int das1800_ai_do_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int ret;
 	int control_a, control_c;
@@ -1552,7 +1552,7 @@ static int das1800_ai_do_cmd(struct come
 }
 
 /* read analog input */
-static int das1800_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das1800_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
@@ -1612,7 +1612,7 @@ static int das1800_ai_rinsn(struct comed
 }
 
 /* writes to an analog output channel */
-static int das1800_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das1800_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn->chanspec);
@@ -1641,7 +1641,7 @@ static int das1800_ao_winsn(struct comed
 }
 
 /* reads from digital input channels */
-static int das1800_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das1800_di_rbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -1652,7 +1652,7 @@ static int das1800_di_rbits(struct comed
 }
 
 /* writes to digital output channels */
-static int das1800_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das1800_do_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int wbits;
--- a/drivers/staging/comedi/drivers/das6402.c
+++ b/drivers/staging/comedi/drivers/das6402.c
@@ -116,7 +116,7 @@ typedef struct {
 } das6402_private;
 #define devpriv ((das6402_private *)dev->private)
 
-static void das6402_ai_fifo_dregs(struct comedi_device * dev, comedi_subdevice * s);
+static void das6402_ai_fifo_dregs(struct comedi_device * dev, struct comedi_subdevice * s);
 
 static void das6402_setcounter(struct comedi_device * dev)
 {
@@ -154,7 +154,7 @@ static void das6402_setcounter(struct co
 static irqreturn_t intr_handler(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev->subdevices;
+	struct comedi_subdevice *s = dev->subdevices;
 
 	if (!dev->attached || devpriv->das6402_ignoreirq) {
 		printk("das6402: BUG: spurious interrupt\n");
@@ -195,7 +195,7 @@ static void das6402_ai_fifo_read(struct 
 }
 #endif
 
-static void das6402_ai_fifo_dregs(struct comedi_device * dev, comedi_subdevice * s)
+static void das6402_ai_fifo_dregs(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	while (1) {
 		if (!(inb(dev->iobase + 8) & 0x01))
@@ -204,7 +204,7 @@ static void das6402_ai_fifo_dregs(struct
 	}
 }
 
-static int das6402_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int das6402_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	/*
 	 *  This function should reset the board from whatever condition it
@@ -226,7 +226,7 @@ static int das6402_ai_cancel(struct come
 }
 
 #ifdef unused
-static int das6402_ai_mode2(struct comedi_device * dev, comedi_subdevice * s,
+static int das6402_ai_mode2(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_trig * it)
 {
 	devpriv->das6402_ignoreirq = 1;
@@ -304,7 +304,7 @@ static int das6402_attach(struct comedi_
 	unsigned int irq;
 	unsigned long iobase;
 	int ret;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	dev->board_name = "das6402";
 
--- a/drivers/staging/comedi/drivers/das800.c
+++ b/drivers/staging/comedi/drivers/das800.c
@@ -244,7 +244,7 @@ typedef struct {
 
 static int das800_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int das800_detach(struct comedi_device * dev);
-static int das800_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int das800_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 
 static comedi_driver driver_das800 = {
       driver_name:"das800",
@@ -259,14 +259,14 @@ static comedi_driver driver_das800 = {
 static irqreturn_t das800_interrupt(int irq, void *d PT_REGS_ARG);
 static void enable_das800(struct comedi_device * dev);
 static void disable_das800(struct comedi_device * dev);
-static int das800_ai_do_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int das800_ai_do_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int das800_ai_do_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int das800_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das800_ai_do_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int das800_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das800_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das800_di_rbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int das800_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das800_do_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 static int das800_probe(struct comedi_device * dev);
 static int das800_set_frequency(struct comedi_device * dev);
@@ -348,7 +348,7 @@ static irqreturn_t das800_interrupt(int 
 	short i;		/* loop index */
 	short dataPoint = 0;
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev->read_subdev;	/* analog input subdevice */
+	struct comedi_subdevice *s = dev->read_subdev;	/* analog input subdevice */
 	comedi_async *async;
 	int status;
 	unsigned long irq_flags;
@@ -443,7 +443,7 @@ static irqreturn_t das800_interrupt(int 
 
 static int das800_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase = it->options[0];
 	unsigned int irq = it->options[1];
 	unsigned long irq_flags;
@@ -551,7 +551,7 @@ static int das800_detach(struct comedi_d
 	return 0;
 };
 
-static int das800_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int das800_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	devpriv->forever = 0;
 	devpriv->count = 0;
@@ -584,7 +584,7 @@ static void disable_das800(struct comedi
 	comedi_spin_unlock_irqrestore(&dev->spinlock, irq_flags);
 }
 
-static int das800_ai_do_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int das800_ai_do_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -709,7 +709,7 @@ static int das800_ai_do_cmdtest(struct c
 	return 0;
 }
 
-static int das800_ai_do_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int das800_ai_do_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int startChan, endChan, scan, gain;
 	int conv_bits;
@@ -788,7 +788,7 @@ static int das800_ai_do_cmd(struct comed
 	return 0;
 }
 
-static int das800_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int das800_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
@@ -842,7 +842,7 @@ static int das800_ai_rinsn(struct comedi
 	return n;
 }
 
-static int das800_di_rbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das800_di_rbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int bits;
@@ -855,7 +855,7 @@ static int das800_di_rbits(struct comedi
 	return 2;
 }
 
-static int das800_do_wbits(struct comedi_device * dev, comedi_subdevice * s,
+static int das800_do_wbits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int wbits;
--- a/drivers/staging/comedi/drivers/dmm32at.c
+++ b/drivers/staging/comedi/drivers/dmm32at.c
@@ -289,20 +289,20 @@ static comedi_driver driver_dmm32at = {
 };
 
 /* prototypes for driver functions below */
-static int dmm32at_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dmm32at_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dmm32at_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dmm32at_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dmm32at_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dmm32at_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int dmm32at_ai_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int dmm32at_ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int dmm32at_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int dmm32at_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 static int dmm32at_ns_to_timer(unsigned int *ns, int round);
 static irqreturn_t dmm32at_isr(int irq, void *d PT_REGS_ARG);
 void dmm32at_setaitimer(struct comedi_device * dev, unsigned int nansec);
@@ -316,7 +316,7 @@ void dmm32at_setaitimer(struct comedi_de
 static int dmm32at_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int ret;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned char aihi, ailo, fifostat, aistat, intstat, airback;
 	unsigned long iobase;
 	unsigned int irq;
@@ -497,7 +497,7 @@ static int dmm32at_detach(struct comedi_
  * mode.
  */
 
-static int dmm32at_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, i;
@@ -568,7 +568,7 @@ static int dmm32at_ai_rinsn(struct comed
 	return n;
 }
 
-static int dmm32at_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -752,7 +752,7 @@ static int dmm32at_ai_cmdtest(struct com
 	return 0;
 }
 
-static int dmm32at_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int dmm32at_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &s->async->cmd;
 	int i, range;
@@ -822,7 +822,7 @@ static int dmm32at_ai_cmd(struct comedi_
 
 }
 
-static int dmm32at_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int dmm32at_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	devpriv->ai_scans_left = 1;
 	return 0;
@@ -844,7 +844,7 @@ static irqreturn_t dmm32at_isr(int irq, 
 	intstat = dmm_inb(dev, DMM32AT_INTCLOCK);
 
 	if (intstat & DMM32AT_ADINT) {
-		comedi_subdevice *s = dev->read_subdev;
+		struct comedi_subdevice *s = dev->read_subdev;
 		comedi_cmd *cmd = &s->async->cmd;
 
 		for (i = 0; i < cmd->chanlist_len; i++) {
@@ -893,7 +893,7 @@ static int dmm32at_ns_to_timer(unsigned 
 	return *ns;
 }
 
-static int dmm32at_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -936,7 +936,7 @@ static int dmm32at_ao_winsn(struct comed
 
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
-static int dmm32at_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -953,7 +953,7 @@ static int dmm32at_ao_rinsn(struct comed
  * useful to applications if you implement the insn_bits interface.
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
-static int dmm32at_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned char diobits;
@@ -1006,7 +1006,7 @@ static int dmm32at_dio_insn_bits(struct 
 	return 2;
 }
 
-static int dmm32at_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int dmm32at_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned char chanbit;
--- a/drivers/staging/comedi/drivers/dt2801.c
+++ b/drivers/staging/comedi/drivers/dt2801.c
@@ -224,15 +224,15 @@ typedef struct {
 } dt2801_private;
 #define devpriv ((dt2801_private *)dev->private)
 
-static int dt2801_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2801_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dt2801_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2801_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dt2801_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2801_ao_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dt2801_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2801_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dt2801_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2801_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 /* These are the low-level routines:
@@ -480,7 +480,7 @@ static const comedi_lrange *ai_range_lku
 */
 static int dt2801_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase;
 	int board_code, type;
 	int ret = 0;
@@ -605,7 +605,7 @@ static int dt2801_error(struct comedi_de
 	return -EIO;
 }
 
-static int dt2801_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2801_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int d;
@@ -627,7 +627,7 @@ static int dt2801_ai_insn_read(struct co
 	return i;
 }
 
-static int dt2801_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2801_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv->ao_readback[CR_CHAN(insn->chanspec)];
@@ -635,7 +635,7 @@ static int dt2801_ao_insn_read(struct co
 	return 1;
 }
 
-static int dt2801_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2801_ao_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	dt2801_writecmd(dev, DT_C_WRITE_DAIM);
@@ -647,7 +647,7 @@ static int dt2801_ao_insn_write(struct c
 	return 1;
 }
 
-static int dt2801_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2801_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int which = 0;
@@ -671,7 +671,7 @@ static int dt2801_dio_insn_bits(struct c
 	return 2;
 }
 
-static int dt2801_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2801_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int which = 0;
--- a/drivers/staging/comedi/drivers/dt2811.c
+++ b/drivers/staging/comedi/drivers/dt2811.c
@@ -226,15 +226,15 @@ static comedi_driver driver_dt2811 = {
 
 COMEDI_INITCLEANUP(driver_dt2811);
 
-static int dt2811_ai_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2811_ai_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dt2811_ao_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2811_ao_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dt2811_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2811_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dt2811_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2811_di_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int dt2811_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2811_do_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 enum { card_2811_pgh, card_2811_pgl };
@@ -314,7 +314,7 @@ static int dt2811_attach(struct comedi_d
 	//unsigned long irqs;
 	//long flags;
 	int ret;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase;
 
 	iobase = it->options[0];
@@ -490,7 +490,7 @@ static int dt2811_detach(struct comedi_d
 	return 0;
 }
 
-static int dt2811_ai_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2811_ai_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn->chanspec);
@@ -541,7 +541,7 @@ int dt2811_adtrig(kdev_t minor, comedi_a
 }
 #endif
 
-static int dt2811_ao_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2811_ao_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -559,7 +559,7 @@ static int dt2811_ao_insn(struct comedi_
 	return i;
 }
 
-static int dt2811_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2811_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -574,7 +574,7 @@ static int dt2811_ao_insn_read(struct co
 	return i;
 }
 
-static int dt2811_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2811_di_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -585,7 +585,7 @@ static int dt2811_di_insn_bits(struct co
 	return 2;
 }
 
-static int dt2811_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2811_do_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
--- a/drivers/staging/comedi/drivers/dt2814.c
+++ b/drivers/staging/comedi/drivers/dt2814.c
@@ -81,7 +81,7 @@ typedef struct {
 #define DT2814_TIMEOUT 10
 #define DT2814_MAX_SPEED 100000	/* Arbitrary 10 khz limit */
 
-static int dt2814_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2814_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, i, hi, lo;
@@ -132,7 +132,7 @@ static int dt2814_ns_to_timer(unsigned i
 	return i;
 }
 
-static int dt2814_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2814_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -224,7 +224,7 @@ static int dt2814_ai_cmdtest(struct come
 	return 0;
 }
 
-static int dt2814_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int dt2814_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &s->async->cmd;
 	int chan;
@@ -247,7 +247,7 @@ static int dt2814_attach(struct comedi_d
 {
 	int i, irq;
 	int ret;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase;
 
 	iobase = it->options[0];
@@ -345,7 +345,7 @@ static irqreturn_t dt2814_interrupt(int 
 {
 	int lo, hi;
 	struct comedi_device *dev = d;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int data;
 
 	if (!dev->attached) {
--- a/drivers/staging/comedi/drivers/dt2815.c
+++ b/drivers/staging/comedi/drivers/dt2815.c
@@ -106,7 +106,7 @@ static int dt2815_wait_for_status(struct
 	return status;
 }
 
-static int dt2815_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2815_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -119,7 +119,7 @@ static int dt2815_ao_insn_read(struct co
 	return i;
 }
 
-static int dt2815_ao_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2815_ao_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -179,7 +179,7 @@ static int dt2815_ao_insn(struct comedi_
 
 static int dt2815_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int i;
 	const comedi_lrange *current_range_type, *voltage_range_type;
 	unsigned long iobase;
--- a/drivers/staging/comedi/drivers/dt2817.c
+++ b/drivers/staging/comedi/drivers/dt2817.c
@@ -58,7 +58,7 @@ static comedi_driver driver_dt2817 = {
 
 COMEDI_INITCLEANUP(driver_dt2817);
 
-static int dt2817_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2817_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int mask;
@@ -96,7 +96,7 @@ static int dt2817_dio_insn_config(struct
 	return 1;
 }
 
-static int dt2817_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int dt2817_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int changed;
@@ -134,7 +134,7 @@ static int dt2817_dio_insn_bits(struct c
 static int dt2817_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int ret;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase;
 
 	iobase = it->options[0];
--- a/drivers/staging/comedi/drivers/dt282x.c
+++ b/drivers/staging/comedi/drivers/dt282x.c
@@ -411,8 +411,8 @@ COMEDI_INITCLEANUP(driver_dt282x);
 static void free_resources(struct comedi_device * dev);
 static int prep_ai_dma(struct comedi_device * dev, int chan, int size);
 static int prep_ao_dma(struct comedi_device * dev, int chan, int size);
-static int dt282x_ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
-static int dt282x_ao_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int dt282x_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
+static int dt282x_ao_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 static int dt282x_ns_to_timer(int *nanosec, int round_mode);
 static void dt282x_disable_dma(struct comedi_device * dev);
 
@@ -445,7 +445,7 @@ static void dt282x_ao_dma_interrupt(stru
 	void *ptr;
 	int size;
 	int i;
-	comedi_subdevice *s = dev->subdevices + 1;
+	struct comedi_subdevice *s = dev->subdevices + 1;
 
 	update_supcsr(DT2821_CLRDMADNE);
 
@@ -478,7 +478,7 @@ static void dt282x_ai_dma_interrupt(stru
 	int size;
 	int i;
 	int ret;
-	comedi_subdevice *s = dev->subdevices;
+	struct comedi_subdevice *s = dev->subdevices;
 
 	update_supcsr(DT2821_CLRDMADNE);
 
@@ -580,8 +580,8 @@ static int prep_ao_dma(struct comedi_dev
 static irqreturn_t dt282x_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s;
-	comedi_subdevice *s_ao;
+	struct comedi_subdevice *s;
+	struct comedi_subdevice *s_ao;
 	unsigned int supcsr, adcsr, dacsr;
 	int handled = 0;
 
@@ -674,7 +674,7 @@ static void dt282x_load_changain(struct 
  *      - preload multiplexer
  *      - trigger conversion and wait for it to finish
  */
-static int dt282x_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int dt282x_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -706,7 +706,7 @@ static int dt282x_ai_insn_read(struct co
 	return i;
 }
 
-static int dt282x_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int dt282x_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -818,7 +818,7 @@ static int dt282x_ai_cmdtest(struct come
 	return 0;
 }
 
-static int dt282x_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int dt282x_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &s->async->cmd;
 	int timer;
@@ -887,7 +887,7 @@ static void dt282x_disable_dma(struct co
 	}
 }
 
-static int dt282x_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int dt282x_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	dt282x_disable_dma(dev);
 
@@ -937,7 +937,7 @@ static int dt282x_ns_to_timer(int *nanos
  *      offset binary if necessary, loads the data into the DAC
  *      data register, and performs the conversion.
  */
-static int dt282x_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int dt282x_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv->ao[CR_CHAN(insn->chanspec)];
@@ -945,7 +945,7 @@ static int dt282x_ao_insn_read(struct co
 	return 1;
 }
 
-static int dt282x_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int dt282x_ao_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	short d;
@@ -978,7 +978,7 @@ static int dt282x_ao_insn_write(struct c
 	return 1;
 }
 
-static int dt282x_ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int dt282x_ao_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -1069,7 +1069,7 @@ static int dt282x_ao_cmdtest(struct come
 
 }
 
-static int dt282x_ao_inttrig(struct comedi_device * dev, comedi_subdevice * s,
+static int dt282x_ao_inttrig(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int x)
 {
 	int size;
@@ -1099,7 +1099,7 @@ static int dt282x_ao_inttrig(struct come
 	return 1;
 }
 
-static int dt282x_ao_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int dt282x_ao_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int timer;
 	comedi_cmd *cmd = &s->async->cmd;
@@ -1132,7 +1132,7 @@ static int dt282x_ao_cmd(struct comedi_d
 	return 0;
 }
 
-static int dt282x_ao_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int dt282x_ao_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	dt282x_disable_dma(dev);
 
@@ -1145,7 +1145,7 @@ static int dt282x_ao_cancel(struct comed
 	return 0;
 }
 
-static int dt282x_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int dt282x_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0]) {
@@ -1159,7 +1159,7 @@ static int dt282x_dio_insn_bits(struct c
 	return 2;
 }
 
-static int dt282x_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int dt282x_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int mask;
@@ -1244,7 +1244,7 @@ static int dt282x_attach(struct comedi_d
 {
 	int i, irq;
 	int ret;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase;
 
 	dev->board_name = this_board->name;
--- a/drivers/staging/comedi/drivers/dt3000.c
+++ b/drivers/staging/comedi/drivers/dt3000.c
@@ -282,10 +282,10 @@ static comedi_driver driver_dt3000 = {
 
 COMEDI_PCI_INITCLEANUP(driver_dt3000, dt3k_pci_table);
 
-static void dt3k_ai_empty_fifo(struct comedi_device * dev, comedi_subdevice * s);
+static void dt3k_ai_empty_fifo(struct comedi_device * dev, struct comedi_subdevice * s);
 static int dt3k_ns_to_timer(unsigned int timer_base, unsigned int *arg,
 	unsigned int round_mode);
-static int dt3k_ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int dt3k_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 #ifdef DEBUG
 static void debug_intr_flags(unsigned int flags);
 #endif
@@ -346,7 +346,7 @@ static int debug_n_ints = 0;
 static irqreturn_t dt3k_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned int status;
 
 	if (!dev->attached) {
@@ -396,7 +396,7 @@ static void debug_intr_flags(unsigned in
 }
 #endif
 
-static void dt3k_ai_empty_fifo(struct comedi_device * dev, comedi_subdevice * s)
+static void dt3k_ai_empty_fifo(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int front;
 	int rear;
@@ -425,7 +425,7 @@ static void dt3k_ai_empty_fifo(struct co
 	writew(rear, devpriv->io_addr + DPR_AD_Buf_Rear);
 }
 
-static int dt3k_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int dt3k_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -587,7 +587,7 @@ static int dt3k_ns_to_timer(unsigned int
 	return (prescale << 16) | (divider);
 }
 
-static int dt3k_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int dt3k_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &s->async->cmd;
 	int i;
@@ -655,7 +655,7 @@ static int dt3k_ai_cmd(struct comedi_dev
 	return 0;
 }
 
-static int dt3k_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int dt3k_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int ret;
 
@@ -667,7 +667,7 @@ static int dt3k_ai_cancel(struct comedi_
 	return 0;
 }
 
-static int dt3k_ai_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int dt3k_ai_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -685,7 +685,7 @@ static int dt3k_ai_insn(struct comedi_de
 	return i;
 }
 
-static int dt3k_ao_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int dt3k_ao_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -700,7 +700,7 @@ static int dt3k_ao_insn(struct comedi_de
 	return i;
 }
 
-static int dt3k_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int dt3k_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -729,7 +729,7 @@ static void dt3k_dio_config(struct comed
 	dt3k_send_cmd(dev, CMD_CONFIG);
 }
 
-static int dt3k_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int dt3k_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int mask;
@@ -760,7 +760,7 @@ static int dt3k_dio_insn_config(struct c
 	return insn->n;
 }
 
-static int dt3k_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int dt3k_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -776,7 +776,7 @@ static int dt3k_dio_insn_bits(struct com
 	return 2;
 }
 
-static int dt3k_mem_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int dt3k_mem_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int addr = CR_CHAN(insn->chanspec);
@@ -799,7 +799,7 @@ static int dt_pci_probe(struct comedi_de
 
 static int dt3000_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int bus, slot;
 	int ret = 0;
 
--- a/drivers/staging/comedi/drivers/dt9812.c
+++ b/drivers/staging/comedi/drivers/dt9812.c
@@ -897,7 +897,7 @@ static void dt9812_comedi_open(struct co
 	down(&devpriv->slot->mutex);
 	if (devpriv->slot->usb) {
 		/* We have an attached device, fill in current range info */
-		comedi_subdevice *s;
+		struct comedi_subdevice *s;
 
 		s = &dev->subdevices[0];
 		s->n_chan = 8;
@@ -940,7 +940,7 @@ static void dt9812_comedi_open(struct co
 	up(&devpriv->slot->mutex);
 }
 
-static int dt9812_di_rinsn(struct comedi_device *dev, comedi_subdevice *s,
+static int dt9812_di_rinsn(struct comedi_device *dev, struct comedi_subdevice *s,
 			   comedi_insn *insn, unsigned int *data)
 {
 	int n;
@@ -952,7 +952,7 @@ static int dt9812_di_rinsn(struct comedi
 	return n;
 }
 
-static int dt9812_do_winsn(struct comedi_device *dev, comedi_subdevice *s,
+static int dt9812_do_winsn(struct comedi_device *dev, struct comedi_subdevice *s,
 			   comedi_insn *insn, unsigned int *data)
 {
 	int n;
@@ -970,7 +970,7 @@ static int dt9812_do_winsn(struct comedi
 	return n;
 }
 
-static int dt9812_ai_rinsn(struct comedi_device *dev, comedi_subdevice *s,
+static int dt9812_ai_rinsn(struct comedi_device *dev, struct comedi_subdevice *s,
 			   comedi_insn *insn, unsigned int *data)
 {
 	int n;
@@ -985,7 +985,7 @@ static int dt9812_ai_rinsn(struct comedi
 	return n;
 }
 
-static int dt9812_ao_rinsn(struct comedi_device *dev, comedi_subdevice *s,
+static int dt9812_ao_rinsn(struct comedi_device *dev, struct comedi_subdevice *s,
 			   comedi_insn *insn, unsigned int *data)
 {
 	int n;
@@ -999,7 +999,7 @@ static int dt9812_ao_rinsn(struct comedi
 	return n;
 }
 
-static int dt9812_ao_winsn(struct comedi_device *dev, comedi_subdevice *s,
+static int dt9812_ao_winsn(struct comedi_device *dev, struct comedi_subdevice *s,
 			   comedi_insn *insn, unsigned int *data)
 {
 	int n;
@@ -1012,7 +1012,7 @@ static int dt9812_ao_winsn(struct comedi
 static int dt9812_attach(struct comedi_device *dev, comedi_devconfig *it)
 {
 	int i;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	dev->board_name = "dt9812";
 
--- a/drivers/staging/comedi/drivers/fl512.c
+++ b/drivers/staging/comedi/drivers/fl512.c
@@ -53,17 +53,17 @@ static comedi_driver driver_fl512 = {
 COMEDI_INITCLEANUP(driver_fl512);
 
 static int fl512_ai_insn(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 static int fl512_ao_insn(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 static int fl512_ao_insn_readback(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
 /*
  * fl512_ai_insn : this is the analog input function
  */
 static int fl512_ai_insn(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int n;
 	unsigned int lo_byte, hi_byte;
@@ -88,7 +88,7 @@ static int fl512_ai_insn(struct comedi_d
  * fl512_ao_insn : used to write to a DA port n times
  */
 static int fl512_ao_insn(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int n;
 	int chan = CR_CHAN(insn->chanspec);	/* get chan to write */
@@ -109,7 +109,7 @@ static int fl512_ao_insn(struct comedi_d
  * DA port
  */
 static int fl512_ao_insn_readback(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int n;
 	int chan = CR_CHAN(insn->chanspec);
@@ -127,7 +127,7 @@ static int fl512_ao_insn_readback(struct
 static int fl512_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	unsigned long iobase;
-	comedi_subdevice *s;	/* pointer to the subdevice:
+	struct comedi_subdevice *s;	/* pointer to the subdevice:
 				   Analog in, Analog out, ( not made ->and Digital IO) */
 
 	iobase = it->options[0];
--- a/drivers/staging/comedi/drivers/gsc_hpdi.c
+++ b/drivers/staging/comedi/drivers/gsc_hpdi.c
@@ -55,10 +55,10 @@ support could be added to this driver.
 static int hpdi_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int hpdi_detach(struct comedi_device * dev);
 void abort_dma(struct comedi_device * dev, unsigned int channel);
-static int hpdi_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int hpdi_cmd_test(struct comedi_device * dev, comedi_subdevice * s,
+static int hpdi_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int hpdi_cmd_test(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int hpdi_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int hpdi_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 static irqreturn_t handle_interrupt(int irq, void *d PT_REGS_ARG);
 static int dio_config_block_size(struct comedi_device * dev, unsigned int * data);
 
@@ -336,7 +336,7 @@ static comedi_driver driver_hpdi = {
 
 COMEDI_PCI_INITCLEANUP(driver_hpdi, hpdi_pci_table);
 
-static int dio_config_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int dio_config_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	switch (data[0]) {
@@ -437,7 +437,7 @@ static void init_plx9080(struct comedi_d
  */
 static int setup_subdevices(struct comedi_device * dev)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	if (alloc_subdevices(dev, 1) < 0)
 		return -ENOMEM;
@@ -718,7 +718,7 @@ static int dio_config_block_size(struct 
 	return 2;
 }
 
-static int di_cmd_test(struct comedi_device * dev, comedi_subdevice * s,
+static int di_cmd_test(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -818,7 +818,7 @@ static int di_cmd_test(struct comedi_dev
 	return 0;
 }
 
-static int hpdi_cmd_test(struct comedi_device * dev, comedi_subdevice * s,
+static int hpdi_cmd_test(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	if (priv(dev)->dio_config_output) {
@@ -834,7 +834,7 @@ static inline void hpdi_writel(struct co
 		priv(dev)->hpdi_iobase + offset);
 }
 
-static int di_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int di_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	uint32_t bits;
 	unsigned long flags;
@@ -887,7 +887,7 @@ static int di_cmd(struct comedi_device *
 	return 0;
 }
 
-static int hpdi_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int hpdi_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	if (priv(dev)->dio_config_output) {
 		return -EINVAL;
@@ -944,7 +944,7 @@ static void drain_dma_buffers(struct com
 static irqreturn_t handle_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev->read_subdev;
+	struct comedi_subdevice *s = dev->read_subdev;
 	comedi_async *async = s->async;
 	uint32_t hpdi_intr_status, hpdi_board_status;
 	uint32_t plx_status;
@@ -1044,7 +1044,7 @@ void abort_dma(struct comedi_device * de
 	comedi_spin_unlock_irqrestore(&dev->spinlock, flags);
 }
 
-static int hpdi_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int hpdi_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	hpdi_writel(dev, 0, BOARD_CONTROL_REG);
 
--- a/drivers/staging/comedi/drivers/icp_multi.c
+++ b/drivers/staging/comedi/drivers/icp_multi.c
@@ -214,10 +214,10 @@ struct icp_multi_private {
 */
 
 #if 0
-static int check_channel_list(struct comedi_device *dev, comedi_subdevice *s,
+static int check_channel_list(struct comedi_device *dev, struct comedi_subdevice *s,
 	unsigned int *chanlist, unsigned int n_chan);
 #endif
-static void setup_channel_list(struct comedi_device *dev, comedi_subdevice *s,
+static void setup_channel_list(struct comedi_device *dev, struct comedi_subdevice *s,
 	unsigned int *chanlist, unsigned int n_chan);
 static int icp_multi_reset(struct comedi_device *dev);
 
@@ -237,7 +237,7 @@ static int icp_multi_reset(struct comedi
 
 	Parameters:
 		struct comedi_device *dev	Pointer to current device structure
-		comedi_subdevice *s	Pointer to current subdevice structure
+		struct comedi_subdevice *s	Pointer to current subdevice structure
 		comedi_insn *insn	Pointer to current comedi instruction
 		unsigned int *data		Pointer to analogue input data
 
@@ -245,7 +245,7 @@ static int icp_multi_reset(struct comedi
 
 ==============================================================================
 */
-static int icp_multi_insn_read_ai(struct comedi_device *dev, comedi_subdevice *s,
+static int icp_multi_insn_read_ai(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	int n, timeout;
@@ -356,7 +356,7 @@ static int icp_multi_insn_read_ai(struct
 
 	Parameters:
 		struct comedi_device *dev	Pointer to current device structure
-		comedi_subdevice *s	Pointer to current subdevice structure
+		struct comedi_subdevice *s	Pointer to current subdevice structure
 		comedi_insn *insn	Pointer to current comedi instruction
 		unsigned int *data		Pointer to analogue output data
 
@@ -364,7 +364,7 @@ static int icp_multi_insn_read_ai(struct
 
 ==============================================================================
 */
-static int icp_multi_insn_write_ao(struct comedi_device *dev, comedi_subdevice *s,
+static int icp_multi_insn_write_ao(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	int n, chan, range, timeout;
@@ -464,7 +464,7 @@ static int icp_multi_insn_write_ao(struc
 
 	Parameters:
 		struct comedi_device *dev	Pointer to current device structure
-		comedi_subdevice *s	Pointer to current subdevice structure
+		struct comedi_subdevice *s	Pointer to current subdevice structure
 		comedi_insn *insn	Pointer to current comedi instruction
 		unsigned int *data		Pointer to analogue output data
 
@@ -472,7 +472,7 @@ static int icp_multi_insn_write_ao(struc
 
 ==============================================================================
 */
-static int icp_multi_insn_read_ao(struct comedi_device *dev, comedi_subdevice *s,
+static int icp_multi_insn_read_ao(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	int n, chan;
@@ -497,7 +497,7 @@ static int icp_multi_insn_read_ao(struct
 
 	Parameters:
 		struct comedi_device *dev	Pointer to current device structure
-		comedi_subdevice *s	Pointer to current subdevice structure
+		struct comedi_subdevice *s	Pointer to current subdevice structure
 		comedi_insn *insn	Pointer to current comedi instruction
 		unsigned int *data		Pointer to analogue output data
 
@@ -505,7 +505,7 @@ static int icp_multi_insn_read_ao(struct
 
 ==============================================================================
 */
-static int icp_multi_insn_bits_di(struct comedi_device *dev, comedi_subdevice *s,
+static int icp_multi_insn_bits_di(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	data[1] = readw(devpriv->io_addr + ICP_MULTI_DI);
@@ -523,7 +523,7 @@ static int icp_multi_insn_bits_di(struct
 
 	Parameters:
 		struct comedi_device *dev	Pointer to current device structure
-		comedi_subdevice *s	Pointer to current subdevice structure
+		struct comedi_subdevice *s	Pointer to current subdevice structure
 		comedi_insn *insn	Pointer to current comedi instruction
 		unsigned int *data		Pointer to analogue output data
 
@@ -531,7 +531,7 @@ static int icp_multi_insn_bits_di(struct
 
 ==============================================================================
 */
-static int icp_multi_insn_bits_do(struct comedi_device *dev, comedi_subdevice *s,
+static int icp_multi_insn_bits_do(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 #ifdef ICP_MULTI_EXTDEBUG
@@ -565,7 +565,7 @@ static int icp_multi_insn_bits_do(struct
 
 	Parameters:
 		struct comedi_device *dev	Pointer to current device structure
-		comedi_subdevice *s	Pointer to current subdevice structure
+		struct comedi_subdevice *s	Pointer to current subdevice structure
 		comedi_insn *insn	Pointer to current comedi instruction
 		unsigned int *data		Pointer to counter data
 
@@ -573,7 +573,7 @@ static int icp_multi_insn_bits_do(struct
 
 ==============================================================================
 */
-static int icp_multi_insn_read_ctr(struct comedi_device *dev, comedi_subdevice *s,
+static int icp_multi_insn_read_ctr(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	return 0;
@@ -589,7 +589,7 @@ static int icp_multi_insn_read_ctr(struc
 
 	Parameters:
 		struct comedi_device *dev	Pointer to current device structure
-		comedi_subdevice *s	Pointer to current subdevice structure
+		struct comedi_subdevice *s	Pointer to current subdevice structure
 		comedi_insn *insn	Pointer to current comedi instruction
 		unsigned int *data		Pointer to counter data
 
@@ -597,7 +597,7 @@ static int icp_multi_insn_read_ctr(struc
 
 ==============================================================================
 */
-static int icp_multi_insn_write_ctr(struct comedi_device *dev, comedi_subdevice *s,
+static int icp_multi_insn_write_ctr(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	return 0;
@@ -680,7 +680,7 @@ static irqreturn_t interrupt_service_icp
 
 	Parameters:
 		struct comedi_device *dev	Pointer to current sevice structure
-		comedi_subdevice *s	Pointer to current subdevice structure
+		struct comedi_subdevice *s	Pointer to current subdevice structure
 		unsigned int *chanlist	Pointer to packed channel list
 		unsigned int n_chan	Number of channels to scan
 
@@ -689,7 +689,7 @@ static irqreturn_t interrupt_service_icp
 
 ==============================================================================
 */
-static int check_channel_list(struct comedi_device *dev, comedi_subdevice *s,
+static int check_channel_list(struct comedi_device *dev, struct comedi_subdevice *s,
 	unsigned int *chanlist, unsigned int n_chan)
 {
 	unsigned int i;
@@ -735,7 +735,7 @@ static int check_channel_list(struct com
 
 	Parameters:
 		struct comedi_device *dev	Pointer to current sevice structure
-		comedi_subdevice *s	Pointer to current subdevice structure
+		struct comedi_subdevice *s	Pointer to current subdevice structure
 		unsigned int *chanlist	Pointer to packed channel list
 		unsigned int n_chan	Number of channels to scan
 
@@ -743,7 +743,7 @@ static int check_channel_list(struct com
 
 ==============================================================================
 */
-static void setup_channel_list(struct comedi_device *dev, comedi_subdevice *s,
+static void setup_channel_list(struct comedi_device *dev, struct comedi_subdevice *s,
 	unsigned int *chanlist, unsigned int n_chan)
 {
 	unsigned int i, range, chanprog;
@@ -872,7 +872,7 @@ static int icp_multi_reset(struct comedi
 */
 static int icp_multi_attach(struct comedi_device *dev, comedi_devconfig *it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret, subdev, n_subdevices;
 	unsigned int irq;
 	struct pcilst_struct *card = NULL;
--- a/drivers/staging/comedi/drivers/ii_pci20kc.c
+++ b/drivers/staging/comedi/drivers/ii_pci20kc.c
@@ -166,11 +166,11 @@ static comedi_driver driver_pci20xxx = {
       detach:pci20xxx_detach,
 };
 
-static int pci20006_init(struct comedi_device * dev, comedi_subdevice * s,
+static int pci20006_init(struct comedi_device * dev, struct comedi_subdevice * s,
 	int opt0, int opt1);
-static int pci20341_init(struct comedi_device * dev, comedi_subdevice * s,
+static int pci20341_init(struct comedi_device * dev, struct comedi_subdevice * s,
 	int opt0, int opt1);
-static int pci20xxx_dio_init(struct comedi_device * dev, comedi_subdevice * s);
+static int pci20xxx_dio_init(struct comedi_device * dev, struct comedi_subdevice * s);
 
 /*
   options[0]	Board base address
@@ -204,7 +204,7 @@ static int pci20xxx_attach(struct comedi
 	unsigned char i;
 	int ret;
 	int id;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	pci20xxx_subdev_private *sdp;
 
 	if ((ret = alloc_subdevices(dev, 1 + PCI20000_MODULES)) < 0)
@@ -270,9 +270,9 @@ static int pci20xxx_detach(struct comedi
 
 /* pci20006m */
 
-static int pci20006_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int pci20006_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pci20006_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int pci20006_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 static const comedi_lrange *pci20006_range_list[] = {
@@ -281,7 +281,7 @@ static const comedi_lrange *pci20006_ran
 	&range_bipolar5,
 };
 
-static int pci20006_init(struct comedi_device * dev, comedi_subdevice * s,
+static int pci20006_init(struct comedi_device * dev, struct comedi_subdevice * s,
 	int opt0, int opt1)
 {
 	pci20xxx_subdev_private *sdp = s->private;
@@ -306,7 +306,7 @@ static int pci20006_init(struct comedi_d
 	return 0;
 }
 
-static int pci20006_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int pci20006_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	pci20xxx_subdev_private *sdp = s->private;
@@ -316,7 +316,7 @@ static int pci20006_insn_read(struct com
 	return 1;
 }
 
-static int pci20006_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int pci20006_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	pci20xxx_subdev_private *sdp = s->private;
@@ -349,7 +349,7 @@ static int pci20006_insn_write(struct co
 
 /* PCI20341M */
 
-static int pci20341_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int pci20341_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 static const int pci20341_timebase[] = { 0x00, 0x00, 0x00, 0x04 };
@@ -366,7 +366,7 @@ static const comedi_lrange *const pci203
 	&range_bipolar0_025,
 };
 
-static int pci20341_init(struct comedi_device * dev, comedi_subdevice * s,
+static int pci20341_init(struct comedi_device * dev, struct comedi_subdevice * s,
 	int opt0, int opt1)
 {
 	pci20xxx_subdev_private *sdp = s->private;
@@ -397,7 +397,7 @@ static int pci20341_init(struct comedi_d
 	return 0;
 }
 
-static int pci20341_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int pci20341_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	pci20xxx_subdev_private *sdp = s->private;
@@ -443,14 +443,14 @@ static int pci20341_insn_read(struct com
 
 /* native DIO */
 
-static void pci20xxx_dio_config(struct comedi_device * dev, comedi_subdevice * s);
-static int pci20xxx_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static void pci20xxx_dio_config(struct comedi_device * dev, struct comedi_subdevice * s);
+static int pci20xxx_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pci20xxx_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int pci20xxx_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 /* initialize pci20xxx_private */
-static int pci20xxx_dio_init(struct comedi_device * dev, comedi_subdevice * s)
+static int pci20xxx_dio_init(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 
 	s->type = COMEDI_SUBD_DIO;
@@ -469,7 +469,7 @@ static int pci20xxx_dio_init(struct come
 	return 0;
 }
 
-static int pci20xxx_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int pci20xxx_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int mask, bits;
@@ -494,7 +494,7 @@ static int pci20xxx_dio_insn_config(stru
 	return 1;
 }
 
-static int pci20xxx_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pci20xxx_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int mask = data[0];
@@ -524,7 +524,7 @@ static int pci20xxx_dio_insn_bits(struct
 	return 2;
 }
 
-static void pci20xxx_dio_config(struct comedi_device * dev, comedi_subdevice * s)
+static void pci20xxx_dio_config(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned char control_01;
 	unsigned char control_23;
@@ -580,7 +580,7 @@ static void pci20xxx_dio_config(struct c
 }
 
 #if 0
-static void pci20xxx_do(struct comedi_device * dev, comedi_subdevice * s)
+static void pci20xxx_do(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	/* XXX if the channel is configured for input, does this
 	   do bad things? */
@@ -593,7 +593,7 @@ static void pci20xxx_do(struct comedi_de
 	writeb((s->state >> 24) & 0xff, devpriv->ioaddr + PCI20000_DIO_3);
 }
 
-static unsigned int pci20xxx_di(struct comedi_device * dev, comedi_subdevice * s)
+static unsigned int pci20xxx_di(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	/* XXX same note as above */
 	unsigned int bits;
--- a/drivers/staging/comedi/drivers/jr3_pci.c
+++ b/drivers/staging/comedi/drivers/jr3_pci.c
@@ -269,7 +269,7 @@ static six_axis_t get_max_full_scales(vo
 	return result;
 }
 
-static int jr3_pci_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int jr3_pci_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int result;
@@ -523,7 +523,7 @@ static int jr3_download_firmware(struct 
 	return result;
 }
 
-static poll_delay_t jr3_pci_poll_subdevice(comedi_subdevice * s)
+static poll_delay_t jr3_pci_poll_subdevice(struct comedi_subdevice * s)
 {
 	poll_delay_t result = poll_delay_min_max(1000, 2000);
 	jr3_pci_subdev_private *p = s->private;
--- a/drivers/staging/comedi/drivers/ke_counter.c
+++ b/drivers/staging/comedi/drivers/ke_counter.c
@@ -100,7 +100,7 @@ COMEDI_PCI_INITCLEANUP(cnt_driver, cnt_p
 /* This should be used only for resetting the counters; maybe it is better
    to make a special command 'reset'. */
 static int cnt_winsn(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn->chanspec);
 
@@ -120,7 +120,7 @@ static int cnt_winsn(struct comedi_devic
 /*-- counter read -----------------------------------------------------------*/
 
 static int cnt_rinsn(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	unsigned char a0, a1, a2, a3, a4;
 	int chan = CR_CHAN(insn->chanspec);
@@ -146,7 +146,7 @@ static int cnt_rinsn(struct comedi_devic
 
 static int cnt_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *subdevice;
+	struct comedi_subdevice *subdevice;
 	struct pci_dev *pci_device;
 	cnt_board_struct *board;
 	unsigned long io_base;
--- a/drivers/staging/comedi/drivers/me4000.c
+++ b/drivers/staging/comedi/drivers/me4000.c
@@ -141,10 +141,10 @@ static int xilinx_download(struct comedi
 static int reset_board(struct comedi_device *dev);
 
 static int me4000_dio_insn_bits(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
 
 static int me4000_dio_insn_config(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
 
 static int cnt_reset(struct comedi_device *dev, unsigned int channel);
 
@@ -152,49 +152,49 @@ static int cnt_config(struct comedi_devi
 	unsigned int channel, unsigned int mode);
 
 static int me4000_cnt_insn_config(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
 
 static int me4000_cnt_insn_write(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
 
 static int me4000_cnt_insn_read(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
 
 static int me4000_ai_insn_read(struct comedi_device *dev,
-	comedi_subdevice *subdevice, comedi_insn *insn, unsigned int *data);
+	struct comedi_subdevice *subdevice, comedi_insn *insn, unsigned int *data);
 
-static int me4000_ai_cancel(struct comedi_device *dev, comedi_subdevice *s);
+static int me4000_ai_cancel(struct comedi_device *dev, struct comedi_subdevice *s);
 
 static int ai_check_chanlist(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_cmd *cmd);
+	struct comedi_subdevice *s, comedi_cmd *cmd);
 
 static int ai_round_cmd_args(struct comedi_device *dev,
-	comedi_subdevice *s,
+	struct comedi_subdevice *s,
 	comedi_cmd *cmd,
 	unsigned int *init_ticks,
 	unsigned int *scan_ticks, unsigned int *chan_ticks);
 
 static int ai_prepare(struct comedi_device *dev,
-	comedi_subdevice *s,
+	struct comedi_subdevice *s,
 	comedi_cmd *cmd,
 	unsigned int init_ticks,
 	unsigned int scan_ticks, unsigned int chan_ticks);
 
 static int ai_write_chanlist(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_cmd *cmd);
+	struct comedi_subdevice *s, comedi_cmd *cmd);
 
 static irqreturn_t me4000_ai_isr(int irq, void *dev_id PT_REGS_ARG);
 
 static int me4000_ai_do_cmd_test(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_cmd *cmd);
+	struct comedi_subdevice *s, comedi_cmd *cmd);
 
-static int me4000_ai_do_cmd(struct comedi_device *dev, comedi_subdevice *s);
+static int me4000_ai_do_cmd(struct comedi_device *dev, struct comedi_subdevice *s);
 
 static int me4000_ao_insn_write(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
 
 static int me4000_ao_insn_read(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data);
 
 /*-----------------------------------------------------------------------------
   Meilhaus inline functions
@@ -249,7 +249,7 @@ static const comedi_lrange me4000_ao_ran
 
 static int me4000_attach(struct comedi_device *dev, comedi_devconfig *it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int result;
 
 	CALL_PDEBUG("In me4000_attach()\n");
@@ -914,7 +914,7 @@ static int me4000_detach(struct comedi_d
   ===========================================================================*/
 
 static int me4000_ai_insn_read(struct comedi_device *dev,
-	comedi_subdevice *subdevice, comedi_insn *insn, unsigned int *data)
+	struct comedi_subdevice *subdevice, comedi_insn *insn, unsigned int *data)
 {
 
 	int chan = CR_CHAN(insn->chanspec);
@@ -1037,7 +1037,7 @@ static int me4000_ai_insn_read(struct co
 	return 1;
 }
 
-static int me4000_ai_cancel(struct comedi_device *dev, comedi_subdevice *s)
+static int me4000_ai_cancel(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	unsigned long tmp;
 
@@ -1055,7 +1055,7 @@ static int me4000_ai_cancel(struct comed
 }
 
 static int ai_check_chanlist(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_cmd *cmd)
+	struct comedi_subdevice *s, comedi_cmd *cmd)
 {
 	int aref;
 	int i;
@@ -1136,7 +1136,7 @@ static int ai_check_chanlist(struct come
 }
 
 static int ai_round_cmd_args(struct comedi_device *dev,
-	comedi_subdevice *s,
+	struct comedi_subdevice *s,
 	comedi_cmd *cmd,
 	unsigned int *init_ticks,
 	unsigned int *scan_ticks, unsigned int *chan_ticks)
@@ -1223,7 +1223,7 @@ static void ai_write_timer(struct comedi
 }
 
 static int ai_prepare(struct comedi_device *dev,
-	comedi_subdevice *s,
+	struct comedi_subdevice *s,
 	comedi_cmd *cmd,
 	unsigned int init_ticks,
 	unsigned int scan_ticks, unsigned int chan_ticks)
@@ -1292,7 +1292,7 @@ static int ai_prepare(struct comedi_devi
 }
 
 static int ai_write_chanlist(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_cmd *cmd)
+	struct comedi_subdevice *s, comedi_cmd *cmd)
 {
 	unsigned int entry;
 	unsigned int chan;
@@ -1331,7 +1331,7 @@ static int ai_write_chanlist(struct come
 	return 0;
 }
 
-static int me4000_ai_do_cmd(struct comedi_device *dev, comedi_subdevice *s)
+static int me4000_ai_do_cmd(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	int err;
 	unsigned int init_ticks = 0;
@@ -1376,7 +1376,7 @@ static int me4000_ai_do_cmd(struct comed
  * So I tried to adopt this scheme.
  */
 static int me4000_ai_do_cmd_test(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_cmd *cmd)
+	struct comedi_subdevice *s, comedi_cmd *cmd)
 {
 
 	unsigned int init_ticks;
@@ -1744,7 +1744,7 @@ static irqreturn_t me4000_ai_isr(int irq
 {
 	unsigned int tmp;
 	struct comedi_device *dev = dev_id;
-	comedi_subdevice *s = dev->subdevices;
+	struct comedi_subdevice *s = dev->subdevices;
 	me4000_ai_context_t *ai_context = &info->ai_context;
 	int i;
 	int c = 0;
@@ -1904,7 +1904,7 @@ static irqreturn_t me4000_ai_isr(int irq
   ===========================================================================*/
 
 static int me4000_ao_insn_write(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 
 	int chan = CR_CHAN(insn->chanspec);
@@ -1962,7 +1962,7 @@ static int me4000_ao_insn_write(struct c
 }
 
 static int me4000_ao_insn_read(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	int chan = CR_CHAN(insn->chanspec);
 
@@ -1983,7 +1983,7 @@ static int me4000_ao_insn_read(struct co
   ===========================================================================*/
 
 static int me4000_dio_insn_bits(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 
 	CALL_PDEBUG("In me4000_dio_insn_bits()\n");
@@ -2034,7 +2034,7 @@ static int me4000_dio_insn_bits(struct c
 }
 
 static int me4000_dio_insn_config(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	unsigned long tmp;
 	int chan = CR_CHAN(insn->chanspec);
@@ -2216,7 +2216,7 @@ static int cnt_config(struct comedi_devi
 }
 
 static int me4000_cnt_insn_config(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 
 	int err;
@@ -2259,7 +2259,7 @@ static int me4000_cnt_insn_config(struct
 }
 
 static int me4000_cnt_insn_read(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 
 	unsigned short tmp;
@@ -2306,7 +2306,7 @@ static int me4000_cnt_insn_read(struct c
 }
 
 static int me4000_cnt_insn_write(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 
 	unsigned short tmp;
--- a/drivers/staging/comedi/drivers/me_daq.c
+++ b/drivers/staging/comedi/drivers/me_daq.c
@@ -290,7 +290,7 @@ static inline void sleep(unsigned sec)
  *
  * ------------------------------------------------------------------
  */
-static int me_dio_insn_config(struct comedi_device *dev, comedi_subdevice *s,
+static int me_dio_insn_config(struct comedi_device *dev, struct comedi_subdevice *s,
 			      comedi_insn *insn, unsigned int *data)
 {
 	int bits;
@@ -326,7 +326,7 @@ static int me_dio_insn_config(struct com
 }
 
 /* Digital instant input/outputs */
-static int me_dio_insn_bits(struct comedi_device *dev, comedi_subdevice *s,
+static int me_dio_insn_bits(struct comedi_device *dev, struct comedi_subdevice *s,
 			    comedi_insn *insn, unsigned int *data)
 {
 	unsigned int mask = data[0];
@@ -362,7 +362,7 @@ static int me_dio_insn_bits(struct comed
  */
 
 /* Analog instant input */
-static int me_ai_insn_read(struct comedi_device *dev, comedi_subdevice *subdevice,
+static int me_ai_insn_read(struct comedi_device *dev, struct comedi_subdevice *subdevice,
 			   comedi_insn *insn, unsigned int *data)
 {
 	unsigned short value;
@@ -436,7 +436,7 @@ static int me_ai_insn_read(struct comedi
  */
 
 /* Cancel analog input autoscan */
-static int me_ai_cancel(struct comedi_device *dev, comedi_subdevice *s)
+static int me_ai_cancel(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	/* disable interrupts */
 
@@ -448,14 +448,14 @@ static int me_ai_cancel(struct comedi_de
 }
 
 /* Test analog input command */
-static int me_ai_do_cmd_test(struct comedi_device *dev, comedi_subdevice *s,
+static int me_ai_do_cmd_test(struct comedi_device *dev, struct comedi_subdevice *s,
 			     comedi_cmd *cmd)
 {
 	return 0;
 }
 
 /* Analog input command */
-static int me_ai_do_cmd(struct comedi_device *dev, comedi_subdevice *subdevice)
+static int me_ai_do_cmd(struct comedi_device *dev, struct comedi_subdevice *subdevice)
 {
 	return 0;
 }
@@ -469,7 +469,7 @@ static int me_ai_do_cmd(struct comedi_de
  */
 
 /* Analog instant output */
-static int me_ao_insn_write(struct comedi_device *dev, comedi_subdevice *s,
+static int me_ao_insn_write(struct comedi_device *dev, struct comedi_subdevice *s,
 			    comedi_insn *insn, unsigned int *data)
 {
 	int chan;
@@ -519,7 +519,7 @@ static int me_ao_insn_write(struct comed
 }
 
 /* Analog output readback */
-static int me_ao_insn_read(struct comedi_device *dev, comedi_subdevice *s,
+static int me_ao_insn_read(struct comedi_device *dev, struct comedi_subdevice *s,
 			   comedi_insn *insn, unsigned int *data)
 {
 	int i;
@@ -634,7 +634,7 @@ static int me_reset(struct comedi_device
 static int me_attach(struct comedi_device *dev, comedi_devconfig *it)
 {
 	struct pci_dev *pci_device;
-	comedi_subdevice *subdevice;
+	struct comedi_subdevice *subdevice;
 	struct me_board *board;
 	resource_size_t plx_regbase_tmp;
 	unsigned long plx_regbase_size_tmp;
--- a/drivers/staging/comedi/drivers/mpc624.c
+++ b/drivers/staging/comedi/drivers/mpc624.c
@@ -155,12 +155,12 @@ static comedi_driver driver_mpc624 = {
 };
 
 //----------------------------------------------------------------------------
-static int mpc624_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int mpc624_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 //----------------------------------------------------------------------------
 static int mpc624_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase;
 
 	iobase = it->options[0];
@@ -268,7 +268,7 @@ static int mpc624_detach(struct comedi_d
 // Timeout 200ms
 #define TIMEOUT 200
 
-static int mpc624_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int mpc624_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, i;
--- a/drivers/staging/comedi/drivers/mpc8260cpm.c
+++ b/drivers/staging/comedi/drivers/mpc8260cpm.c
@@ -55,14 +55,14 @@ static comedi_driver driver_mpc8260cpm =
 
 COMEDI_INITCLEANUP(driver_mpc8260cpm);
 
-static int mpc8260cpm_dio_config(struct comedi_device * dev, comedi_subdevice * s,
+static int mpc8260cpm_dio_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int mpc8260cpm_dio_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int mpc8260cpm_dio_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 static int mpc8260cpm_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int i;
 
 	printk("comedi%d: mpc8260cpm: ", dev->minor);
@@ -112,7 +112,7 @@ static unsigned long *cpm_pdat(int port)
 	}
 }
 
-static int mpc8260cpm_dio_config(struct comedi_device * dev, comedi_subdevice * s,
+static int mpc8260cpm_dio_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -155,7 +155,7 @@ static int mpc8260cpm_dio_config(struct 
 	return 1;
 }
 
-static int mpc8260cpm_dio_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int mpc8260cpm_dio_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int port;
--- a/drivers/staging/comedi/drivers/multiq3.c
+++ b/drivers/staging/comedi/drivers/multiq3.c
@@ -98,7 +98,7 @@ struct multiq3_private {
 };
 #define devpriv ((struct multiq3_private *)dev->private)
 
-static int multiq3_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int multiq3_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
@@ -134,7 +134,7 @@ static int multiq3_ai_insn_read(struct c
 	return n;
 }
 
-static int multiq3_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int multiq3_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -147,7 +147,7 @@ static int multiq3_ao_insn_read(struct c
 	return i;
 }
 
-static int multiq3_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int multiq3_ao_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -165,7 +165,7 @@ static int multiq3_ao_insn_write(struct 
 	return i;
 }
 
-static int multiq3_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int multiq3_di_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -176,7 +176,7 @@ static int multiq3_di_insn_bits(struct c
 	return 2;
 }
 
-static int multiq3_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int multiq3_do_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -191,7 +191,7 @@ static int multiq3_do_insn_bits(struct c
 	return 2;
 }
 
-static int multiq3_encoder_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int multiq3_encoder_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -240,7 +240,7 @@ static int multiq3_attach(struct comedi_
 	int result = 0;
 	unsigned long iobase;
 	unsigned int irq;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	iobase = it->options[0];
 	printk("comedi%d: multiq3: 0x%04lx ", dev->minor, iobase);
--- a/drivers/staging/comedi/drivers/ni_6527.c
+++ b/drivers/staging/comedi/drivers/ni_6527.c
@@ -119,7 +119,7 @@ typedef struct {
 
 static int ni6527_find_device(struct comedi_device * dev, int bus, int slot);
 
-static int ni6527_di_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni6527_di_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn->chanspec);
@@ -167,7 +167,7 @@ static int ni6527_di_insn_config(struct 
 	return 2;
 }
 
-static int ni6527_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int ni6527_di_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -180,7 +180,7 @@ static int ni6527_di_insn_bits(struct co
 	return 2;
 }
 
-static int ni6527_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int ni6527_do_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -212,7 +212,7 @@ static int ni6527_do_insn_bits(struct co
 static irqreturn_t ni6527_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev->subdevices + 2;
+	struct comedi_subdevice *s = dev->subdevices + 2;
 	unsigned int status;
 
 	status = readb(devpriv->mite->daq_io_addr + Change_Status);
@@ -230,7 +230,7 @@ static irqreturn_t ni6527_interrupt(int 
 	return IRQ_HANDLED;
 }
 
-static int ni6527_intr_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ni6527_intr_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -306,7 +306,7 @@ static int ni6527_intr_cmdtest(struct co
 	return 0;
 }
 
-static int ni6527_intr_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int ni6527_intr_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	//comedi_cmd *cmd = &s->async->cmd;
 
@@ -319,14 +319,14 @@ static int ni6527_intr_cmd(struct comedi
 	return 0;
 }
 
-static int ni6527_intr_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int ni6527_intr_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	writeb(0x00, devpriv->mite->daq_io_addr + Master_Interrupt_Control);
 
 	return 0;
 }
 
-static int ni6527_intr_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int ni6527_intr_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n < 1)
@@ -336,7 +336,7 @@ static int ni6527_intr_insn_bits(struct 
 	return 2;
 }
 
-static int ni6527_intr_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni6527_intr_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n < 1)
@@ -363,7 +363,7 @@ static int ni6527_intr_insn_config(struc
 
 static int ni6527_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret;
 
 	printk("comedi%d: ni6527:", dev->minor);
--- a/drivers/staging/comedi/drivers/ni_65xx.c
+++ b/drivers/staging/comedi/drivers/ni_65xx.c
@@ -295,7 +295,7 @@ static inline ni_65xx_private *private(s
 typedef struct {
 	unsigned base_port;
 } ni_65xx_subdevice_private;
-static inline ni_65xx_subdevice_private *sprivate(comedi_subdevice * subdev)
+static inline ni_65xx_subdevice_private *sprivate(struct comedi_subdevice * subdev)
 {
 	return subdev->private;
 }
@@ -310,7 +310,7 @@ static ni_65xx_subdevice_private *ni_65x
 
 static int ni_65xx_find_device(struct comedi_device * dev, int bus, int slot);
 
-static int ni_65xx_config_filter(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_65xx_config_filter(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	const unsigned chan = CR_CHAN(insn->chanspec);
@@ -349,7 +349,7 @@ static int ni_65xx_config_filter(struct 
 	return 2;
 }
 
-static int ni_65xx_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_65xx_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned port;
@@ -388,7 +388,7 @@ static int ni_65xx_dio_insn_config(struc
 	return -EINVAL;
 }
 
-static int ni_65xx_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_65xx_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned base_bitfield_channel;
@@ -453,7 +453,7 @@ static int ni_65xx_dio_insn_bits(struct 
 static irqreturn_t ni_65xx_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev->subdevices + 2;
+	struct comedi_subdevice *s = dev->subdevices + 2;
 	unsigned int status;
 
 	status = readb(private(dev)->mite->daq_io_addr + Change_Status);
@@ -471,7 +471,7 @@ static irqreturn_t ni_65xx_interrupt(int
 	return IRQ_HANDLED;
 }
 
-static int ni_65xx_intr_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_65xx_intr_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -547,7 +547,7 @@ static int ni_65xx_intr_cmdtest(struct c
 	return 0;
 }
 
-static int ni_65xx_intr_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_65xx_intr_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	//comedi_cmd *cmd = &s->async->cmd;
 
@@ -560,7 +560,7 @@ static int ni_65xx_intr_cmd(struct comed
 	return 0;
 }
 
-static int ni_65xx_intr_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_65xx_intr_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	writeb(0x00,
 		private(dev)->mite->daq_io_addr + Master_Interrupt_Control);
@@ -568,7 +568,7 @@ static int ni_65xx_intr_cancel(struct co
 	return 0;
 }
 
-static int ni_65xx_intr_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_65xx_intr_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n < 1)
@@ -578,7 +578,7 @@ static int ni_65xx_intr_insn_bits(struct
 	return 2;
 }
 
-static int ni_65xx_intr_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_65xx_intr_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n < 1)
@@ -617,7 +617,7 @@ static int ni_65xx_intr_insn_config(stru
 
 static int ni_65xx_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned i;
 	int ret;
 
--- a/drivers/staging/comedi/drivers/ni_660x.c
+++ b/drivers/staging/comedi/drivers/ni_660x.c
@@ -465,17 +465,17 @@ static int ni_660x_set_pfi_routing(struc
 
 /* Possible instructions for a GPCT */
 static int ni_660x_GPCT_rinsn(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 static int ni_660x_GPCT_insn_config(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 static int ni_660x_GPCT_winsn(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
 /* Possible instructions for Digital IO */
 static int ni_660x_dio_insn_config(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 static int ni_660x_dio_insn_bits(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
 static inline unsigned ni_660x_num_counters(struct comedi_device * dev)
 {
@@ -843,7 +843,7 @@ void ni_660x_release_mite_channel(struct
 	comedi_spin_unlock_irqrestore(&private(dev)->mite_channel_lock, flags);
 }
 
-static int ni_660x_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_660x_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int retval;
 
@@ -862,7 +862,7 @@ static int ni_660x_cmd(struct comedi_dev
 	return retval;
 }
 
-static int ni_660x_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_660x_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	struct ni_gpct *counter = subdev_to_counter(s);
@@ -870,7 +870,7 @@ static int ni_660x_cmdtest(struct comedi
 	return ni_tio_cmdtest(counter, cmd);
 }
 
-static int ni_660x_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_660x_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	struct ni_gpct *counter = subdev_to_counter(s);
 	int retval;
@@ -894,7 +894,7 @@ static void set_tio_counterswap(struct c
 }
 
 static void ni_660x_handle_gpct_interrupt(struct comedi_device * dev,
-	comedi_subdevice * s)
+	struct comedi_subdevice * s)
 {
 	ni_tio_handle_interrupt(subdev_to_counter(s), s);
 	if (s->async->events) {
@@ -910,7 +910,7 @@ static void ni_660x_handle_gpct_interrup
 static irqreturn_t ni_660x_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned i;
 
 	if (dev->attached == 0)
@@ -923,7 +923,7 @@ static irqreturn_t ni_660x_interrupt(int
 	return IRQ_HANDLED;
 }
 
-static int ni_660x_buf_change(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_660x_buf_change(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned long new_size)
 {
 	int ret;
@@ -982,7 +982,7 @@ static void ni_660x_free_mite_rings(stru
 
 static int ni_660x_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret;
 	unsigned i;
 	unsigned global_interrupt_config_bits;
@@ -1120,7 +1120,7 @@ static int ni_660x_detach(struct comedi_
 }
 
 static int
-ni_660x_GPCT_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+ni_660x_GPCT_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	return ni_tio_rinsn(subdev_to_counter(s), insn, data);
@@ -1147,14 +1147,14 @@ static void init_tio_chip(struct comedi_
 }
 
 static int
-ni_660x_GPCT_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+ni_660x_GPCT_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	return ni_tio_insn_config(subdev_to_counter(s), insn, data);
 }
 
 static int ni_660x_GPCT_winsn(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	return ni_tio_winsn(subdev_to_counter(s), insn, data);
 }
@@ -1187,7 +1187,7 @@ static int ni_660x_find_device(struct co
 }
 
 static int ni_660x_dio_insn_bits(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	unsigned base_bitfield_channel = CR_CHAN(insn->chanspec);
 
@@ -1280,7 +1280,7 @@ static void ni660x_config_filter(struct 
 }
 
 static int ni_660x_dio_insn_config(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn->chanspec);
 
--- a/drivers/staging/comedi/drivers/ni_670x.c
+++ b/drivers/staging/comedi/drivers/ni_670x.c
@@ -124,18 +124,18 @@ static comedi_lrange range_0_20mA = { 1,
 
 static int ni_670x_find_device(struct comedi_device * dev, int bus, int slot);
 
-static int ni_670x_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_670x_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_670x_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_670x_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_670x_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_670x_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_670x_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_670x_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 static int ni_670x_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret;
 	int i;
 
@@ -218,7 +218,7 @@ static int ni_670x_detach(struct comedi_
 	return 0;
 }
 
-static int ni_670x_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_670x_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -244,7 +244,7 @@ static int ni_670x_ao_winsn(struct comed
 	return i;
 }
 
-static int ni_670x_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_670x_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -256,7 +256,7 @@ static int ni_670x_ao_rinsn(struct comed
 	return i;
 }
 
-static int ni_670x_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_670x_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -278,7 +278,7 @@ static int ni_670x_dio_insn_bits(struct 
 	return 2;
 }
 
-static int ni_670x_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_670x_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn->chanspec);
--- a/drivers/staging/comedi/drivers/ni_at_a2150.c
+++ b/drivers/staging/comedi/drivers/ni_at_a2150.c
@@ -169,7 +169,7 @@ typedef struct {
 
 static int a2150_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int a2150_detach(struct comedi_device * dev);
-static int a2150_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int a2150_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 
 static comedi_driver driver_a2150 = {
       driver_name:"ni_at_a2150",
@@ -179,10 +179,10 @@ static comedi_driver driver_a2150 = {
 };
 
 static irqreturn_t a2150_interrupt(int irq, void *d PT_REGS_ARG);
-static int a2150_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int a2150_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int a2150_ai_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int a2150_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int a2150_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int a2150_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 static int a2150_get_timing(struct comedi_device * dev, unsigned int *period,
 	int flags);
@@ -213,7 +213,7 @@ static irqreturn_t a2150_interrupt(int i
 	int status;
 	unsigned long flags;
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev->read_subdev;
+	struct comedi_subdevice *s = dev->read_subdev;
 	comedi_async *async;
 	comedi_cmd *cmd;
 	unsigned int max_points, num_points, residue, leftover;
@@ -324,7 +324,7 @@ static int a2150_probe(struct comedi_dev
 
 static int a2150_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase = it->options[0];
 	unsigned int irq = it->options[1];
 	unsigned int dma = it->options[2];
@@ -470,7 +470,7 @@ static int a2150_detach(struct comedi_de
 	return 0;
 };
 
-static int a2150_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int a2150_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	// disable dma on card
 	devpriv->irq_dma_bits &= ~DMA_INTR_EN_BIT & ~DMA_EN_BIT;
@@ -485,7 +485,7 @@ static int a2150_cancel(struct comedi_de
 	return 0;
 }
 
-static int a2150_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int a2150_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -615,7 +615,7 @@ static int a2150_ai_cmdtest(struct comed
 	return 0;
 }
 
-static int a2150_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int a2150_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_async *async = s->async;
 	comedi_cmd *cmd = &async->cmd;
@@ -726,7 +726,7 @@ static int a2150_ai_cmd(struct comedi_de
 	return 0;
 }
 
-static int a2150_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int a2150_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int i, n;
--- a/drivers/staging/comedi/drivers/ni_at_ao.c
+++ b/drivers/staging/comedi/drivers/ni_at_ao.c
@@ -194,22 +194,22 @@ COMEDI_INITCLEANUP(driver_atao);
 
 static void atao_reset(struct comedi_device * dev);
 
-static int atao_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int atao_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int atao_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int atao_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int atao_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int atao_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int atao_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int atao_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int atao_calib_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int atao_calib_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int atao_calib_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int atao_calib_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 static int atao_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase;
 	int ao_unipolar;
 
@@ -320,7 +320,7 @@ static void atao_reset(struct comedi_dev
 	outw(devpriv->cfg1, dev->iobase + ATAO_CFG1);
 }
 
-static int atao_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int atao_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -344,7 +344,7 @@ static int atao_ao_winsn(struct comedi_d
 	return i;
 }
 
-static int atao_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int atao_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -356,7 +356,7 @@ static int atao_ao_rinsn(struct comedi_d
 	return i;
 }
 
-static int atao_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int atao_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -373,7 +373,7 @@ static int atao_dio_insn_bits(struct com
 	return 2;
 }
 
-static int atao_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int atao_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn->chanspec);
@@ -418,7 +418,7 @@ static int atao_dio_insn_config(struct c
  * DACs.  It is not explicitly stated in the manual how to access
  * the caldacs, but we can guess.
  */
-static int atao_calib_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int atao_calib_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -428,7 +428,7 @@ static int atao_calib_insn_read(struct c
 	return insn->n;
 }
 
-static int atao_calib_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int atao_calib_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int bitstring, bit;
--- a/drivers/staging/comedi/drivers/ni_atmio16d.c
+++ b/drivers/staging/comedi/drivers/ni_atmio16d.c
@@ -126,10 +126,10 @@ static const atmio16_board_t atmio16_boa
 static int atmio16d_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int atmio16d_detach(struct comedi_device * dev);
 static irqreturn_t atmio16d_interrupt(int irq, void *d PT_REGS_ARG);
-static int atmio16d_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int atmio16d_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int atmio16d_ai_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int atmio16d_ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int atmio16d_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int atmio16d_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 static void reset_counters(struct comedi_device * dev);
 static void reset_atmio16d(struct comedi_device * dev);
 
@@ -258,7 +258,7 @@ static void reset_atmio16d(struct comedi
 static irqreturn_t atmio16d_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev->subdevices + 0;
+	struct comedi_subdevice *s = dev->subdevices + 0;
 
 //      printk("atmio16d_interrupt!\n");
 
@@ -268,7 +268,7 @@ static irqreturn_t atmio16d_interrupt(in
 	return IRQ_HANDLED;
 }
 
-static int atmio16d_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int atmio16d_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0, tmp;
@@ -369,7 +369,7 @@ static int atmio16d_ai_cmdtest(struct co
 	return 0;
 }
 
-static int atmio16d_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int atmio16d_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &s->async->cmd;
 	unsigned int timer, base_clock;
@@ -517,7 +517,7 @@ static int atmio16d_ai_cmd(struct comedi
 }
 
 /* This will cancel a running acquisition operation */
-static int atmio16d_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int atmio16d_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	reset_atmio16d(dev);
 
@@ -525,7 +525,7 @@ static int atmio16d_ai_cancel(struct com
 }
 
 /* Mode 0 is used to get a single conversion on demand */
-static int atmio16d_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int atmio16d_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, t;
@@ -584,7 +584,7 @@ static int atmio16d_ai_insn_read(struct 
 	return i;
 }
 
-static int atmio16d_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int atmio16d_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -599,7 +599,7 @@ static int atmio16d_ao_insn_read(struct 
 	return i;
 }
 
-static int atmio16d_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int atmio16d_ao_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -634,7 +634,7 @@ static int atmio16d_ao_insn_write(struct
 	return i;
 }
 
-static int atmio16d_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int atmio16d_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -650,7 +650,7 @@ static int atmio16d_dio_insn_bits(struct
 	return 2;
 }
 
-static int atmio16d_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int atmio16d_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -710,7 +710,7 @@ static int atmio16d_attach(struct comedi
 	unsigned long iobase;
 	int ret;
 
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	/* make sure the address range is free and allocate it */
 	iobase = it->options[0];
--- a/drivers/staging/comedi/drivers/ni_daq_700.c
+++ b/drivers/staging/comedi/drivers/ni_daq_700.c
@@ -126,9 +126,9 @@ struct subdev_700_struct {
 #define CALLBACK_FUNC	(((struct subdev_700_struct *)s->private)->cb_func)
 #define subdevpriv	((struct subdev_700_struct *)s->private)
 
-static void do_config(struct comedi_device * dev, comedi_subdevice * s);
+static void do_config(struct comedi_device * dev, struct comedi_subdevice * s);
 
-void subdev_700_interrupt(struct comedi_device * dev, comedi_subdevice * s)
+void subdev_700_interrupt(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	short d;
 
@@ -153,7 +153,7 @@ static int subdev_700_cb(int dir, int po
 	}
 }
 
-static int subdev_700_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int subdev_700_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (data[0]) {
@@ -171,7 +171,7 @@ static int subdev_700_insn(struct comedi
 	return 2;
 }
 
-static int subdev_700_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int subdev_700_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 
@@ -194,12 +194,12 @@ static int subdev_700_insn_config(struct
 	return 1;
 }
 
-static void do_config(struct comedi_device * dev, comedi_subdevice * s)
+static void do_config(struct comedi_device * dev, struct comedi_subdevice * s)
 {				/* use powerup defaults */
 	return;
 }
 
-static int subdev_700_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int subdev_700_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -274,21 +274,21 @@ static int subdev_700_cmdtest(struct com
 	return 0;
 }
 
-static int subdev_700_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int subdev_700_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	/* FIXME */
 
 	return 0;
 }
 
-static int subdev_700_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int subdev_700_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	/* FIXME */
 
 	return 0;
 }
 
-int subdev_700_init(struct comedi_device * dev, comedi_subdevice * s, int (*cb) (int,
+int subdev_700_init(struct comedi_device * dev, struct comedi_subdevice * s, int (*cb) (int,
 		int, int, unsigned long), unsigned long arg)
 {
 	s->type = COMEDI_SUBD_DIO;
@@ -317,7 +317,7 @@ int subdev_700_init(struct comedi_device
 	return 0;
 }
 
-int subdev_700_init_irq(struct comedi_device * dev, comedi_subdevice * s,
+int subdev_700_init_irq(struct comedi_device * dev, struct comedi_subdevice * s,
 	int (*cb) (int, int, int, unsigned long), unsigned long arg)
 {
 	int ret;
@@ -335,7 +335,7 @@ int subdev_700_init_irq(struct comedi_de
 	return 0;
 }
 
-void subdev_700_cleanup(struct comedi_device * dev, comedi_subdevice * s)
+void subdev_700_cleanup(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	if (s->private) {
 		if (subdevpriv->have_irq) {
@@ -352,7 +352,7 @@ EXPORT_SYMBOL(subdev_700_interrupt);
 
 static int dio700_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase = 0;
 #ifdef incomplete
 	unsigned int irq = 0;
--- a/drivers/staging/comedi/drivers/ni_daq_dio24.c
+++ b/drivers/staging/comedi/drivers/ni_daq_dio24.c
@@ -109,7 +109,7 @@ static comedi_driver driver_dio24 = {
 
 static int dio24_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase = 0;
 #ifdef incomplete
 	unsigned int irq = 0;
--- a/drivers/staging/comedi/drivers/ni_labpc.c
+++ b/drivers/staging/comedi/drivers/ni_labpc.c
@@ -164,28 +164,28 @@ NI manuals:
 #define COUNTER_B_BASE_REG	0x18
 
 static int labpc_attach(struct comedi_device * dev, comedi_devconfig * it);
-static int labpc_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int labpc_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 static irqreturn_t labpc_interrupt(int irq, void *d PT_REGS_ARG);
 static int labpc_drain_fifo(struct comedi_device * dev);
 static void labpc_drain_dma(struct comedi_device * dev);
 static void handle_isa_dma(struct comedi_device * dev);
 static void labpc_drain_dregs(struct comedi_device * dev);
-static int labpc_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int labpc_ai_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int labpc_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int labpc_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int labpc_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int labpc_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int labpc_calib_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_calib_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int labpc_calib_write_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_calib_write_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int labpc_eeprom_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_eeprom_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int labpc_eeprom_write_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_eeprom_write_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 static unsigned int labpc_suggest_transfer_size(comedi_cmd cmd);
 static void labpc_adc_timing(struct comedi_device * dev, comedi_cmd * cmd);
@@ -462,7 +462,7 @@ static inline int labpc_counter_load(str
 int labpc_common_attach(struct comedi_device * dev, unsigned long iobase,
 	unsigned int irq, unsigned int dma_chan)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int i;
 	unsigned long dma_flags, isr_flags;
 	short lsb, msb;
@@ -755,7 +755,7 @@ static void labpc_clear_adc_fifo(const s
 	devpriv->read_byte(dev->iobase + ADC_FIFO_REG);
 }
 
-static int labpc_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int labpc_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long flags;
 
@@ -926,7 +926,7 @@ static void labpc_set_ai_scan_period(com
 	cmd->scan_begin_arg = ns;
 }
 
-static int labpc_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -1063,7 +1063,7 @@ static int labpc_ai_cmdtest(struct comed
 	return 0;
 }
 
-static int labpc_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int labpc_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int channel, range, aref;
 	unsigned long irq_flags;
@@ -1312,7 +1312,7 @@ static int labpc_ai_cmd(struct comedi_de
 static irqreturn_t labpc_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev->read_subdev;
+	struct comedi_subdevice *s = dev->read_subdev;
 	comedi_async *async;
 	comedi_cmd *cmd;
 
@@ -1429,7 +1429,7 @@ static int labpc_drain_fifo(struct comed
 
 static void labpc_drain_dma(struct comedi_device * dev)
 {
-	comedi_subdevice *s = dev->read_subdev;
+	struct comedi_subdevice *s = dev->read_subdev;
 	comedi_async *async = s->async;
 	int status;
 	unsigned long flags;
@@ -1500,7 +1500,7 @@ static void labpc_drain_dregs(struct com
 	labpc_drain_fifo(dev);
 }
 
-static int labpc_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
@@ -1586,7 +1586,7 @@ static int labpc_ai_rinsn(struct comedi_
 }
 
 // analog output insn
-static int labpc_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int channel, range;
@@ -1627,7 +1627,7 @@ static int labpc_ao_winsn(struct comedi_
 }
 
 // analog output readback insn
-static int labpc_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv->ao_value[CR_CHAN(insn->chanspec)];
@@ -1635,7 +1635,7 @@ static int labpc_ao_rinsn(struct comedi_
 	return 1;
 }
 
-static int labpc_calib_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_calib_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv->caldac[CR_CHAN(insn->chanspec)];
@@ -1643,7 +1643,7 @@ static int labpc_calib_read_insn(struct 
 	return 1;
 }
 
-static int labpc_calib_write_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_calib_write_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int channel = CR_CHAN(insn->chanspec);
@@ -1652,7 +1652,7 @@ static int labpc_calib_write_insn(struct
 	return 1;
 }
 
-static int labpc_eeprom_read_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_eeprom_read_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv->eeprom_data[CR_CHAN(insn->chanspec)];
@@ -1660,7 +1660,7 @@ static int labpc_eeprom_read_insn(struct
 	return 1;
 }
 
-static int labpc_eeprom_write_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int labpc_eeprom_write_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int channel = CR_CHAN(insn->chanspec);
--- a/drivers/staging/comedi/drivers/ni_mio_common.c
+++ b/drivers/staging/comedi/drivers/ni_mio_common.c
@@ -193,48 +193,48 @@ static const comedi_lrange *const ni_ran
 	[ai_gain_6143] = &range_ni_S_ai_6143
 };
 
-static int ni_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_cdio_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_cdio_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int ni_cdio_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int ni_cdio_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int ni_cdio_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int ni_cdio_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 static void handle_cdio_interrupt(struct comedi_device * dev);
-static int ni_cdo_inttrig(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_cdo_inttrig(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trignum);
 
-static int ni_serial_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_serial_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_serial_hw_readwrite8(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_serial_hw_readwrite8(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned char data_out, unsigned char *data_in);
-static int ni_serial_sw_readwrite8(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_serial_sw_readwrite8(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned char data_out, unsigned char *data_in);
 
-static int ni_calib_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_calib_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_calib_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_calib_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int ni_eeprom_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_eeprom_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 static int ni_m_series_eeprom_insn_read(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
-static int ni_pfi_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_pfi_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_pfi_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_pfi_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 static unsigned ni_old_get_pfi_routing(struct comedi_device * dev, unsigned chan);
 
 static void ni_rtsi_init(struct comedi_device * dev);
-static int ni_rtsi_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_rtsi_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_rtsi_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_rtsi_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static void caldac_setup(struct comedi_device * dev, comedi_subdevice * s);
+static void caldac_setup(struct comedi_device * dev, struct comedi_subdevice * s);
 static int ni_read_eeprom(struct comedi_device * dev, int addr);
 
 #ifdef DEBUG_STATUS_A
@@ -248,41 +248,41 @@ static void ni_mio_print_status_b(int st
 #define ni_mio_print_status_b(a)
 #endif
 
-static int ni_ai_reset(struct comedi_device * dev, comedi_subdevice * s);
+static int ni_ai_reset(struct comedi_device * dev, struct comedi_subdevice * s);
 #ifndef PCIDMA
 static void ni_handle_fifo_half_full(struct comedi_device * dev);
-static int ni_ao_fifo_half_empty(struct comedi_device * dev, comedi_subdevice * s);
+static int ni_ao_fifo_half_empty(struct comedi_device * dev, struct comedi_subdevice * s);
 #endif
 static void ni_handle_fifo_dregs(struct comedi_device * dev);
-static int ni_ai_inttrig(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_ai_inttrig(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trignum);
 static void ni_load_channelgain_list(struct comedi_device * dev, unsigned int n_chan,
 	unsigned int *list);
 static void shutdown_ai_command(struct comedi_device * dev);
 
-static int ni_ao_inttrig(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_ao_inttrig(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trignum);
 
-static int ni_ao_reset(struct comedi_device * dev, comedi_subdevice * s);
+static int ni_ao_reset(struct comedi_device * dev, struct comedi_subdevice * s);
 
 static int ni_8255_callback(int dir, int port, int data, unsigned long arg);
 
-static int ni_gpct_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_gpct_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_gpct_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_gpct_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_gpct_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_gpct_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_gpct_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int ni_gpct_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_gpct_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int ni_gpct_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int ni_gpct_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int ni_gpct_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 static void handle_gpct_interrupt(struct comedi_device * dev,
 	unsigned short counter_index);
 
 static int init_cs5529(struct comedi_device * dev);
 static int cs5529_do_conversion(struct comedi_device * dev, unsigned short *data);
-static int cs5529_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int cs5529_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 #ifdef NI_CS5529_DEBUG
 static unsigned int cs5529_config_read(struct comedi_device * dev,
@@ -291,9 +291,9 @@ static unsigned int cs5529_config_read(s
 static void cs5529_config_write(struct comedi_device * dev, unsigned int value,
 	unsigned int reg_select_bits);
 
-static int ni_m_series_pwm_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_m_series_pwm_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ni_6143_pwm_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_6143_pwm_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 static int ni_set_master_clock(struct comedi_device * dev, unsigned source,
@@ -825,7 +825,7 @@ static irqreturn_t ni_E_interrupt(int ir
 #ifdef PCIDMA
 static void ni_sync_ai_dma(struct comedi_device * dev)
 {
-	comedi_subdevice *s = dev->subdevices + NI_AI_SUBDEV;
+	struct comedi_subdevice *s = dev->subdevices + NI_AI_SUBDEV;
 	unsigned long flags;
 
 	comedi_spin_lock_irqsave(&devpriv->mite_channel_lock, flags);
@@ -836,7 +836,7 @@ static void ni_sync_ai_dma(struct comedi
 
 static void mite_handle_b_linkc(struct mite_struct *mite, struct comedi_device * dev)
 {
-	comedi_subdevice *s = dev->subdevices + NI_AO_SUBDEV;
+	struct comedi_subdevice *s = dev->subdevices + NI_AO_SUBDEV;
 	unsigned long flags;
 
 	comedi_spin_lock_irqsave(&devpriv->mite_channel_lock, flags);
@@ -868,7 +868,7 @@ static int ni_ao_wait_for_dma_load(struc
 }
 
 #endif //PCIDMA
-static void ni_handle_eos(struct comedi_device * dev, comedi_subdevice * s)
+static void ni_handle_eos(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	if (devpriv->aimode == AIMODE_SCAN) {
 #ifdef PCIDMA
@@ -894,7 +894,7 @@ static void ni_handle_eos(struct comedi_
 
 static void shutdown_ai_command(struct comedi_device * dev)
 {
-	comedi_subdevice *s = dev->subdevices + NI_AI_SUBDEV;
+	struct comedi_subdevice *s = dev->subdevices + NI_AI_SUBDEV;
 
 #ifdef PCIDMA
 	ni_ai_drain_dma(dev);
@@ -906,7 +906,7 @@ static void shutdown_ai_command(struct c
 	s->async->events |= COMEDI_CB_EOA;
 }
 
-static void ni_event(struct comedi_device * dev, comedi_subdevice * s)
+static void ni_event(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	if (s->async->
 		events & (COMEDI_CB_ERROR | COMEDI_CB_OVERFLOW | COMEDI_CB_EOA))
@@ -936,7 +936,7 @@ static void handle_gpct_interrupt(struct
 	unsigned short counter_index)
 {
 #ifdef PCIDMA
-	comedi_subdevice *s = dev->subdevices + NI_GPCT_SUBDEV(counter_index);
+	struct comedi_subdevice *s = dev->subdevices + NI_GPCT_SUBDEV(counter_index);
 
 	ni_tio_handle_interrupt(&devpriv->counter_dev->counters[counter_index],
 		s);
@@ -969,7 +969,7 @@ static void ack_a_interrupt(struct comed
 static void handle_a_interrupt(struct comedi_device * dev, unsigned short status,
 	unsigned ai_mite_status)
 {
-	comedi_subdevice *s = dev->subdevices + NI_AI_SUBDEV;
+	struct comedi_subdevice *s = dev->subdevices + NI_AI_SUBDEV;
 
 	//67xx boards don't have ai subdevice, but their gpct0 might generate an a interrupt
 	if (s->type == COMEDI_SUBD_UNUSED)
@@ -1101,7 +1101,7 @@ static void ack_b_interrupt(struct comed
 static void handle_b_interrupt(struct comedi_device * dev, unsigned short b_status,
 	unsigned ao_mite_status)
 {
-	comedi_subdevice *s = dev->subdevices + NI_AO_SUBDEV;
+	struct comedi_subdevice *s = dev->subdevices + NI_AO_SUBDEV;
 	//unsigned short ack=0;
 #ifdef DEBUG_INTERRUPT
 	rt_printk("ni_mio_common: interrupt: b_status=%04x m1_status=%08x\n",
@@ -1204,7 +1204,7 @@ static void ni_mio_print_status_b(int st
 
 #ifndef PCIDMA
 
-static void ni_ao_fifo_load(struct comedi_device * dev, comedi_subdevice * s, int n)
+static void ni_ao_fifo_load(struct comedi_device * dev, struct comedi_subdevice * s, int n)
 {
 	comedi_async *async = s->async;
 	comedi_cmd *cmd = &async->cmd;
@@ -1263,7 +1263,7 @@ static void ni_ao_fifo_load(struct comed
  *  RT code, as RT code might purposely be running close to the
  *  metal.  Needs to be fixed eventually.
  */
-static int ni_ao_fifo_half_empty(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_ao_fifo_half_empty(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int n;
 
@@ -1284,7 +1284,7 @@ static int ni_ao_fifo_half_empty(struct 
 	return 1;
 }
 
-static int ni_ao_prep_fifo(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_ao_prep_fifo(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int n;
 
@@ -1307,7 +1307,7 @@ static int ni_ao_prep_fifo(struct comedi
 	return n;
 }
 
-static void ni_ai_fifo_read(struct comedi_device * dev, comedi_subdevice * s, int n)
+static void ni_ai_fifo_read(struct comedi_device * dev, struct comedi_subdevice * s, int n)
 {
 	comedi_async *async = s->async;
 	int i;
@@ -1367,7 +1367,7 @@ static void ni_ai_fifo_read(struct comed
 static void ni_handle_fifo_half_full(struct comedi_device * dev)
 {
 	int n;
-	comedi_subdevice *s = dev->subdevices + NI_AI_SUBDEV;
+	struct comedi_subdevice *s = dev->subdevices + NI_AI_SUBDEV;
 
 	n = boardtype.ai_fifo_depth / 2;
 
@@ -1416,7 +1416,7 @@ static int ni_ai_drain_dma(struct comedi
 */
 static void ni_handle_fifo_dregs(struct comedi_device * dev)
 {
-	comedi_subdevice *s = dev->subdevices + NI_AI_SUBDEV;
+	struct comedi_subdevice *s = dev->subdevices + NI_AI_SUBDEV;
 	short data[2];
 	u32 dl;
 	short fifo_empty;
@@ -1478,7 +1478,7 @@ static void ni_handle_fifo_dregs(struct 
 
 static void get_last_sample_611x(struct comedi_device * dev)
 {
-	comedi_subdevice *s = dev->subdevices + NI_AI_SUBDEV;
+	struct comedi_subdevice *s = dev->subdevices + NI_AI_SUBDEV;
 	short data;
 	u32 dl;
 
@@ -1495,7 +1495,7 @@ static void get_last_sample_611x(struct 
 
 static void get_last_sample_6143(struct comedi_device * dev)
 {
-	comedi_subdevice *s = dev->subdevices + NI_AI_SUBDEV;
+	struct comedi_subdevice *s = dev->subdevices + NI_AI_SUBDEV;
 	short data;
 	u32 dl;
 
@@ -1513,7 +1513,7 @@ static void get_last_sample_6143(struct 
 	}
 }
 
-static void ni_ai_munge(struct comedi_device * dev, comedi_subdevice * s,
+static void ni_ai_munge(struct comedi_device * dev, struct comedi_subdevice * s,
 	void *data, unsigned int num_bytes, unsigned int chan_index)
 {
 	comedi_async *async = s->async;
@@ -1541,7 +1541,7 @@ static void ni_ai_munge(struct comedi_de
 
 static int ni_ai_setup_MITE_dma(struct comedi_device * dev)
 {
-	comedi_subdevice *s = dev->subdevices + NI_AI_SUBDEV;
+	struct comedi_subdevice *s = dev->subdevices + NI_AI_SUBDEV;
 	int retval;
 	unsigned long flags;
 
@@ -1581,7 +1581,7 @@ static int ni_ai_setup_MITE_dma(struct c
 
 static int ni_ao_setup_MITE_dma(struct comedi_device * dev)
 {
-	comedi_subdevice *s = dev->subdevices + NI_AO_SUBDEV;
+	struct comedi_subdevice *s = dev->subdevices + NI_AO_SUBDEV;
 	int retval;
 	unsigned long flags;
 
@@ -1617,7 +1617,7 @@ static int ni_ao_setup_MITE_dma(struct c
    this is pretty harsh for a cancel, but it works...
  */
 
-static int ni_ai_reset(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_ai_reset(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	ni_release_ai_mite_channel(dev);
 	/* ai configuration */
@@ -1698,7 +1698,7 @@ static int ni_ai_reset(struct comedi_dev
 	return 0;
 }
 
-static int ni_ai_poll(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_ai_poll(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long flags = 0;
 	int count;
@@ -1718,7 +1718,7 @@ static int ni_ai_poll(struct comedi_devi
 	return count;
 }
 
-static int ni_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
@@ -2095,7 +2095,7 @@ static unsigned ni_min_ai_scan_period_ns
 	return boardtype.ai_speed * num_channels;
 }
 
-static int ni_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -2308,7 +2308,7 @@ static int ni_ai_cmdtest(struct comedi_d
 	return 0;
 }
 
-static int ni_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	const comedi_cmd *cmd = &s->async->cmd;
 	int timer;
@@ -2612,7 +2612,7 @@ static int ni_ai_cmd(struct comedi_devic
 	return 0;
 }
 
-static int ni_ai_inttrig(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_ai_inttrig(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trignum)
 {
 	if (trignum != 0)
@@ -2625,10 +2625,10 @@ static int ni_ai_inttrig(struct comedi_d
 	return 1;
 }
 
-static int ni_ai_config_analog_trig(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_ai_config_analog_trig(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int ni_ai_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_ai_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n < 1)
@@ -2679,7 +2679,7 @@ static int ni_ai_insn_config(struct come
 	return -EINVAL;
 }
 
-static int ni_ai_config_analog_trig(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_ai_config_analog_trig(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int a, b, modebits;
@@ -2777,7 +2777,7 @@ static int ni_ai_config_analog_trig(stru
 }
 
 /* munge data from unsigned to 2's complement for analog output bipolar modes */
-static void ni_ao_munge(struct comedi_device * dev, comedi_subdevice * s,
+static void ni_ao_munge(struct comedi_device * dev, struct comedi_subdevice * s,
 	void *data, unsigned int num_bytes, unsigned int chan_index)
 {
 	comedi_async *async = s->async;
@@ -2801,7 +2801,7 @@ static void ni_ao_munge(struct comedi_de
 }
 
 static int ni_m_series_ao_config_chanlist(struct comedi_device * dev,
-	comedi_subdevice * s, unsigned int chanspec[], unsigned int n_chans,
+	struct comedi_subdevice * s, unsigned int chanspec[], unsigned int n_chans,
 	int timed)
 {
 	unsigned int range;
@@ -2869,7 +2869,7 @@ static int ni_m_series_ao_config_chanlis
 	return invert;
 }
 
-static int ni_old_ao_config_chanlist(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_old_ao_config_chanlist(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int chanspec[], unsigned int n_chans)
 {
 	unsigned int range;
@@ -2912,7 +2912,7 @@ static int ni_old_ao_config_chanlist(str
 	return invert;
 }
 
-static int ni_ao_config_chanlist(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_ao_config_chanlist(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int chanspec[], unsigned int n_chans, int timed)
 {
 	if (boardtype.reg_type & ni_reg_m_series_mask)
@@ -2921,7 +2921,7 @@ static int ni_ao_config_chanlist(struct 
 	else
 		return ni_old_ao_config_chanlist(dev, s, chanspec, n_chans);
 }
-static int ni_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv->ao[CR_CHAN(insn->chanspec)];
@@ -2929,7 +2929,7 @@ static int ni_ao_insn_read(struct comedi
 	return 1;
 }
 
-static int ni_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_ao_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int chan = CR_CHAN(insn->chanspec);
@@ -2948,7 +2948,7 @@ static int ni_ao_insn_write(struct comed
 	return 1;
 }
 
-static int ni_ao_insn_write_671x(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_ao_insn_write_671x(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int chan = CR_CHAN(insn->chanspec);
@@ -2965,7 +2965,7 @@ static int ni_ao_insn_write_671x(struct 
 	return 1;
 }
 
-static int ni_ao_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_ao_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	switch (data[0]) {
@@ -2991,7 +2991,7 @@ static int ni_ao_insn_config(struct come
 	return -EINVAL;
 }
 
-static int ni_ao_inttrig(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_ao_inttrig(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trignum)
 {
 	int ret;
@@ -3062,7 +3062,7 @@ static int ni_ao_inttrig(struct comedi_d
 	return 0;
 }
 
-static int ni_ao_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_ao_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	const comedi_cmd *cmd = &s->async->cmd;
 	int bits;
@@ -3261,7 +3261,7 @@ static int ni_ao_cmd(struct comedi_devic
 	return 0;
 }
 
-static int ni_ao_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_ao_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -3384,7 +3384,7 @@ static int ni_ao_cmdtest(struct comedi_d
 	return 0;
 }
 
-static int ni_ao_reset(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_ao_reset(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	//devpriv->ao0p=0x0000;
 	//ni_writew(devpriv->ao0p,AO_Configuration);
@@ -3436,7 +3436,7 @@ static int ni_ao_reset(struct comedi_dev
 
 // digital io
 
-static int ni_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 #ifdef DEBUG_DIO
@@ -3468,7 +3468,7 @@ static int ni_dio_insn_config(struct com
 	return 1;
 }
 
-static int ni_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 #ifdef DEBUG_DIO
@@ -3496,7 +3496,7 @@ static int ni_dio_insn_bits(struct comed
 }
 
 static int ni_m_series_dio_insn_config(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 #ifdef DEBUG_DIO
 	rt_printk("ni_m_series_dio_insn_config() chan=%d io=%d\n",
@@ -3525,7 +3525,7 @@ static int ni_m_series_dio_insn_config(s
 	return 1;
 }
 
-static int ni_m_series_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_m_series_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 #ifdef DEBUG_DIO
@@ -3544,7 +3544,7 @@ static int ni_m_series_dio_insn_bits(str
 	return 2;
 }
 
-static int ni_cdio_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_cdio_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -3653,7 +3653,7 @@ static int ni_cdio_cmdtest(struct comedi
 	return 0;
 }
 
-static int ni_cdio_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_cdio_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	const comedi_cmd *cmd = &s->async->cmd;
 	unsigned cdo_mode_bits = CDO_FIFO_Mode_Bit | CDO_Halt_On_Error_Bit;
@@ -3690,7 +3690,7 @@ static int ni_cdio_cmd(struct comedi_dev
 	return 0;
 }
 
-static int ni_cdo_inttrig(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_cdo_inttrig(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trignum)
 {
 #ifdef PCIDMA
@@ -3736,7 +3736,7 @@ static int ni_cdo_inttrig(struct comedi_
 	return retval;
 }
 
-static int ni_cdio_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_cdio_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	ni_writel(CDO_Disarm_Bit | CDO_Error_Interrupt_Enable_Clear_Bit |
 		CDO_Empty_FIFO_Interrupt_Enable_Clear_Bit |
@@ -3752,7 +3752,7 @@ static int ni_cdio_cancel(struct comedi_
 static void handle_cdio_interrupt(struct comedi_device * dev)
 {
 	unsigned cdio_status;
-	comedi_subdevice *s = dev->subdevices + NI_DIO_SUBDEV;
+	struct comedi_subdevice *s = dev->subdevices + NI_DIO_SUBDEV;
 #ifdef PCIDMA
 	unsigned long flags;
 #endif
@@ -3790,7 +3790,7 @@ static void handle_cdio_interrupt(struct
 	ni_event(dev, s);
 }
 
-static int ni_serial_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_serial_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int err = insn->n;
@@ -3884,7 +3884,7 @@ static int ni_serial_insn_config(struct 
 
 }
 
-static int ni_serial_hw_readwrite8(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_serial_hw_readwrite8(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned char data_out, unsigned char *data_in)
 {
 	unsigned int status1;
@@ -3940,7 +3940,7 @@ static int ni_serial_hw_readwrite8(struc
 	return err;
 }
 
-static int ni_serial_sw_readwrite8(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_serial_sw_readwrite8(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned char data_out, unsigned char *data_in)
 {
 	unsigned char mask, input = 0;
@@ -4004,7 +4004,7 @@ static void mio_common_detach(struct com
 		subdev_8255_cleanup(dev, dev->subdevices + NI_8255_DIO_SUBDEV);
 }
 
-static void init_ao_67xx(struct comedi_device * dev, comedi_subdevice * s)
+static void init_ao_67xx(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int i;
 
@@ -4209,14 +4209,14 @@ static unsigned ni_gpct_read_register(st
 }
 
 static int ni_freq_out_insn_read(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv->clock_and_fout & FOUT_Divider_mask;
 	return 1;
 }
 
 static int ni_freq_out_insn_write(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	devpriv->clock_and_fout &= ~FOUT_Enable;
 	devpriv->stc_writew(dev, devpriv->clock_and_fout,
@@ -4258,7 +4258,7 @@ static void ni_get_freq_out_clock(struct
 	}
 }
 
-static int ni_freq_out_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_freq_out_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	switch (data[0]) {
@@ -4291,7 +4291,7 @@ static int ni_alloc_private(struct comed
 
 static int ni_E_init(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned j;
 	enum ni_gpct_variant counter_variant;
 
@@ -4623,7 +4623,7 @@ static int ni_8255_callback(int dir, int
 	presents the EEPROM as a subdevice
 */
 
-static int ni_eeprom_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_eeprom_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = ni_read_eeprom(dev, CR_CHAN(insn->chanspec));
@@ -4660,7 +4660,7 @@ static int ni_read_eeprom(struct comedi_
 }
 
 static int ni_m_series_eeprom_insn_read(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv->eeprom_buffer[CR_CHAN(insn->chanspec)];
 
@@ -4674,7 +4674,7 @@ static int ni_get_pwm_config(struct come
 	return 3;
 }
 
-static int ni_m_series_pwm_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_m_series_pwm_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned up_count, down_count;
@@ -4739,7 +4739,7 @@ static int ni_m_series_pwm_config(struct
 	return 0;
 }
 
-static int ni_6143_pwm_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_6143_pwm_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned up_count, down_count;
@@ -4806,7 +4806,7 @@ static void ni_write_caldac(struct comed
 /*
 	calibration subdevice
 */
-static int ni_calib_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_calib_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	ni_write_caldac(dev, CR_CHAN(insn->chanspec), data[0]);
@@ -4814,7 +4814,7 @@ static int ni_calib_insn_write(struct co
 	return 1;
 }
 
-static int ni_calib_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_calib_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	data[0] = devpriv->caldacs[CR_CHAN(insn->chanspec)];
@@ -4845,7 +4845,7 @@ static struct caldac_struct caldacs[] = 
 	[ad8804_debug] = {16, 8, pack_ad8804},
 };
 
-static void caldac_setup(struct comedi_device * dev, comedi_subdevice * s)
+static void caldac_setup(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int i, j;
 	int n_dacs;
@@ -5070,28 +5070,28 @@ static void GPCT_Reset(struct comedi_dev
 
 #endif
 
-static int ni_gpct_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_gpct_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	struct ni_gpct *counter = s->private;
 	return ni_tio_insn_config(counter, insn, data);
 }
 
-static int ni_gpct_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_gpct_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	struct ni_gpct *counter = s->private;
 	return ni_tio_rinsn(counter, insn, data);
 }
 
-static int ni_gpct_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_gpct_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	struct ni_gpct *counter = s->private;
 	return ni_tio_winsn(counter, insn, data);
 }
 
-static int ni_gpct_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_gpct_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int retval;
 #ifdef PCIDMA
@@ -5114,7 +5114,7 @@ static int ni_gpct_cmd(struct comedi_dev
 	return retval;
 }
 
-static int ni_gpct_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_gpct_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 #ifdef PCIDMA
@@ -5126,7 +5126,7 @@ static int ni_gpct_cmdtest(struct comedi
 #endif
 }
 
-static int ni_gpct_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_gpct_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 #ifdef PCIDMA
 	struct ni_gpct *counter = s->private;
@@ -5253,7 +5253,7 @@ static int ni_config_filter(struct comed
 	return 0;
 }
 
-static int ni_pfi_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_pfi_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if ((boardtype.reg_type & ni_reg_m_series_mask) == 0) {
@@ -5268,7 +5268,7 @@ static int ni_pfi_insn_bits(struct comed
 	return 2;
 }
 
-static int ni_pfi_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_pfi_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int chan;
@@ -5345,7 +5345,7 @@ static void ni_rtsi_init(struct comedi_d
 //      devpriv->stc_writew(dev, 0x0000, RTSI_Board_Register);
 }
 
-static int ni_rtsi_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_rtsi_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -5626,7 +5626,7 @@ static unsigned ni_get_rtsi_routing(stru
 	}
 }
 
-static int ni_rtsi_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_rtsi_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int chan = CR_CHAN(insn->chanspec);
@@ -5805,7 +5805,7 @@ static int cs5529_do_conversion(struct c
 	return 0;
 }
 
-static int cs5529_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int cs5529_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, retval;
--- a/drivers/staging/comedi/drivers/ni_pcidio.c
+++ b/drivers/staging/comedi/drivers/ni_pcidio.c
@@ -289,7 +289,7 @@ enum FPGA_Control_Bits {
 
 static int nidio_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int nidio_detach(struct comedi_device * dev);
-static int ni_pcidio_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int ni_pcidio_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 
 static comedi_driver driver_pcidio = {
       driver_name:"ni_pcidio",
@@ -399,14 +399,14 @@ typedef struct {
 } nidio96_private;
 #define devpriv ((nidio96_private *)dev->private)
 
-static int ni_pcidio_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_pcidio_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int ni_pcidio_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int ni_pcidio_inttrig(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_pcidio_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int ni_pcidio_inttrig(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trignum);
 static int nidio_find_device(struct comedi_device * dev, int bus, int slot);
 static int ni_pcidio_ns_to_timer(int *nanosec, int round_mode);
-static int setup_mite_dma(struct comedi_device * dev, comedi_subdevice * s);
+static int setup_mite_dma(struct comedi_device * dev, struct comedi_subdevice * s);
 
 #ifdef DEBUG_FLAGS
 static void ni_pcidio_print_flags(unsigned int flags);
@@ -467,7 +467,7 @@ static int nidio96_8255_cb(int dir, int 
 	}
 }
 
-void ni_pcidio_event(struct comedi_device * dev, comedi_subdevice * s)
+void ni_pcidio_event(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	if (s->async->
 		events & (COMEDI_CB_EOA | COMEDI_CB_ERROR | COMEDI_CB_OVERFLOW))
@@ -480,7 +480,7 @@ void ni_pcidio_event(struct comedi_devic
 static irqreturn_t nidio_interrupt(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev->subdevices;
+	struct comedi_subdevice *s = dev->subdevices;
 	comedi_async *async = s->async;
 	struct mite_struct *mite = devpriv->mite;
 
@@ -702,7 +702,7 @@ static void debug_int(struct comedi_devi
 }
 #endif
 
-static int ni_pcidio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_pcidio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 1)
@@ -729,7 +729,7 @@ static int ni_pcidio_insn_config(struct 
 	return 1;
 }
 
-static int ni_pcidio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_pcidio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -744,7 +744,7 @@ static int ni_pcidio_insn_bits(struct co
 	return 2;
 }
 
-static int ni_pcidio_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_pcidio_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -876,7 +876,7 @@ static int ni_pcidio_ns_to_timer(int *na
 	return divider;
 }
 
-static int ni_pcidio_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_pcidio_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &s->async->cmd;
 
@@ -986,7 +986,7 @@ static int ni_pcidio_cmd(struct comedi_d
 	return 0;
 }
 
-static int setup_mite_dma(struct comedi_device * dev, comedi_subdevice * s)
+static int setup_mite_dma(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int retval;
 
@@ -1002,7 +1002,7 @@ static int setup_mite_dma(struct comedi_
 	return 0;
 }
 
-static int ni_pcidio_inttrig(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_pcidio_inttrig(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trignum)
 {
 	if (trignum != 0)
@@ -1014,7 +1014,7 @@ static int ni_pcidio_inttrig(struct come
 	return 1;
 }
 
-static int ni_pcidio_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int ni_pcidio_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	writeb(0x00,
 		devpriv->mite->daq_io_addr + Master_DMA_And_Interrupt_Control);
@@ -1023,7 +1023,7 @@ static int ni_pcidio_cancel(struct comed
 	return 0;
 }
 
-static int ni_pcidio_change(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_pcidio_change(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned long new_size)
 {
 	int ret;
@@ -1151,7 +1151,7 @@ static int pci_6534_upload_firmware(stru
 
 static int nidio_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int i;
 	int ret;
 	int n_subdevices;
--- a/drivers/staging/comedi/drivers/ni_pcimio.c
+++ b/drivers/staging/comedi/drivers/ni_pcimio.c
@@ -1529,15 +1529,15 @@ static uint32_t m_series_stc_readl(struc
 #include "ni_mio_common.c"
 
 static int pcimio_find_device(struct comedi_device * dev, int bus, int slot);
-static int pcimio_ai_change(struct comedi_device * dev, comedi_subdevice * s,
+static int pcimio_ai_change(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned long new_size);
-static int pcimio_ao_change(struct comedi_device * dev, comedi_subdevice * s,
+static int pcimio_ao_change(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned long new_size);
-static int pcimio_gpct0_change(struct comedi_device * dev, comedi_subdevice * s,
+static int pcimio_gpct0_change(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned long new_size);
-static int pcimio_gpct1_change(struct comedi_device * dev, comedi_subdevice * s,
+static int pcimio_gpct1_change(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned long new_size);
-static int pcimio_dio_change(struct comedi_device * dev, comedi_subdevice * s,
+static int pcimio_dio_change(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned long new_size);
 
 static void m_series_init_eeprom_buffer(struct comedi_device * dev)
@@ -1727,7 +1727,7 @@ static int pcimio_find_device(struct com
 	return -EIO;
 }
 
-static int pcimio_ai_change(struct comedi_device * dev, comedi_subdevice * s,
+static int pcimio_ai_change(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned long new_size)
 {
 	int ret;
@@ -1739,7 +1739,7 @@ static int pcimio_ai_change(struct comed
 	return 0;
 }
 
-static int pcimio_ao_change(struct comedi_device * dev, comedi_subdevice * s,
+static int pcimio_ao_change(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned long new_size)
 {
 	int ret;
@@ -1751,7 +1751,7 @@ static int pcimio_ao_change(struct comed
 	return 0;
 }
 
-static int pcimio_gpct0_change(struct comedi_device * dev, comedi_subdevice * s,
+static int pcimio_gpct0_change(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned long new_size)
 {
 	int ret;
@@ -1763,7 +1763,7 @@ static int pcimio_gpct0_change(struct co
 	return 0;
 }
 
-static int pcimio_gpct1_change(struct comedi_device * dev, comedi_subdevice * s,
+static int pcimio_gpct1_change(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned long new_size)
 {
 	int ret;
@@ -1775,7 +1775,7 @@ static int pcimio_gpct1_change(struct co
 	return 0;
 }
 
-static int pcimio_dio_change(struct comedi_device * dev, comedi_subdevice * s,
+static int pcimio_dio_change(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned long new_size)
 {
 	int ret;
--- a/drivers/staging/comedi/drivers/ni_tiocmd.c
+++ b/drivers/staging/comedi/drivers/ni_tiocmd.c
@@ -96,7 +96,7 @@ static void ni_tio_configure_dma(struct 
 	}
 }
 
-static int ni_tio_input_inttrig(struct comedi_device * dev, comedi_subdevice * s,
+static int ni_tio_input_inttrig(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trignum)
 {
 	unsigned long flags;
@@ -447,7 +447,7 @@ void ni_tio_acknowledge_and_confirm(stru
 	}
 }
 
-void ni_tio_handle_interrupt(struct ni_gpct *counter, comedi_subdevice * s)
+void ni_tio_handle_interrupt(struct ni_gpct *counter, struct comedi_subdevice * s)
 {
 	unsigned gpct_mite_status;
 	unsigned long flags;
--- a/drivers/staging/comedi/drivers/ni_tio.h
+++ b/drivers/staging/comedi/drivers/ni_tio.h
@@ -149,13 +149,13 @@ extern int ni_tio_cmd(struct ni_gpct *co
 extern int ni_tio_cmdtest(struct ni_gpct *counter, comedi_cmd * cmd);
 extern int ni_tio_cancel(struct ni_gpct *counter);
 extern void ni_tio_handle_interrupt(struct ni_gpct *counter,
-	comedi_subdevice * s);
+	struct comedi_subdevice * s);
 extern void ni_tio_set_mite_channel(struct ni_gpct *counter,
 	struct mite_channel *mite_chan);
 extern void ni_tio_acknowledge_and_confirm(struct ni_gpct *counter,
 	int *gate_error, int *tc_error, int *perm_stale_data, int *stale_data);
 
-static inline struct ni_gpct *subdev_to_counter(comedi_subdevice * s)
+static inline struct ni_gpct *subdev_to_counter(struct comedi_subdevice * s)
 {
 	return s->private;
 }
--- a/drivers/staging/comedi/drivers/pcl711.c
+++ b/drivers/staging/comedi/drivers/pcl711.c
@@ -186,7 +186,7 @@ static irqreturn_t pcl711_interrupt(int 
 	int lo, hi;
 	int data;
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev->subdevices + 0;
+	struct comedi_subdevice *s = dev->subdevices + 0;
 
 	if (!dev->attached) {
 		comedi_error(dev, "spurious interrupt");
@@ -240,7 +240,7 @@ static void pcl711_set_changain(struct c
 	}
 }
 
-static int pcl711_ai_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl711_ai_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, n;
@@ -279,7 +279,7 @@ static int pcl711_ai_insn(struct comedi_
 	return n;
 }
 
-static int pcl711_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl711_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int tmp;
@@ -381,7 +381,7 @@ static int pcl711_ai_cmdtest(struct come
 	return 0;
 }
 
-static int pcl711_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int pcl711_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int timer1, timer2;
 	comedi_cmd *cmd = &s->async->cmd;
@@ -427,7 +427,7 @@ static int pcl711_ai_cmd(struct comedi_d
 /*
    analog output
 */
-static int pcl711_ao_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl711_ao_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -445,7 +445,7 @@ static int pcl711_ao_insn(struct comedi_
 	return n;
 }
 
-static int pcl711_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl711_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -460,7 +460,7 @@ static int pcl711_ao_insn_read(struct co
 }
 
 /* Digital port read - Untested on 8112 */
-static int pcl711_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl711_di_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -473,7 +473,7 @@ static int pcl711_di_insn_bits(struct co
 }
 
 /* Digital port write - Untested on 8112 */
-static int pcl711_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl711_do_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -513,7 +513,7 @@ static int pcl711_attach(struct comedi_d
 	int ret;
 	unsigned long iobase;
 	unsigned int irq;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	/* claim our I/O space */
 
--- a/drivers/staging/comedi/drivers/pcl725.c
+++ b/drivers/staging/comedi/drivers/pcl725.c
@@ -31,7 +31,7 @@ static comedi_driver driver_pcl725 = {
 
 COMEDI_INITCLEANUP(driver_pcl725);
 
-static int pcl725_do_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl725_do_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -48,7 +48,7 @@ static int pcl725_do_insn(struct comedi_
 	return 2;
 }
 
-static int pcl725_di_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl725_di_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -61,7 +61,7 @@ static int pcl725_di_insn(struct comedi_
 
 static int pcl725_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase;
 
 	iobase = it->options[0];
--- a/drivers/staging/comedi/drivers/pcl726.c
+++ b/drivers/staging/comedi/drivers/pcl726.c
@@ -168,7 +168,7 @@ typedef struct {
 } pcl726_private;
 #define devpriv ((pcl726_private *)dev->private)
 
-static int pcl726_ao_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl726_ao_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int hi, lo;
@@ -193,7 +193,7 @@ static int pcl726_ao_insn(struct comedi_
 	return n;
 }
 
-static int pcl726_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl726_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn->chanspec);
@@ -205,7 +205,7 @@ static int pcl726_ao_insn_read(struct co
 	return n;
 }
 
-static int pcl726_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl726_di_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -217,7 +217,7 @@ static int pcl726_di_insn_bits(struct co
 	return 2;
 }
 
-static int pcl726_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl726_do_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -239,7 +239,7 @@ static int pcl726_do_insn_bits(struct co
 
 static int pcl726_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase;
 	unsigned int iorange;
 	int ret, i;
--- a/drivers/staging/comedi/drivers/pcl730.c
+++ b/drivers/staging/comedi/drivers/pcl730.c
@@ -55,7 +55,7 @@ static comedi_driver driver_pcl730 = {
 
 COMEDI_INITCLEANUP(driver_pcl730);
 
-static int pcl730_do_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl730_do_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -77,7 +77,7 @@ static int pcl730_do_insn(struct comedi_
 	return 2;
 }
 
-static int pcl730_di_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl730_di_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -91,7 +91,7 @@ static int pcl730_di_insn(struct comedi_
 
 static int pcl730_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase;
 	unsigned int iorange;
 
--- a/drivers/staging/comedi/drivers/pcl812.c
+++ b/drivers/staging/comedi/drivers/pcl812.c
@@ -427,13 +427,13 @@ typedef struct {
 */
 static void start_pacer(struct comedi_device * dev, int mode, unsigned int divisor1,
 	unsigned int divisor2);
-static void setup_range_channel(struct comedi_device * dev, comedi_subdevice * s,
+static void setup_range_channel(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int rangechan, char wait);
-static int pcl812_ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int pcl812_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 /*
 ==============================================================================
 */
-static int pcl812_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl812_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -467,7 +467,7 @@ static int pcl812_ai_insn_read(struct co
 /*
 ==============================================================================
 */
-static int acl8216_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int acl8216_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -503,7 +503,7 @@ static int acl8216_ai_insn_read(struct c
 /*
 ==============================================================================
 */
-static int pcl812_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl812_ao_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn->chanspec);
@@ -523,7 +523,7 @@ static int pcl812_ao_insn_write(struct c
 /*
 ==============================================================================
 */
-static int pcl812_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl812_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn->chanspec);
@@ -539,7 +539,7 @@ static int pcl812_ao_insn_read(struct co
 /*
 ==============================================================================
 */
-static int pcl812_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl812_di_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -554,7 +554,7 @@ static int pcl812_di_insn_bits(struct co
 /*
 ==============================================================================
 */
-static int pcl812_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl812_do_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -591,7 +591,7 @@ static void pcl812_cmdtest_out(int e, co
 /*
 ==============================================================================
 */
-static int pcl812_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl812_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -770,7 +770,7 @@ static int pcl812_ai_cmdtest(struct come
 /*
 ==============================================================================
 */
-static int pcl812_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int pcl812_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned int divisor1 = 0, divisor2 = 0, i, dma_flags, bytes;
 	comedi_cmd *cmd = &s->async->cmd;
@@ -923,7 +923,7 @@ static irqreturn_t interrupt_pcl812_ai_i
 	char err = 1;
 	unsigned int mask, timeout;
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev->subdevices + 0;
+	struct comedi_subdevice *s = dev->subdevices + 0;
 
 	s->async->events = 0;
 
@@ -980,7 +980,7 @@ static irqreturn_t interrupt_pcl812_ai_i
 /*
 ==============================================================================
 */
-static void transfer_from_dma_buf(struct comedi_device * dev, comedi_subdevice * s,
+static void transfer_from_dma_buf(struct comedi_device * dev, struct comedi_subdevice * s,
 	short * ptr, unsigned int bufptr, unsigned int len)
 {
 	unsigned int i;
@@ -1009,7 +1009,7 @@ static void transfer_from_dma_buf(struct
 static irqreturn_t interrupt_pcl812_ai_dma(int irq, void *d)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev->subdevices + 0;
+	struct comedi_subdevice *s = dev->subdevices + 0;
 	unsigned long dma_flags;
 	int len, bufptr;
 	short *ptr;
@@ -1075,7 +1075,7 @@ static irqreturn_t interrupt_pcl812(int 
 /*
 ==============================================================================
 */
-static int pcl812_ai_poll(struct comedi_device * dev, comedi_subdevice * s)
+static int pcl812_ai_poll(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long flags;
 	unsigned int top1, top2, i;
@@ -1119,7 +1119,7 @@ static int pcl812_ai_poll(struct comedi_
 /*
 ==============================================================================
 */
-static void setup_range_channel(struct comedi_device * dev, comedi_subdevice * s,
+static void setup_range_channel(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int rangechan, char wait)
 {
 	unsigned char chan_reg = CR_CHAN(rangechan);	// normal board
@@ -1200,7 +1200,7 @@ static void free_resources(struct comedi
 /*
 ==============================================================================
 */
-static int pcl812_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int pcl812_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 #ifdef PCL812_EXTDEBUG
 	rt_printk("pcl812 EDBG: BGN: pcl812_ai_cancel(...)\n");
@@ -1269,7 +1269,7 @@ static int pcl812_attach(struct comedi_d
 	unsigned int irq;
 	unsigned int dma;
 	unsigned long pages;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int n_subdevices;
 
 	iobase = it->options[0];
--- a/drivers/staging/comedi/drivers/pcl816.c
+++ b/drivers/staging/comedi/drivers/pcl816.c
@@ -193,13 +193,13 @@ typedef struct {
 #endif
 	int irq_was_now_closed;	// when IRQ finish, there's stored int816_mode for last interrupt
 	int int816_mode;	// who now uses IRQ - 1=AI1 int, 2=AI1 dma, 3=AI3 int, 4AI3 dma
-	comedi_subdevice *last_int_sub;	// ptr to subdevice which now finish
+	struct comedi_subdevice *last_int_sub;	// ptr to subdevice which now finish
 	int ai_act_scan;	// how many scans we finished
 	unsigned int ai_act_chanlist[16];	// MUX setting for actual AI operations
 	unsigned int ai_act_chanlist_len;	// how long is actual MUX list
 	unsigned int ai_act_chanlist_pos;	// actual position in MUX list
 	unsigned int ai_poll_ptr;	// how many sampes transfer poll
-	comedi_subdevice *sub_ai;	// ptr to AI subdevice
+	struct comedi_subdevice *sub_ai;	// ptr to AI subdevice
 #ifdef unused
 	struct timer_list rtc_irq_timer;	// timer for RTC sanity check
 	unsigned long rtc_freq;	// RTC int freq
@@ -210,23 +210,23 @@ typedef struct {
 ==============================================================================
 */
 static int check_and_setup_channel_list(struct comedi_device * dev,
-	comedi_subdevice * s, unsigned int *chanlist, int chanlen);
-static int pcl816_ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
+	struct comedi_subdevice * s, unsigned int *chanlist, int chanlen);
+static int pcl816_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 static void start_pacer(struct comedi_device * dev, int mode, unsigned int divisor1,
 	unsigned int divisor2);
 #ifdef unused
 static int set_rtc_irq_bit(unsigned char bit);
 #endif
 
-static int pcl816_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl816_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
-static int pcl816_ai_cmd(struct comedi_device * dev, comedi_subdevice * s);
+static int pcl816_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
 
 /*
 ==============================================================================
    ANALOG INPUT MODE0, 816 cards, slow version
 */
-static int pcl816_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl816_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -281,7 +281,7 @@ static int pcl816_ai_insn_read(struct co
 static irqreturn_t interrupt_pcl816_ai_mode13_int(int irq, void *d)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev->subdevices + 0;
+	struct comedi_subdevice *s = dev->subdevices + 0;
 	int low, hi;
 	int timeout = 50;	/* wait max 50us */
 
@@ -330,7 +330,7 @@ static irqreturn_t interrupt_pcl816_ai_m
 ==============================================================================
    analog input dma mode 1 & 3, 816 cards
 */
-static void transfer_from_dma_buf(struct comedi_device * dev, comedi_subdevice * s,
+static void transfer_from_dma_buf(struct comedi_device * dev, struct comedi_subdevice * s,
 	short * ptr, unsigned int bufptr, unsigned int len)
 {
 	int i;
@@ -362,7 +362,7 @@ static void transfer_from_dma_buf(struct
 static irqreturn_t interrupt_pcl816_ai_mode13_dma(int irq, void *d)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev->subdevices + 0;
+	struct comedi_subdevice *s = dev->subdevices + 0;
 	int len, bufptr, this_dma_buf;
 	unsigned long dma_flags;
 	short *ptr;
@@ -458,7 +458,7 @@ static void pcl816_cmdtest_out(int e, co
 /*
 ==============================================================================
 */
-static int pcl816_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl816_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -593,7 +593,7 @@ static int pcl816_ai_cmdtest(struct come
 	return 0;
 }
 
-static int pcl816_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int pcl816_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned int divisor1 = 0, divisor2 = 0, dma_flags, bytes, dmairq;
 	comedi_cmd *cmd = &s->async->cmd;
@@ -698,7 +698,7 @@ static int pcl816_ai_cmd(struct comedi_d
 	return 0;
 }
 
-static int pcl816_ai_poll(struct comedi_device * dev, comedi_subdevice * s)
+static int pcl816_ai_poll(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long flags;
 	unsigned int top1, top2, i;
@@ -741,7 +741,7 @@ static int pcl816_ai_poll(struct comedi_
 ==============================================================================
  cancel any mode 1-4 AI
 */
-static int pcl816_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int pcl816_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 //  DEBUG(rt_printk("pcl816_ai_cancel()\n");)
 
@@ -861,7 +861,7 @@ start_pacer(struct comedi_device * dev, 
  If it's ok, then program scan/gain logic
 */
 static int
-check_and_setup_channel_list(struct comedi_device * dev, comedi_subdevice * s,
+check_and_setup_channel_list(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int *chanlist, int chanlen)
 {
 	unsigned int chansegment[16];
@@ -1018,7 +1018,7 @@ static int pcl816_attach(struct comedi_d
 	unsigned int irq, dma;
 	unsigned long pages;
 	//int i;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	/* claim our I/O space */
 	iobase = it->options[0];
--- a/drivers/staging/comedi/drivers/pcl818.c
+++ b/drivers/staging/comedi/drivers/pcl818.c
@@ -339,7 +339,7 @@ typedef struct {
 	int irq_blocked;	// 1=IRQ now uses any subdev
 	int irq_was_now_closed;	// when IRQ finish, there's stored int818_mode for last interrupt
 	int ai_mode;		// who now uses IRQ - 1=AI1 int, 2=AI1 dma, 3=AI3 int, 4AI3 dma
-	comedi_subdevice *last_int_sub;	// ptr to subdevice which now finish
+	struct comedi_subdevice *last_int_sub;	// ptr to subdevice which now finish
 	int ai_act_scan;	// how many scans we finished
 	int ai_act_chan;	// actual position in actual scan
 	unsigned int act_chanlist[16];	// MUX setting for actual AI operations
@@ -353,7 +353,7 @@ typedef struct {
 	short *ai_data;	// data buffer
 	unsigned int ai_timer1;	// timers
 	unsigned int ai_timer2;
-	comedi_subdevice *sub_ai;	// ptr to AI subdevice
+	struct comedi_subdevice *sub_ai;	// ptr to AI subdevice
 	unsigned char usefifo;	// 1=use fifo
 	unsigned int ao_readback[2];
 } pcl818_private;
@@ -368,12 +368,12 @@ static const unsigned int muxonechan[] =
 /*
 ==============================================================================
 */
-static void setup_channel_list(struct comedi_device * dev, comedi_subdevice * s,
+static void setup_channel_list(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int *chanlist, unsigned int n_chan, unsigned int seglen);
-static int check_channel_list(struct comedi_device * dev, comedi_subdevice * s,
+static int check_channel_list(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int *chanlist, unsigned int n_chan);
 
-static int pcl818_ai_cancel(struct comedi_device * dev, comedi_subdevice * s);
+static int pcl818_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
 static void start_pacer(struct comedi_device * dev, int mode, unsigned int divisor1,
 	unsigned int divisor2);
 
@@ -387,7 +387,7 @@ static int rtc_setfreq_irq(int freq);
 ==============================================================================
    ANALOG INPUT MODE0, 818 cards, slow version
 */
-static int pcl818_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl818_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -434,7 +434,7 @@ static int pcl818_ai_insn_read(struct co
    ANALOG OUTPUT MODE0, 818 cards
    only one sample per call is supported
 */
-static int pcl818_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl818_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -447,7 +447,7 @@ static int pcl818_ao_insn_read(struct co
 	return n;
 }
 
-static int pcl818_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl818_ao_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -470,7 +470,7 @@ static int pcl818_ao_insn_write(struct c
 
    only one sample per call is supported
 */
-static int pcl818_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl818_di_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -488,7 +488,7 @@ static int pcl818_di_insn_bits(struct co
 
    only one sample per call is supported
 */
-static int pcl818_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl818_do_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -513,7 +513,7 @@ static int pcl818_do_insn_bits(struct co
 static irqreturn_t interrupt_pcl818_ai_mode13_int(int irq, void *d)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev->subdevices + 0;
+	struct comedi_subdevice *s = dev->subdevices + 0;
 	int low;
 	int timeout = 50;	/* wait max 50us */
 
@@ -566,7 +566,7 @@ static irqreturn_t interrupt_pcl818_ai_m
 static irqreturn_t interrupt_pcl818_ai_mode13_dma(int irq, void *d)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev->subdevices + 0;
+	struct comedi_subdevice *s = dev->subdevices + 0;
 	int i, len, bufptr;
 	unsigned long flags;
 	short *ptr;
@@ -641,7 +641,7 @@ static irqreturn_t interrupt_pcl818_ai_m
 static irqreturn_t interrupt_pcl818_ai_mode13_dma_rtc(int irq, void *d)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev->subdevices + 0;
+	struct comedi_subdevice *s = dev->subdevices + 0;
 	unsigned long tmp;
 	unsigned int top1, top2, i, bufptr;
 	long ofs_dats;
@@ -739,7 +739,7 @@ static irqreturn_t interrupt_pcl818_ai_m
 static irqreturn_t interrupt_pcl818_ai_mode13_fifo(int irq, void *d)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s = dev->subdevices + 0;
+	struct comedi_subdevice *s = dev->subdevices + 0;
 	int i, len, lo;
 
 	outb(0, dev->iobase + PCL818_FI_INTCLR);	// clear fifo int request
@@ -849,7 +849,7 @@ static irqreturn_t interrupt_pcl818(int 
 				   because the card doesn't seem to like being reprogrammed
 				   while a DMA transfer is in progress
 				 */
-				comedi_subdevice *s = dev->subdevices + 0;
+				struct comedi_subdevice *s = dev->subdevices + 0;
 				devpriv->ai_mode = devpriv->irq_was_now_closed;
 				devpriv->irq_was_now_closed = 0;
 				devpriv->neverending_ai = 0;
@@ -871,7 +871,7 @@ static irqreturn_t interrupt_pcl818(int 
    ANALOG INPUT MODE 1 or 3 DMA , 818 cards
 */
 static void pcl818_ai_mode13dma_int(int mode, struct comedi_device * dev,
-	comedi_subdevice * s)
+	struct comedi_subdevice * s)
 {
 	unsigned int flags;
 	unsigned int bytes;
@@ -912,7 +912,7 @@ static void pcl818_ai_mode13dma_int(int 
    ANALOG INPUT MODE 1 or 3 DMA rtc, 818 cards
 */
 static void pcl818_ai_mode13dma_rtc(int mode, struct comedi_device * dev,
-	comedi_subdevice * s)
+	struct comedi_subdevice * s)
 {
 	unsigned int flags;
 	short *pole;
@@ -953,7 +953,7 @@ static void pcl818_ai_mode13dma_rtc(int 
    ANALOG INPUT MODE 1 or 3, 818 cards
 */
 static int pcl818_ai_cmd_mode(int mode, struct comedi_device * dev,
-	comedi_subdevice * s)
+	struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &s->async->cmd;
 	int divisor1, divisor2;
@@ -1063,7 +1063,7 @@ static int pcl818_ai_cmd_mode(int mode, 
    ANALOG OUTPUT MODE 1 or 3, 818 cards
 */
 #ifdef PCL818_MODE13_AO
-static int pcl818_ao_mode13(int mode, struct comedi_device * dev, comedi_subdevice * s,
+static int pcl818_ao_mode13(int mode, struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_trig * it)
 {
 	int divisor1, divisor2;
@@ -1116,7 +1116,7 @@ static int pcl818_ao_mode13(int mode, st
 ==============================================================================
    ANALOG OUTPUT MODE 1, 818 cards
 */
-static int pcl818_ao_mode1(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl818_ao_mode1(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_trig * it)
 {
 	return pcl818_ao_mode13(1, dev, s, it);
@@ -1126,7 +1126,7 @@ static int pcl818_ao_mode1(struct comedi
 ==============================================================================
    ANALOG OUTPUT MODE 3, 818 cards
 */
-static int pcl818_ao_mode3(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl818_ao_mode3(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_trig * it)
 {
 	return pcl818_ao_mode13(3, dev, s, it);
@@ -1158,7 +1158,7 @@ static void start_pacer(struct comedi_de
  Check if channel list from user is builded correctly
  If it's ok, then program scan/gain logic
 */
-static int check_channel_list(struct comedi_device * dev, comedi_subdevice * s,
+static int check_channel_list(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int *chanlist, unsigned int n_chan)
 {
 	unsigned int chansegment[16];
@@ -1214,7 +1214,7 @@ static int check_channel_list(struct com
 	return seglen;
 }
 
-static void setup_channel_list(struct comedi_device * dev, comedi_subdevice * s,
+static void setup_channel_list(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int *chanlist, unsigned int n_chan, unsigned int seglen)
 {
 	int i;
@@ -1251,7 +1251,7 @@ static int check_single_ended(unsigned i
 /*
 ==============================================================================
 */
-static int ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -1396,7 +1396,7 @@ static int ai_cmdtest(struct comedi_devi
 /*
 ==============================================================================
 */
-static int ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &s->async->cmd;
 	int retval;
@@ -1435,7 +1435,7 @@ static int ai_cmd(struct comedi_device *
 ==============================================================================
  cancel any mode 1-4 AI
 */
-static int pcl818_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int pcl818_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	if (devpriv->irq_blocked > 0) {
 		rt_printk("pcl818_ai_cancel()\n");
@@ -1681,7 +1681,7 @@ static int pcl818_attach(struct comedi_d
 	unsigned long iobase;
 	unsigned int irq, dma;
 	unsigned long pages;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	if ((ret = alloc_private(dev, sizeof(pcl818_private))) < 0)
 		return ret;	/* Can't alloc mem */
--- a/drivers/staging/comedi/drivers/pcm3724.c
+++ b/drivers/staging/comedi/drivers/pcm3724.c
@@ -115,7 +115,7 @@ static int subdev_8255_cb(int dir, int p
 	}
 }
 
-static int compute_buffer(int config, int devno, comedi_subdevice * s)
+static int compute_buffer(int config, int devno, struct comedi_subdevice * s)
 {
 	/* 1 in io_bits indicates output */
 	if (s->io_bits & 0x0000ff) {
@@ -142,7 +142,7 @@ static int compute_buffer(int config, in
 	return config;
 }
 
-static void do_3724_config(struct comedi_device * dev, comedi_subdevice * s,
+static void do_3724_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	int chanspec)
 {
 	int config;
@@ -176,7 +176,7 @@ static void do_3724_config(struct comedi
 	outb(config, port_8255_cfg);
 }
 
-static void enable_chan(struct comedi_device * dev, comedi_subdevice * s, int chanspec)
+static void enable_chan(struct comedi_device * dev, struct comedi_subdevice * s, int chanspec)
 {
 	unsigned int mask;
 	int gatecfg;
@@ -214,7 +214,7 @@ static void enable_chan(struct comedi_de
 }
 
 /* overriding the 8255 insn config */
-static int subdev_3724_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int subdev_3724_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	unsigned int mask;
--- a/drivers/staging/comedi/drivers/pcm3730.c
+++ b/drivers/staging/comedi/drivers/pcm3730.c
@@ -39,7 +39,7 @@ static comedi_driver driver_pcm3730 = {
 
 COMEDI_INITCLEANUP(driver_pcm3730);
 
-static int pcm3730_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcm3730_do_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -54,7 +54,7 @@ static int pcm3730_do_insn_bits(struct c
 	return 2;
 }
 
-static int pcm3730_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcm3730_di_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -65,7 +65,7 @@ static int pcm3730_di_insn_bits(struct c
 
 static int pcm3730_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase;
 
 	iobase = it->options[0];
--- a/drivers/staging/comedi/drivers/pcmad.c
+++ b/drivers/staging/comedi/drivers/pcmad.c
@@ -92,7 +92,7 @@ COMEDI_INITCLEANUP(driver_pcmad);
 
 #define TIMEOUT	100
 
-static int pcmad_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int pcmad_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -129,7 +129,7 @@ static int pcmad_ai_insn_read(struct com
 static int pcmad_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 	int ret;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase;
 
 	iobase = it->options[0];
--- a/drivers/staging/comedi/drivers/pcmda12.c
+++ b/drivers/staging/comedi/drivers/pcmda12.c
@@ -138,9 +138,9 @@ static comedi_driver driver = {
       num_names:sizeof(pcmda12_boards) / sizeof(pcmda12_board),
 };
 
-static int ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 /*
@@ -151,7 +151,7 @@ static int ao_rinsn(struct comedi_device
  */
 static int pcmda12_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase;
 
 	iobase = it->options[0];
@@ -239,7 +239,7 @@ static void zero_chans(struct comedi_dev
 	inb(LSB_PORT(0));	/* update chans. */
 }
 
-static int ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -281,7 +281,7 @@ static int ao_winsn(struct comedi_device
    DAC outputs, which makes all AO channels update simultaneously.
    This is useful for some control applications, I would imagine.
 */
-static int ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
--- a/drivers/staging/comedi/drivers/pcmmio.c
+++ b/drivers/staging/comedi/drivers/pcmmio.c
@@ -139,14 +139,14 @@ Configuration Options:
 #define PAGE_ENAB 2
 #define PAGE_INT_ID 3
 
-typedef int (*comedi_insn_fn_t) (struct comedi_device *, comedi_subdevice *,
+typedef int (*comedi_insn_fn_t) (struct comedi_device *, struct comedi_subdevice *,
 	comedi_insn *, unsigned int *);
 
-static int ai_rinsn(struct comedi_device *, comedi_subdevice *, comedi_insn *,
+static int ai_rinsn(struct comedi_device *, struct comedi_subdevice *, comedi_insn *,
 	unsigned int *);
-static int ao_rinsn(struct comedi_device *, comedi_subdevice *, comedi_insn *,
+static int ao_rinsn(struct comedi_device *, struct comedi_subdevice *, comedi_insn *,
 	unsigned int *);
-static int ao_winsn(struct comedi_device *, comedi_subdevice *, comedi_insn *,
+static int ao_winsn(struct comedi_device *, struct comedi_subdevice *, comedi_insn *,
 	unsigned int *);
 
 /*
@@ -295,16 +295,16 @@ static comedi_driver driver = {
       num_names:sizeof(pcmmio_boards) / sizeof(pcmmio_board),
 };
 
-static int pcmmio_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcmmio_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pcmmio_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int pcmmio_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 static irqreturn_t interrupt_pcmmio(int irq, void *d PT_REGS_ARG);
-static void pcmmio_stop_intr(struct comedi_device *, comedi_subdevice *);
-static int pcmmio_cancel(struct comedi_device * dev, comedi_subdevice * s);
-static int pcmmio_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int pcmmio_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static void pcmmio_stop_intr(struct comedi_device *, struct comedi_subdevice *);
+static int pcmmio_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
+static int pcmmio_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int pcmmio_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
 
 /* some helper functions to deal with specifics of this device's registers */
@@ -323,7 +323,7 @@ static void unlock_port(struct comedi_de
  */
 static int pcmmio_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int sdev_no, chans_left, n_dio_subdevs, n_subdevs, port, asic,
 		thisasic_chanct = 0;
 	unsigned long iobase;
@@ -550,7 +550,7 @@ static int pcmmio_detach(struct comedi_d
  * useful to applications if you implement the insn_bits interface.
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
-static int pcmmio_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcmmio_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int byte_no;
@@ -624,7 +624,7 @@ static int pcmmio_dio_insn_bits(struct c
  * configured by a special insn_config instruction.  chanspec
  * contains the channel to be changed, and data[0] contains the
  * value COMEDI_INPUT or COMEDI_OUTPUT. */
-static int pcmmio_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int pcmmio_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn->chanspec), byte_no = chan / 8, bit_no =
@@ -815,7 +815,7 @@ static irqreturn_t interrupt_pcmmio(int 
 				spinlock, flags);
 
 			if (triggered) {
-				comedi_subdevice *s;
+				struct comedi_subdevice *s;
 				/* TODO here: dispatch io lines to subdevs with commands.. */
 				printk("PCMMIO DEBUG: got edge detect interrupt %d asic %d which_chans: %06x\n", irq, asic, triggered);
 				for (s = dev->subdevices + 2;
@@ -917,7 +917,7 @@ static irqreturn_t interrupt_pcmmio(int 
 	return IRQ_HANDLED;
 }
 
-static void pcmmio_stop_intr(struct comedi_device * dev, comedi_subdevice * s)
+static void pcmmio_stop_intr(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int nports, firstport, asic, port;
 
@@ -936,7 +936,7 @@ static void pcmmio_stop_intr(struct come
 	}
 }
 
-static int pcmmio_start_intr(struct comedi_device * dev, comedi_subdevice * s)
+static int pcmmio_start_intr(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	if (!subpriv->dio.intr.continuous && subpriv->dio.intr.stop_count == 0) {
 		/* An empty acquisition! */
@@ -995,7 +995,7 @@ static int pcmmio_start_intr(struct come
 	return 0;
 }
 
-static int pcmmio_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int pcmmio_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long flags;
 
@@ -1011,7 +1011,7 @@ static int pcmmio_cancel(struct comedi_d
  * Internal trigger function to start acquisition for an 'INTERRUPT' subdevice.
  */
 static int
-pcmmio_inttrig_start_intr(struct comedi_device * dev, comedi_subdevice * s,
+pcmmio_inttrig_start_intr(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trignum)
 {
 	unsigned long flags;
@@ -1037,7 +1037,7 @@ pcmmio_inttrig_start_intr(struct comedi_
 /*
  * 'do_cmd' function for an 'INTERRUPT' subdevice.
  */
-static int pcmmio_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int pcmmio_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &s->async->cmd;
 	unsigned long flags;
@@ -1082,7 +1082,7 @@ static int pcmmio_cmd(struct comedi_devi
  * 'do_cmdtest' function for an 'INTERRUPT' subdevice.
  */
 static int
-pcmmio_cmdtest(struct comedi_device * dev, comedi_subdevice * s, comedi_cmd * cmd)
+pcmmio_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s, comedi_cmd * cmd)
 {
 	int err = 0;
 	unsigned int tmp;
@@ -1194,7 +1194,7 @@ static int adc_wait_ready(unsigned long 
 }
 
 /* All this is for AI and AO */
-static int ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -1258,7 +1258,7 @@ static int ai_rinsn(struct comedi_device
 	return n;
 }
 
-static int ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -1288,7 +1288,7 @@ static int wait_dac_ready(unsigned long 
 	return 1;
 }
 
-static int ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
--- a/drivers/staging/comedi/drivers/pcmuio.c
+++ b/drivers/staging/comedi/drivers/pcmuio.c
@@ -253,16 +253,16 @@ static comedi_driver driver = {
       num_names:sizeof(pcmuio_boards) / sizeof(pcmuio_board),
 };
 
-static int pcmuio_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcmuio_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pcmuio_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int pcmuio_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 static irqreturn_t interrupt_pcmuio(int irq, void *d PT_REGS_ARG);
-static void pcmuio_stop_intr(struct comedi_device *, comedi_subdevice *);
-static int pcmuio_cancel(struct comedi_device * dev, comedi_subdevice * s);
-static int pcmuio_cmd(struct comedi_device * dev, comedi_subdevice * s);
-static int pcmuio_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static void pcmuio_stop_intr(struct comedi_device *, struct comedi_subdevice *);
+static int pcmuio_cancel(struct comedi_device * dev, struct comedi_subdevice * s);
+static int pcmuio_cmd(struct comedi_device * dev, struct comedi_subdevice * s);
+static int pcmuio_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
 
 /* some helper functions to deal with specifics of this device's registers */
@@ -281,7 +281,7 @@ static void unlock_port(struct comedi_de
  */
 static int pcmuio_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int sdev_no, chans_left, n_subdevs, port, asic, thisasic_chanct = 0;
 	unsigned long iobase;
 	unsigned int irq[MAX_ASICS];
@@ -474,7 +474,7 @@ static int pcmuio_detach(struct comedi_d
  * useful to applications if you implement the insn_bits interface.
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
-static int pcmuio_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcmuio_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int byte_no;
@@ -548,7 +548,7 @@ static int pcmuio_dio_insn_bits(struct c
  * configured by a special insn_config instruction.  chanspec
  * contains the channel to be changed, and data[0] contains the
  * value COMEDI_INPUT or COMEDI_OUTPUT. */
-static int pcmuio_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int pcmuio_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn->chanspec), byte_no = chan / 8, bit_no =
@@ -738,7 +738,7 @@ static irqreturn_t interrupt_pcmuio(int 
 				spinlock, flags);
 
 			if (triggered) {
-				comedi_subdevice *s;
+				struct comedi_subdevice *s;
 				/* TODO here: dispatch io lines to subdevs with commands.. */
 				printk("PCMUIO DEBUG: got edge detect interrupt %d asic %d which_chans: %06x\n", irq, asic, triggered);
 				for (s = dev->subdevices;
@@ -837,7 +837,7 @@ static irqreturn_t interrupt_pcmuio(int 
 	return IRQ_HANDLED;
 }
 
-static void pcmuio_stop_intr(struct comedi_device * dev, comedi_subdevice * s)
+static void pcmuio_stop_intr(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	int nports, firstport, asic, port;
 
@@ -856,7 +856,7 @@ static void pcmuio_stop_intr(struct come
 	}
 }
 
-static int pcmuio_start_intr(struct comedi_device * dev, comedi_subdevice * s)
+static int pcmuio_start_intr(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	if (!subpriv->intr.continuous && subpriv->intr.stop_count == 0) {
 		/* An empty acquisition! */
@@ -905,7 +905,7 @@ static int pcmuio_start_intr(struct come
 	return 0;
 }
 
-static int pcmuio_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int pcmuio_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	unsigned long flags;
 
@@ -921,7 +921,7 @@ static int pcmuio_cancel(struct comedi_d
  * Internal trigger function to start acquisition for an 'INTERRUPT' subdevice.
  */
 static int
-pcmuio_inttrig_start_intr(struct comedi_device * dev, comedi_subdevice * s,
+pcmuio_inttrig_start_intr(struct comedi_device * dev, struct comedi_subdevice * s,
 	unsigned int trignum)
 {
 	unsigned long flags;
@@ -947,7 +947,7 @@ pcmuio_inttrig_start_intr(struct comedi_
 /*
  * 'do_cmd' function for an 'INTERRUPT' subdevice.
  */
-static int pcmuio_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int pcmuio_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	comedi_cmd *cmd = &s->async->cmd;
 	unsigned long flags;
@@ -992,7 +992,7 @@ static int pcmuio_cmd(struct comedi_devi
  * 'do_cmdtest' function for an 'INTERRUPT' subdevice.
  */
 static int
-pcmuio_cmdtest(struct comedi_device * dev, comedi_subdevice * s, comedi_cmd * cmd)
+pcmuio_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s, comedi_cmd * cmd)
 {
 	int err = 0;
 	unsigned int tmp;
--- a/drivers/staging/comedi/drivers/poc.c
+++ b/drivers/staging/comedi/drivers/poc.c
@@ -43,14 +43,14 @@ Configuration options:
 
 static int poc_attach(struct comedi_device * dev, comedi_devconfig * it);
 static int poc_detach(struct comedi_device * dev);
-static int readback_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int readback_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
-static int dac02_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int dac02_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pcl733_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl733_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int pcl734_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl734_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 struct boarddef_struct {
@@ -60,11 +60,11 @@ struct boarddef_struct {
 	int type;
 	int n_chan;
 	int n_bits;
-	int (*winsn) (struct comedi_device *, comedi_subdevice *, comedi_insn *,
+	int (*winsn) (struct comedi_device *, struct comedi_subdevice *, comedi_insn *,
 		unsigned int *);
-	int (*rinsn) (struct comedi_device *, comedi_subdevice *, comedi_insn *,
+	int (*rinsn) (struct comedi_device *, struct comedi_subdevice *, comedi_insn *,
 		unsigned int *);
-	int (*insnbits) (struct comedi_device *, comedi_subdevice *, comedi_insn *,
+	int (*insnbits) (struct comedi_device *, struct comedi_subdevice *, comedi_insn *,
 		unsigned int *);
 	const comedi_lrange *range;
 };
@@ -115,7 +115,7 @@ static comedi_driver driver_poc = {
 
 static int poc_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long iobase;
 	unsigned int iosize;
 
@@ -170,7 +170,7 @@ static int poc_detach(struct comedi_devi
 	return 0;
 }
 
-static int readback_insn(struct comedi_device * dev, comedi_subdevice * s,
+static int readback_insn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan;
@@ -185,7 +185,7 @@ static int readback_insn(struct comedi_d
 #define DAC02_LSB(a)	(2 * a)
 #define DAC02_MSB(a)	(2 * a + 1)
 
-static int dac02_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int dac02_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int temp;
@@ -208,7 +208,7 @@ static int dac02_ao_winsn(struct comedi_
 	return 1;
 }
 
-static int pcl733_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl733_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -222,7 +222,7 @@ static int pcl733_insn_bits(struct comed
 	return 2;
 }
 
-static int pcl734_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int pcl734_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
--- a/drivers/staging/comedi/drivers/quatech_daqp_cs.c
+++ b/drivers/staging/comedi/drivers/quatech_daqp_cs.c
@@ -87,7 +87,7 @@ typedef struct local_info_t {
 	struct semaphore eos;
 
 	struct comedi_device *dev;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int count;
 } local_info_t;
 
@@ -234,7 +234,7 @@ static void hex_dump(char *str, void *pt
 
 /* Cancel a running acquisition */
 
-static int daqp_ai_cancel(struct comedi_device * dev, comedi_subdevice * s)
+static int daqp_ai_cancel(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	local_info_t *local = (local_info_t *) s->private;
 
@@ -266,7 +266,7 @@ static void daqp_interrupt(int irq, void
 {
 	local_info_t *local = (local_info_t *) dev_id;
 	struct comedi_device *dev;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int loop_limit = 10000;
 	int status;
 
@@ -361,7 +361,7 @@ static void daqp_interrupt(int irq, void
 
 /* One-shot analog data acquisition routine */
 
-static int daqp_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int daqp_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	local_info_t *local = (local_info_t *) s->private;
@@ -467,7 +467,7 @@ static int daqp_ns_to_timer(unsigned int
  * the command passes.
  */
 
-static int daqp_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int daqp_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -593,7 +593,7 @@ static int daqp_ai_cmdtest(struct comedi
 	return 0;
 }
 
-static int daqp_ai_cmd(struct comedi_device * dev, comedi_subdevice * s)
+static int daqp_ai_cmd(struct comedi_device * dev, struct comedi_subdevice * s)
 {
 	local_info_t *local = (local_info_t *) s->private;
 	comedi_cmd *cmd = &s->async->cmd;
@@ -793,7 +793,7 @@ static int daqp_ai_cmd(struct comedi_dev
 
 /* Single-shot analog output routine */
 
-static int daqp_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int daqp_ao_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	local_info_t *local = (local_info_t *) s->private;
@@ -820,7 +820,7 @@ static int daqp_ao_insn_write(struct com
 
 /* Digital input routine */
 
-static int daqp_di_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int daqp_di_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	local_info_t *local = (local_info_t *) s->private;
@@ -836,7 +836,7 @@ static int daqp_di_insn_read(struct come
 
 /* Digital output routine */
 
-static int daqp_do_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int daqp_do_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	local_info_t *local = (local_info_t *) s->private;
@@ -862,7 +862,7 @@ static int daqp_attach(struct comedi_dev
 	local_info_t *local = dev_table[it->options[0]];
 	tuple_t tuple;
 	int i;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	if (it->options[0] < 0 || it->options[0] >= MAX_DEV || !local) {
 		printk("comedi%d: No such daqp device %d\n",
--- a/drivers/staging/comedi/drivers/rtd520.c
+++ b/drivers/staging/comedi/drivers/rtd520.c
@@ -690,21 +690,21 @@ static comedi_driver rtd520Driver = {
       detach : rtd_detach,
 };
 
-static int rtd_ai_rinsn(struct comedi_device *dev, comedi_subdevice *s,
+static int rtd_ai_rinsn(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int rtd_ao_winsn(struct comedi_device *dev, comedi_subdevice *s,
+static int rtd_ao_winsn(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int rtd_ao_rinsn(struct comedi_device *dev, comedi_subdevice *s,
+static int rtd_ao_rinsn(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int rtd_dio_insn_bits(struct comedi_device *dev, comedi_subdevice *s,
+static int rtd_dio_insn_bits(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int rtd_dio_insn_config(struct comedi_device *dev, comedi_subdevice *s,
+static int rtd_dio_insn_config(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int rtd_ai_cmdtest(struct comedi_device *dev, comedi_subdevice *s,
+static int rtd_ai_cmdtest(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_cmd *cmd);
-static int rtd_ai_cmd(struct comedi_device *dev, comedi_subdevice *s);
-static int rtd_ai_cancel(struct comedi_device *dev, comedi_subdevice *s);
-/* static int rtd_ai_poll (struct comedi_device *dev,comedi_subdevice *s); */
+static int rtd_ai_cmd(struct comedi_device *dev, struct comedi_subdevice *s);
+static int rtd_ai_cancel(struct comedi_device *dev, struct comedi_subdevice *s);
+/* static int rtd_ai_poll (struct comedi_device *dev,struct comedi_subdevice *s); */
 static int rtd_ns_to_timer(unsigned int *ns, int roundMode);
 static irqreturn_t rtd_interrupt(int irq, void *d PT_REGS_ARG);
 static int rtd520_probe_fifo_depth(struct comedi_device *dev);
@@ -717,7 +717,7 @@ static int rtd520_probe_fifo_depth(struc
  */
 static int rtd_attach(struct comedi_device *dev, comedi_devconfig *it)
 {				/* board name and options flags */
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	struct pci_dev *pcidev;
 	int ret;
 	resource_size_t physLas0;	/* configuation */
@@ -1255,7 +1255,7 @@ static int rtd520_probe_fifo_depth(struc
   select, delay, then read.
  */
 static int rtd_ai_rinsn(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	int n, ii;
 	int stat;
@@ -1307,7 +1307,7 @@ static int rtd_ai_rinsn(struct comedi_de
 
   The manual claims that we can do a lword read, but it doesn't work here.
 */
-static int ai_read_n(struct comedi_device *dev, comedi_subdevice *s, int count)
+static int ai_read_n(struct comedi_device *dev, struct comedi_subdevice *s, int count)
 {
 	int ii;
 
@@ -1346,7 +1346,7 @@ static int ai_read_n(struct comedi_devic
 /*
   unknown amout of data is waiting in fifo.
 */
-static int ai_read_dregs(struct comedi_device *dev, comedi_subdevice *s)
+static int ai_read_dregs(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	while (RtdFifoStatus(dev) & FS_ADC_NOT_EMPTY) {	/* 1 -> not empty */
 		short sample;
@@ -1434,7 +1434,7 @@ void abort_dma(struct comedi_device *dev
   Process what is in the DMA transfer buffer and pass to comedi
   Note: this is not re-entrant
 */
-static int ai_process_dma(struct comedi_device *dev, comedi_subdevice *s)
+static int ai_process_dma(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	int ii, n;
 	s16 *dp;
@@ -1500,7 +1500,7 @@ static irqreturn_t rtd_interrupt(int irq
 	struct comedi_device *dev = d;	/* must be called "dev" for devpriv */
 	u16 status;
 	u16 fifoStatus;
-	comedi_subdevice *s = dev->subdevices + 0;	/* analog in subdevice */
+	struct comedi_subdevice *s = dev->subdevices + 0;	/* analog in subdevice */
 
 	if (!dev->attached) {
 		return IRQ_NONE;
@@ -1648,7 +1648,7 @@ static irqreturn_t rtd_interrupt(int irq
 /*
   return the number of samples available
 */
-static int rtd_ai_poll(struct comedi_device *dev, comedi_subdevice *s)
+static int rtd_ai_poll(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	/* TODO: This needs to mask interrupts, read_dregs, and then re-enable */
 	/* Not sure what to do if DMA is active */
@@ -1666,7 +1666,7 @@ static int rtd_ai_poll(struct comedi_dev
 */
 
 static int rtd_ai_cmdtest(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_cmd *cmd)
+	struct comedi_subdevice *s, comedi_cmd *cmd)
 {
 	int err = 0;
 	int tmp;
@@ -1870,7 +1870,7 @@ static int rtd_ai_cmdtest(struct comedi_
   This is usually done by an interrupt handler.
   Userland gets to the data using read calls.
 */
-static int rtd_ai_cmd(struct comedi_device *dev, comedi_subdevice *s)
+static int rtd_ai_cmd(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	comedi_cmd *cmd = &s->async->cmd;
 	int timer;
@@ -2067,7 +2067,7 @@ static int rtd_ai_cmd(struct comedi_devi
 /*
   Stop a running data aquisition.
 */
-static int rtd_ai_cancel(struct comedi_device *dev, comedi_subdevice *s)
+static int rtd_ai_cancel(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	u16 status;
 
@@ -2136,7 +2136,7 @@ static int rtd_ns_to_timer(unsigned int 
   Output one (or more) analog values to a single port as fast as possible.
 */
 static int rtd_ao_winsn(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	int i;
 	int chan = CR_CHAN(insn->chanspec);
@@ -2191,7 +2191,7 @@ static int rtd_ao_winsn(struct comedi_de
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
 static int rtd_ao_rinsn(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	int i;
 	int chan = CR_CHAN(insn->chanspec);
@@ -2214,7 +2214,7 @@ static int rtd_ao_rinsn(struct comedi_de
  * comedi core can convert between insn_bits and insn_read/write
  */
 static int rtd_dio_insn_bits(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	if (insn->n != 2)
 		return -EINVAL;
@@ -2241,7 +2241,7 @@ static int rtd_dio_insn_bits(struct come
   Configure one bit on a IO port as Input or Output (hence the name :-).
 */
 static int rtd_dio_insn_config(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	int chan = CR_CHAN(insn->chanspec);
 
--- a/drivers/staging/comedi/drivers/rti800.c
+++ b/drivers/staging/comedi/drivers/rti800.c
@@ -178,7 +178,7 @@ static irqreturn_t rti800_interrupt(int 
 // settling delay times in usec for different gains
 static const int gaindelay[] = { 10, 20, 40, 80 };
 
-static int rti800_ai_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int rti800_ai_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, t;
@@ -231,7 +231,7 @@ static int rti800_ai_insn_read(struct co
 	return i;
 }
 
-static int rti800_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int rti800_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -243,7 +243,7 @@ static int rti800_ao_insn_read(struct co
 	return i;
 }
 
-static int rti800_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int rti800_ao_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn->chanspec);
@@ -263,7 +263,7 @@ static int rti800_ao_insn_write(struct c
 	return i;
 }
 
-static int rti800_di_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int rti800_di_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -272,7 +272,7 @@ static int rti800_di_insn_bits(struct co
 	return 2;
 }
 
-static int rti800_do_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int rti800_do_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -312,7 +312,7 @@ static int rti800_attach(struct comedi_d
 	unsigned int irq;
 	unsigned long iobase;
 	int ret;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	iobase = it->options[0];
 	printk("comedi%d: rti800: 0x%04lx ", dev->minor, iobase);
--- a/drivers/staging/comedi/drivers/rti802.c
+++ b/drivers/staging/comedi/drivers/rti802.c
@@ -68,7 +68,7 @@ typedef struct {
 
 #define devpriv ((rti802_private *)dev->private)
 
-static int rti802_ao_insn_read(struct comedi_device * dev, comedi_subdevice * s,
+static int rti802_ao_insn_read(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -79,7 +79,7 @@ static int rti802_ao_insn_read(struct co
 	return i;
 }
 
-static int rti802_ao_insn_write(struct comedi_device * dev, comedi_subdevice * s,
+static int rti802_ao_insn_write(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i, d;
@@ -98,7 +98,7 @@ static int rti802_ao_insn_write(struct c
 
 static int rti802_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int i;
 	unsigned long iobase;
 
--- a/drivers/staging/comedi/drivers/s526.c
+++ b/drivers/staging/comedi/drivers/s526.c
@@ -245,23 +245,23 @@ static comedi_driver driver_s526 = {
       num_names:sizeof(s526_boards) / sizeof(s526_board),
 };
 
-static int s526_gpct_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_gpct_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int s526_gpct_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_gpct_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int s526_gpct_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_gpct_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int s526_ai_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_ai_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int s526_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int s526_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int s526_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int s526_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int s526_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 /*
@@ -272,7 +272,7 @@ static int s526_dio_insn_config(struct c
  */
 static int s526_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int iobase;
 	int i, n;
 //      short value;
@@ -476,7 +476,7 @@ static int s526_detach(struct comedi_dev
 	return 0;
 }
 
-static int s526_gpct_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_gpct_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;			// counts the Data
@@ -500,7 +500,7 @@ static int s526_gpct_rinsn(struct comedi
 	return i;
 }
 
-static int s526_gpct_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_gpct_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int subdev_channel = CR_CHAN(insn->chanspec);	// Unpack chanspec
@@ -725,7 +725,7 @@ static int s526_gpct_insn_config(struct 
 	return insn->n;
 }
 
-static int s526_gpct_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_gpct_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int subdev_channel = CR_CHAN(insn->chanspec);	// Unpack chanspec
@@ -784,7 +784,7 @@ static int s526_gpct_winsn(struct comedi
 }
 
 #define ISR_ADC_DONE 0x4
-static int s526_ai_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_ai_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int result = -EINVAL;
@@ -817,7 +817,7 @@ static int s526_ai_insn_config(struct co
  * "instructions" read/write data in "one-shot" or "software-triggered"
  * mode.
  */
-static int s526_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, i;
@@ -867,7 +867,7 @@ static int s526_ai_rinsn(struct comedi_d
 	return n;
 }
 
-static int s526_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -896,7 +896,7 @@ static int s526_ao_winsn(struct comedi_d
 
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
-static int s526_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -913,7 +913,7 @@ static int s526_ao_rinsn(struct comedi_d
  * useful to applications if you implement the insn_bits interface.
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
-static int s526_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -938,7 +938,7 @@ static int s526_dio_insn_bits(struct com
 	return 2;
 }
 
-static int s526_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int s526_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn->chanspec);
--- a/drivers/staging/comedi/drivers/s626.c
+++ b/drivers/staging/comedi/drivers/s626.c
@@ -222,40 +222,40 @@ static struct dio_private *dio_private_w
 COMEDI_PCI_INITCLEANUP_NOMODULE(driver_s626, s626_pci_table);
 
 /* ioctl routines */
-static int s626_ai_insn_config(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_ai_insn_config(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-/* static int s626_ai_rinsn(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data); */
-static int s626_ai_insn_read(struct comedi_device *dev, comedi_subdevice *s,
+/* static int s626_ai_rinsn(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data); */
+static int s626_ai_insn_read(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int s626_ai_cmd(struct comedi_device *dev, comedi_subdevice *s);
-static int s626_ai_cmdtest(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_ai_cmd(struct comedi_device *dev, struct comedi_subdevice *s);
+static int s626_ai_cmdtest(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_cmd *cmd);
-static int s626_ai_cancel(struct comedi_device *dev, comedi_subdevice *s);
-static int s626_ao_winsn(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_ai_cancel(struct comedi_device *dev, struct comedi_subdevice *s);
+static int s626_ao_winsn(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int s626_ao_rinsn(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_ao_rinsn(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int s626_dio_insn_bits(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_dio_insn_bits(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int s626_dio_insn_config(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_dio_insn_config(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
 static int s626_dio_set_irq(struct comedi_device *dev, unsigned int chan);
 static int s626_dio_reset_irq(struct comedi_device *dev, unsigned int gruop,
 	unsigned int mask);
 static int s626_dio_clear_irq(struct comedi_device *dev);
-static int s626_enc_insn_config(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_enc_insn_config(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int s626_enc_insn_read(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_enc_insn_read(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
-static int s626_enc_insn_write(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_enc_insn_write(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data);
 static int s626_ns_to_timer(int *nanosec, int round_mode);
 static int s626_ai_load_polllist(uint8_t *ppl, comedi_cmd *cmd);
-static int s626_ai_inttrig(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_ai_inttrig(struct comedi_device *dev, struct comedi_subdevice *s,
 	unsigned int trignum);
 static irqreturn_t s626_irq_handler(int irq, void *d PT_REGS_ARG);
 static unsigned int s626_ai_reg_to_uint(int data);
-/* static unsigned int s626_uint_to_reg(comedi_subdevice *s, int data); */
+/* static unsigned int s626_uint_to_reg(struct comedi_subdevice *s, int data); */
 
 /* end ioctl routines */
 
@@ -497,7 +497,7 @@ static int s626_attach(struct comedi_dev
 	int ret;
 	resource_size_t resourceStart;
 	dma_addr_t appdma;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	struct pci_dev *pdev;
 
 	if (alloc_private(dev, sizeof(struct s626_private)) < 0)
@@ -964,14 +964,14 @@ static unsigned int s626_ai_reg_to_uint(
 	return tempdata;
 }
 
-/* static unsigned int s626_uint_to_reg(comedi_subdevice *s, int data){ */
+/* static unsigned int s626_uint_to_reg(struct comedi_subdevice *s, int data){ */
 /*   return 0; */
 /* } */
 
 static irqreturn_t s626_irq_handler(int irq, void *d PT_REGS_ARG)
 {
 	struct comedi_device *dev = d;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	comedi_cmd *cmd;
 	struct enc_private *k;
 	unsigned long flags;
@@ -1503,14 +1503,14 @@ void ResetADC(struct comedi_device *dev,
 }
 
 /* TO COMPLETE, IF NECESSARY */
-static int s626_ai_insn_config(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_ai_insn_config(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 
 	return -EINVAL;
 }
 
-/* static int s626_ai_rinsn(struct comedi_device *dev,comedi_subdevice *s,comedi_insn *insn,unsigned int *data) */
+/* static int s626_ai_rinsn(struct comedi_device *dev,struct comedi_subdevice *s,comedi_insn *insn,unsigned int *data) */
 /* { */
 /*   register uint8_t	i; */
 /*   register int32_t	*readaddr; */
@@ -1540,7 +1540,7 @@ static int s626_ai_insn_config(struct co
 /*   return i; */
 /* } */
 
-static int s626_ai_insn_read(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_ai_insn_read(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	uint16_t chan = CR_CHAN(insn->chanspec);
@@ -1654,7 +1654,7 @@ static int s626_ai_load_polllist(uint8_t
 	return n;
 }
 
-static int s626_ai_inttrig(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_ai_inttrig(struct comedi_device *dev, struct comedi_subdevice *s,
 	unsigned int trignum)
 {
 	if (trignum != 0)
@@ -1673,7 +1673,7 @@ static int s626_ai_inttrig(struct comedi
 }
 
 /*  TO COMPLETE  */
-static int s626_ai_cmd(struct comedi_device *dev, comedi_subdevice *s)
+static int s626_ai_cmd(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 
 	uint8_t ppl[16];
@@ -1819,7 +1819,7 @@ static int s626_ai_cmd(struct comedi_dev
 	return 0;
 }
 
-static int s626_ai_cmdtest(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_ai_cmdtest(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_cmd *cmd)
 {
 	int err = 0;
@@ -2004,7 +2004,7 @@ static int s626_ai_cmdtest(struct comedi
 	return 0;
 }
 
-static int s626_ai_cancel(struct comedi_device *dev, comedi_subdevice *s)
+static int s626_ai_cancel(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	/*  Stop RPS program in case it is currently running. */
 	MC_DISABLE(P_MC1, MC1_ERPS1);
@@ -2045,7 +2045,7 @@ static int s626_ns_to_timer(int *nanosec
 	return divider - 1;
 }
 
-static int s626_ao_winsn(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_ao_winsn(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 
@@ -2064,7 +2064,7 @@ static int s626_ao_winsn(struct comedi_d
 	return i;
 }
 
-static int s626_ao_rinsn(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_ao_rinsn(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	int i;
@@ -2084,7 +2084,7 @@ static int s626_ao_rinsn(struct comedi_d
 static void s626_dio_init(struct comedi_device *dev)
 {
 	uint16_t group;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	/*  Prepare to treat writes to WRCapSel as capture disables. */
 	DEBIwrite(dev, LP_MISC1, MISC1_NOEDCAP);
@@ -2110,7 +2110,7 @@ static void s626_dio_init(struct comedi_
  * This allows packed reading/writing of the DIO channels.  The comedi
  * core can convert between insn_bits and insn_read/write */
 
-static int s626_dio_insn_bits(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_dio_insn_bits(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 
@@ -2146,7 +2146,7 @@ static int s626_dio_insn_bits(struct com
 	return 2;
 }
 
-static int s626_dio_insn_config(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_dio_insn_config(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 
@@ -2251,7 +2251,7 @@ static int s626_dio_clear_irq(struct com
 /* Now this function initializes the value of the counter (data[0])
    and set the subdevice. To complete with trigger and interrupt
    configuration */
-static int s626_enc_insn_config(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_enc_insn_config(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 	uint16_t Setup = (LOADSRC_INDX << BF_LOADSRC) |	/*  Preload upon */
@@ -2281,7 +2281,7 @@ static int s626_enc_insn_config(struct c
 	return insn->n;
 }
 
-static int s626_enc_insn_read(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_enc_insn_read(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 
@@ -2299,7 +2299,7 @@ static int s626_enc_insn_read(struct com
 	return n;
 }
 
-static int s626_enc_insn_write(struct comedi_device *dev, comedi_subdevice *s,
+static int s626_enc_insn_write(struct comedi_device *dev, struct comedi_subdevice *s,
 	comedi_insn *insn, unsigned int *data)
 {
 
--- a/drivers/staging/comedi/drivers/serial2002.c
+++ b/drivers/staging/comedi/drivers/serial2002.c
@@ -97,15 +97,15 @@ comedi_driver driver_serial2002 = {
       num_names:sizeof(serial2002_boards) / sizeof(serial2002_board),
 };
 
-static int serial2002_di_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int serial2002_di_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int serial2002_do_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int serial2002_do_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int serial2002_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int serial2002_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int serial2002_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int serial2002_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int serial2002_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int serial2002_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
 
 struct serial_data {
@@ -597,7 +597,7 @@ static void serial_2002_open(struct come
 				break;
 			}
 			if (c) {
-				comedi_subdevice *s;
+				struct comedi_subdevice *s;
 				const comedi_lrange **range_table_list = NULL;
 				unsigned int *maxdata_list;
 				int j, chan;
@@ -660,7 +660,7 @@ static void serial_2002_close(struct com
 	}
 }
 
-static int serial2002_di_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int serial2002_di_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -682,7 +682,7 @@ static int serial2002_di_rinsn(struct co
 	return n;
 }
 
-static int serial2002_do_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int serial2002_do_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -700,7 +700,7 @@ static int serial2002_do_winsn(struct co
 	return n;
 }
 
-static int serial2002_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int serial2002_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -722,7 +722,7 @@ static int serial2002_ai_rinsn(struct co
 	return n;
 }
 
-static int serial2002_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int serial2002_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -741,7 +741,7 @@ static int serial2002_ao_winsn(struct co
 	return n;
 }
 
-static int serial2002_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int serial2002_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -754,7 +754,7 @@ static int serial2002_ao_rinsn(struct co
 	return n;
 }
 
-static int serial2002_ei_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int serial2002_ei_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n;
@@ -778,7 +778,7 @@ static int serial2002_ei_rinsn(struct co
 
 static int serial2002_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	printk("comedi%d: serial2002: ", dev->minor);
 	dev->board_name = thisboard->name;
@@ -845,7 +845,7 @@ static int serial2002_attach(struct come
 
 static int serial2002_detach(struct comedi_device * dev)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int i;
 
 	printk("comedi%d: serial2002: remove\n", dev->minor);
--- a/drivers/staging/comedi/drivers/skel.c
+++ b/drivers/staging/comedi/drivers/skel.c
@@ -181,17 +181,17 @@ static comedi_driver driver_skel = {
       num_names:sizeof(skel_boards) / sizeof(skel_board),
 };
 
-static int skel_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int skel_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int skel_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int skel_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int skel_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int skel_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int skel_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int skel_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int skel_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int skel_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data);
-static int skel_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int skel_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd);
 static int skel_ns_to_timer(unsigned int *ns, int round);
 
@@ -203,7 +203,7 @@ static int skel_ns_to_timer(unsigned int
  */
 static int skel_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	printk("comedi%d: skel: ", dev->minor);
 
@@ -298,7 +298,7 @@ static int skel_detach(struct comedi_dev
  * "instructions" read/write data in "one-shot" or "software-triggered"
  * mode.
  */
-static int skel_ai_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int skel_ai_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int n, i;
@@ -346,7 +346,7 @@ static int skel_ai_rinsn(struct comedi_d
 	return n;
 }
 
-static int skel_ai_cmdtest(struct comedi_device * dev, comedi_subdevice * s,
+static int skel_ai_cmdtest(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_cmd * cmd)
 {
 	int err = 0;
@@ -515,7 +515,7 @@ static int skel_ns_to_timer(unsigned int
 	return *ns;
 }
 
-static int skel_ao_winsn(struct comedi_device * dev, comedi_subdevice * s,
+static int skel_ao_winsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -536,7 +536,7 @@ static int skel_ao_winsn(struct comedi_d
 
 /* AO subdevices should have a read insn as well as a write insn.
  * Usually this means copying a value stored in devpriv. */
-static int skel_ao_rinsn(struct comedi_device * dev, comedi_subdevice * s,
+static int skel_ao_rinsn(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int i;
@@ -553,7 +553,7 @@ static int skel_ao_rinsn(struct comedi_d
  * useful to applications if you implement the insn_bits interface.
  * This allows packed reading/writing of the DIO channels.  The
  * comedi core can convert between insn_bits and insn_read/write */
-static int skel_dio_insn_bits(struct comedi_device * dev, comedi_subdevice * s,
+static int skel_dio_insn_bits(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	if (insn->n != 2)
@@ -578,7 +578,7 @@ static int skel_dio_insn_bits(struct com
 	return 2;
 }
 
-static int skel_dio_insn_config(struct comedi_device * dev, comedi_subdevice * s,
+static int skel_dio_insn_config(struct comedi_device * dev, struct comedi_subdevice * s,
 	comedi_insn * insn, unsigned int * data)
 {
 	int chan = CR_CHAN(insn->chanspec);
--- a/drivers/staging/comedi/drivers/ssv_dnp.c
+++ b/drivers/staging/comedi/drivers/ssv_dnp.c
@@ -104,10 +104,10 @@ static comedi_driver driver_dnp = {
 COMEDI_INITCLEANUP(driver_dnp);
 
 static int dnp_dio_insn_bits(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
 static int dnp_dio_insn_config(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data);
 
 /* ------------------------------------------------------------------------- */
 /* Attach is called by comedi core to configure the driver for a particular  */
@@ -118,7 +118,7 @@ static int dnp_dio_insn_config(struct co
 static int dnp_attach(struct comedi_device * dev, comedi_devconfig * it)
 {
 
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	printk("comedi%d: dnp: ", dev->minor);
 
@@ -201,7 +201,7 @@ static int dnp_detach(struct comedi_devi
 /* ------------------------------------------------------------------------- */
 
 static int dnp_dio_insn_bits(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 
 	if (insn->n != 2)
@@ -251,7 +251,7 @@ static int dnp_dio_insn_bits(struct come
 /* ------------------------------------------------------------------------- */
 
 static int dnp_dio_insn_config(struct comedi_device * dev,
-	comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
+	struct comedi_subdevice * s, comedi_insn * insn, unsigned int * data)
 {
 
 	u8 register_buffer;
--- a/drivers/staging/comedi/drivers/unioxx5.c
+++ b/drivers/staging/comedi/drivers/unioxx5.c
@@ -81,14 +81,14 @@ typedef struct unioxx5_subd_priv {
 } unioxx5_subd_priv;
 
 static int unioxx5_attach(struct comedi_device * dev, comedi_devconfig * it);
-static int unioxx5_subdev_write(struct comedi_device * dev, comedi_subdevice * subdev,
+static int unioxx5_subdev_write(struct comedi_device * dev, struct comedi_subdevice * subdev,
 	comedi_insn * insn, unsigned int * data);
-static int unioxx5_subdev_read(struct comedi_device * dev, comedi_subdevice * subdev,
+static int unioxx5_subdev_read(struct comedi_device * dev, struct comedi_subdevice * subdev,
 	comedi_insn * insn, unsigned int * data);
-static int unioxx5_insn_config(struct comedi_device * dev, comedi_subdevice * subdev,
+static int unioxx5_insn_config(struct comedi_device * dev, struct comedi_subdevice * subdev,
 	comedi_insn * insn, unsigned int * data);
 static int unioxx5_detach(struct comedi_device * dev);
-static int __unioxx5_subdev_init(comedi_subdevice * subdev, int subdev_iobase,
+static int __unioxx5_subdev_init(struct comedi_subdevice * subdev, int subdev_iobase,
 	int minor);
 static int __unioxx5_digital_write(unioxx5_subd_priv * usp, unsigned int * data,
 	int channel, int minor);
@@ -156,7 +156,7 @@ static int unioxx5_attach(struct comedi_
 	return 0;
 }
 
-static int unioxx5_subdev_read(struct comedi_device * dev, comedi_subdevice * subdev,
+static int unioxx5_subdev_read(struct comedi_device * dev, struct comedi_subdevice * subdev,
 	comedi_insn * insn, unsigned int * data)
 {
 	unioxx5_subd_priv *usp = subdev->private;
@@ -176,7 +176,7 @@ static int unioxx5_subdev_read(struct co
 	return 1;
 }
 
-static int unioxx5_subdev_write(struct comedi_device * dev, comedi_subdevice * subdev,
+static int unioxx5_subdev_write(struct comedi_device * dev, struct comedi_subdevice * subdev,
 	comedi_insn * insn, unsigned int * data)
 {
 	unioxx5_subd_priv *usp = subdev->private;
@@ -197,7 +197,7 @@ static int unioxx5_subdev_write(struct c
 }
 
 /* for digital modules only */
-static int unioxx5_insn_config(struct comedi_device * dev, comedi_subdevice * subdev,
+static int unioxx5_insn_config(struct comedi_device * dev, struct comedi_subdevice * subdev,
 	comedi_insn * insn, unsigned int * data)
 {
 	int channel_offset, flags, channel = CR_CHAN(insn->chanspec), type;
@@ -250,7 +250,7 @@ static int unioxx5_insn_config(struct co
 static int unioxx5_detach(struct comedi_device * dev)
 {
 	int i;
-	comedi_subdevice *subdev;
+	struct comedi_subdevice *subdev;
 	unioxx5_subd_priv *usp;
 
 	for (i = 0; i < dev->n_subdevices; i++) {
@@ -264,7 +264,7 @@ static int unioxx5_detach(struct comedi_
 }
 
 /* initializing subdevice with given address */
-static int __unioxx5_subdev_init(comedi_subdevice * subdev, int subdev_iobase,
+static int __unioxx5_subdev_init(struct comedi_subdevice * subdev, int subdev_iobase,
 	int minor)
 {
 	unioxx5_subd_priv *usp;
--- a/drivers/staging/comedi/drivers/usbdux.c
+++ b/drivers/staging/comedi/drivers/usbdux.c
@@ -363,7 +363,7 @@ static int usbdux_ai_stop(struct usbduxs
  * This will cancel a running acquisition operation.
  * This is called by comedi but never from inside the driver.
  */
-static int usbdux_ai_cancel(struct comedi_device *dev, comedi_subdevice *s)
+static int usbdux_ai_cancel(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	struct usbduxsub *this_usbduxsub;
 	int res = 0;
@@ -393,7 +393,7 @@ static void usbduxsub_ai_IsocIrq(struct 
 	int i, err, n;
 	struct usbduxsub *this_usbduxsub;
 	struct comedi_device *this_comedidev;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	/* the context variable points to the subdevice */
 	this_comedidev = urb->context;
@@ -561,7 +561,7 @@ static int usbdux_ao_stop(struct usbduxs
 }
 
 /* force unlink, is called by comedi */
-static int usbdux_ao_cancel(struct comedi_device *dev, comedi_subdevice *s)
+static int usbdux_ao_cancel(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	struct usbduxsub *this_usbduxsub = dev->private;
 	int res = 0;
@@ -587,7 +587,7 @@ static void usbduxsub_ao_IsocIrq(struct 
 	int8_t *datap;
 	struct usbduxsub *this_usbduxsub;
 	struct comedi_device *this_comedidev;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	/* the context variable points to the subdevice */
 	this_comedidev = urb->context;
@@ -896,7 +896,7 @@ static int usbduxsub_submit_OutURBs(stru
 	return 0;
 }
 
-static int usbdux_ai_cmdtest(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_ai_cmdtest(struct comedi_device *dev, struct comedi_subdevice *s,
 			     comedi_cmd *cmd)
 {
 	int err = 0, tmp, i;
@@ -1116,7 +1116,7 @@ static int receive_dux_commands(struct u
 	return -EFAULT;
 }
 
-static int usbdux_ai_inttrig(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_ai_inttrig(struct comedi_device *dev, struct comedi_subdevice *s,
 			     unsigned int trignum)
 {
 	int ret;
@@ -1160,7 +1160,7 @@ static int usbdux_ai_inttrig(struct come
 	return 1;
 }
 
-static int usbdux_ai_cmd(struct comedi_device *dev, comedi_subdevice *s)
+static int usbdux_ai_cmd(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	comedi_cmd *cmd = &s->async->cmd;
 	unsigned int chan, range;
@@ -1276,7 +1276,7 @@ static int usbdux_ai_cmd(struct comedi_d
 }
 
 /* Mode 0 is used to get a single conversion on demand */
-static int usbdux_ai_insn_read(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_ai_insn_read(struct comedi_device *dev, struct comedi_subdevice *s,
 			       comedi_insn *insn, unsigned int *data)
 {
 	int i;
@@ -1337,7 +1337,7 @@ static int usbdux_ai_insn_read(struct co
 /************************************/
 /* analog out */
 
-static int usbdux_ao_insn_read(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_ao_insn_read(struct comedi_device *dev, struct comedi_subdevice *s,
 			       comedi_insn *insn, unsigned int *data)
 {
 	int i;
@@ -1359,7 +1359,7 @@ static int usbdux_ao_insn_read(struct co
 	return i;
 }
 
-static int usbdux_ao_insn_write(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_ao_insn_write(struct comedi_device *dev, struct comedi_subdevice *s,
 				comedi_insn *insn, unsigned int *data)
 {
 	int i, err;
@@ -1409,7 +1409,7 @@ static int usbdux_ao_insn_write(struct c
 	return i;
 }
 
-static int usbdux_ao_inttrig(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_ao_inttrig(struct comedi_device *dev, struct comedi_subdevice *s,
 			     unsigned int trignum)
 {
 	int ret;
@@ -1450,7 +1450,7 @@ static int usbdux_ao_inttrig(struct come
 	return 1;
 }
 
-static int usbdux_ao_cmdtest(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_ao_cmdtest(struct comedi_device *dev, struct comedi_subdevice *s,
 			     comedi_cmd *cmd)
 {
 	int err = 0, tmp;
@@ -1589,7 +1589,7 @@ static int usbdux_ao_cmdtest(struct come
 	return 0;
 }
 
-static int usbdux_ao_cmd(struct comedi_device *dev, comedi_subdevice *s)
+static int usbdux_ao_cmd(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	comedi_cmd *cmd = &s->async->cmd;
 	unsigned int chan, gain;
@@ -1697,7 +1697,7 @@ static int usbdux_ao_cmd(struct comedi_d
 	return 0;
 }
 
-static int usbdux_dio_insn_config(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_dio_insn_config(struct comedi_device *dev, struct comedi_subdevice *s,
 				  comedi_insn *insn, unsigned int *data)
 {
 	int chan = CR_CHAN(insn->chanspec);
@@ -1728,7 +1728,7 @@ static int usbdux_dio_insn_config(struct
 	return insn->n;
 }
 
-static int usbdux_dio_insn_bits(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_dio_insn_bits(struct comedi_device *dev, struct comedi_subdevice *s,
 				comedi_insn *insn, unsigned int *data)
 {
 
@@ -1775,7 +1775,7 @@ static int usbdux_dio_insn_bits(struct c
 }
 
 /* reads the 4 counters, only two are used just now */
-static int usbdux_counter_read(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_counter_read(struct comedi_device *dev, struct comedi_subdevice *s,
 			       comedi_insn *insn, unsigned int *data)
 {
 	struct usbduxsub *this_usbduxsub = dev->private;
@@ -1809,7 +1809,7 @@ static int usbdux_counter_read(struct co
 	return 1;
 }
 
-static int usbdux_counter_write(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_counter_write(struct comedi_device *dev, struct comedi_subdevice *s,
 				comedi_insn *insn, unsigned int *data)
 {
 	struct usbduxsub *this_usbduxsub = dev->private;
@@ -1839,7 +1839,7 @@ static int usbdux_counter_write(struct c
 	return 1;
 }
 
-static int usbdux_counter_config(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_counter_config(struct comedi_device *dev, struct comedi_subdevice *s,
 				 comedi_insn *insn, unsigned int *data)
 {
 	/* nothing to do so far */
@@ -1883,7 +1883,7 @@ static int usbdux_pwm_stop(struct usbdux
 }
 
 /* force unlink - is called by comedi */
-static int usbdux_pwm_cancel(struct comedi_device *dev, comedi_subdevice *s)
+static int usbdux_pwm_cancel(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	struct usbduxsub *this_usbduxsub = dev->private;
 	int res = 0;
@@ -1906,7 +1906,7 @@ static void usbduxsub_pwm_irq(struct urb
 	int ret;
 	struct usbduxsub *this_usbduxsub;
 	struct comedi_device *this_comedidev;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	/* printk(KERN_DEBUG "PWM: IRQ\n"); */
 
@@ -1996,7 +1996,7 @@ static int usbduxsub_submit_PwmURBs(stru
 	return 0;
 }
 
-static int usbdux_pwm_period(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_pwm_period(struct comedi_device *dev, struct comedi_subdevice *s,
 			     unsigned int period)
 {
 	struct usbduxsub *this_usbduxsub = dev->private;
@@ -2024,7 +2024,7 @@ static int usbdux_pwm_period(struct come
 }
 
 /* is called from insn so there's no need to do all the sanity checks */
-static int usbdux_pwm_start(struct comedi_device *dev, comedi_subdevice *s)
+static int usbdux_pwm_start(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	int ret, i;
 	struct usbduxsub *this_usbduxsub = dev->private;
@@ -2056,7 +2056,7 @@ static int usbdux_pwm_start(struct comed
 }
 
 /* generates the bit pattern for PWM with the optional sign bit */
-static int usbdux_pwm_pattern(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_pwm_pattern(struct comedi_device *dev, struct comedi_subdevice *s,
 			      int channel, unsigned int value, unsigned int sign)
 {
 	struct usbduxsub *this_usbduxsub = dev->private;
@@ -2097,7 +2097,7 @@ static int usbdux_pwm_pattern(struct com
 	return 1;
 }
 
-static int usbdux_pwm_write(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_pwm_write(struct comedi_device *dev, struct comedi_subdevice *s,
 			    comedi_insn *insn, unsigned int *data)
 {
 	struct usbduxsub *this_usbduxsub = dev->private;
@@ -2122,7 +2122,7 @@ static int usbdux_pwm_write(struct comed
 				  data[0], 0);
 }
 
-static int usbdux_pwm_read(struct comedi_device *x1, comedi_subdevice *x2,
+static int usbdux_pwm_read(struct comedi_device *x1, struct comedi_subdevice *x2,
 			   comedi_insn *x3, unsigned int *x4)
 {
 	/* not needed */
@@ -2130,7 +2130,7 @@ static int usbdux_pwm_read(struct comedi
 };
 
 /* switches on/off PWM */
-static int usbdux_pwm_config(struct comedi_device *dev, comedi_subdevice *s,
+static int usbdux_pwm_config(struct comedi_device *dev, struct comedi_subdevice *s,
 			     comedi_insn *insn, unsigned int *data)
 {
 	struct usbduxsub *this_usbduxsub = dev->private;
@@ -2710,7 +2710,7 @@ static int usbdux_attach(struct comedi_d
 	int i;
 	struct usbduxsub *udev;
 
-	comedi_subdevice *s = NULL;
+	struct comedi_subdevice *s = NULL;
 	dev->private = NULL;
 
 	down(&start_stop_sem);
--- a/drivers/staging/comedi/drivers/usbduxfast.c
+++ b/drivers/staging/comedi/drivers/usbduxfast.c
@@ -284,7 +284,7 @@ static int usbduxfast_ai_stop(struct usb
  * This will cancel a running acquisition operation.
  * This is called by comedi but never from inside the driver.
  */
-static int usbduxfast_ai_cancel(struct comedi_device *dev, comedi_subdevice *s)
+static int usbduxfast_ai_cancel(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	struct usbduxfastsub_s *udfs;
 	int ret;
@@ -319,7 +319,7 @@ static void usbduxfastsub_ai_Irq(struct 
 	int n, err;
 	struct usbduxfastsub_s *udfs;
 	struct comedi_device *this_comedidev;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	uint16_t *p;
 
 	/* sanity checks - is the urb there? */
@@ -578,7 +578,7 @@ int usbduxfastsub_submit_InURBs(struct u
 }
 
 static int usbduxfast_ai_cmdtest(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_cmd *cmd)
+	struct comedi_subdevice *s, comedi_cmd *cmd)
 {
 	int err = 0, stop_mask = 0;
 	long int steps, tmp;
@@ -720,7 +720,7 @@ static int usbduxfast_ai_cmdtest(struct 
 }
 
 static int usbduxfast_ai_inttrig(struct comedi_device *dev,
-	comedi_subdevice *s, unsigned int trignum)
+	struct comedi_subdevice *s, unsigned int trignum)
 {
 	int ret;
 	struct usbduxfastsub_s *udfs = dev->private;
@@ -771,7 +771,7 @@ static int usbduxfast_ai_inttrig(struct 
 #define OUTBASE	(1+0x10)
 #define LOGBASE	(1+0x18)
 
-static int usbduxfast_ai_cmd(struct comedi_device *dev, comedi_subdevice *s)
+static int usbduxfast_ai_cmd(struct comedi_device *dev, struct comedi_subdevice *s)
 {
 	comedi_cmd *cmd = &s->async->cmd;
 	unsigned int chan, gain, rngmask = 0xff;
@@ -1231,7 +1231,7 @@ static int usbduxfast_ai_cmd(struct come
  * Mode 0 is used to get a single conversion on demand.
  */
 static int usbduxfast_ai_insn_read(struct comedi_device *dev,
-	comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
+	struct comedi_subdevice *s, comedi_insn *insn, unsigned int *data)
 {
 	int i, j, n, actual_length;
 	int chan, range, rngmask;
@@ -1720,7 +1720,7 @@ static int usbduxfast_attach(struct come
 	int ret;
 	int index;
 	int i;
-	comedi_subdevice *s = NULL;
+	struct comedi_subdevice *s = NULL;
 	dev->private = NULL;
 
 	down(&start_stop_sem);
--- a/drivers/staging/comedi/kcomedilib/get.c
+++ b/drivers/staging/comedi/kcomedilib/get.c
@@ -55,7 +55,7 @@ const char *comedi_get_board_name(void *
 int comedi_get_subdevice_type(void *d, unsigned int subdevice)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev->subdevices + subdevice;
+	struct comedi_subdevice *s = dev->subdevices + subdevice;
 
 	return s->type;
 }
@@ -63,7 +63,7 @@ int comedi_get_subdevice_type(void *d, u
 unsigned int comedi_get_subdevice_flags(void *d, unsigned int subdevice)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev->subdevices + subdevice;
+	struct comedi_subdevice *s = dev->subdevices + subdevice;
 
 	return s->subdev_flags;
 }
@@ -85,7 +85,7 @@ int comedi_find_subdevice_by_type(void *
 int comedi_get_n_channels(void *d, unsigned int subdevice)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev->subdevices + subdevice;
+	struct comedi_subdevice *s = dev->subdevices + subdevice;
 
 	return s->n_chan;
 }
@@ -93,7 +93,7 @@ int comedi_get_n_channels(void *d, unsig
 int comedi_get_len_chanlist(void *d, unsigned int subdevice)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev->subdevices + subdevice;
+	struct comedi_subdevice *s = dev->subdevices + subdevice;
 
 	return s->len_chanlist;
 }
@@ -102,7 +102,7 @@ unsigned int comedi_get_maxdata(void *d,
 	unsigned int chan)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev->subdevices + subdevice;
+	struct comedi_subdevice *s = dev->subdevices + subdevice;
 
 	if (s->maxdata_list)
 		return s->maxdata_list[chan];
@@ -115,7 +115,7 @@ int comedi_get_rangetype(void *d, unsign
 	unsigned int chan)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev->subdevices + subdevice;
+	struct comedi_subdevice *s = dev->subdevices + subdevice;
 	int ret;
 
 	if (s->range_table_list) {
@@ -133,7 +133,7 @@ int comedi_get_rangetype(void *d, unsign
 int comedi_get_n_ranges(void *d, unsigned int subdevice, unsigned int chan)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev->subdevices + subdevice;
+	struct comedi_subdevice *s = dev->subdevices + subdevice;
 	int ret;
 
 	if (s->range_table_list) {
@@ -152,7 +152,7 @@ int comedi_get_krange(void *d, unsigned 
 	unsigned int range, comedi_krange *krange)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev->subdevices + subdevice;
+	struct comedi_subdevice *s = dev->subdevices + subdevice;
 	const comedi_lrange *lr;
 
 	if (s->range_table_list) {
@@ -174,7 +174,7 @@ int comedi_get_krange(void *d, unsigned 
 unsigned int comedi_get_buf_head_pos(void *d, unsigned int subdevice)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev->subdevices + subdevice;
+	struct comedi_subdevice *s = dev->subdevices + subdevice;
 	comedi_async *async;
 
 	async = s->async;
@@ -187,7 +187,7 @@ unsigned int comedi_get_buf_head_pos(voi
 int comedi_get_buffer_contents(void *d, unsigned int subdevice)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev->subdevices + subdevice;
+	struct comedi_subdevice *s = dev->subdevices + subdevice;
 	comedi_async *async;
 	unsigned int num_bytes;
 
@@ -207,7 +207,7 @@ int comedi_set_user_int_count(void *d, u
 	unsigned int buf_user_count)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev->subdevices + subdevice;
+	struct comedi_subdevice *s = dev->subdevices + subdevice;
 	comedi_async *async;
 	int num_bytes;
 
@@ -228,7 +228,7 @@ int comedi_mark_buffer_read(void *d, uns
 	unsigned int num_bytes)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev->subdevices + subdevice;
+	struct comedi_subdevice *s = dev->subdevices + subdevice;
 	comedi_async *async;
 
 	if (subdevice >= dev->n_subdevices)
@@ -247,7 +247,7 @@ int comedi_mark_buffer_written(void *d, 
 	unsigned int num_bytes)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev->subdevices + subdevice;
+	struct comedi_subdevice *s = dev->subdevices + subdevice;
 	comedi_async *async;
 	int bytes_written;
 
@@ -266,7 +266,7 @@ int comedi_mark_buffer_written(void *d, 
 int comedi_get_buffer_size(void *d, unsigned int subdev)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev->subdevices + subdev;
+	struct comedi_subdevice *s = dev->subdevices + subdev;
 	comedi_async *async;
 
 	if (subdev >= dev->n_subdevices)
@@ -281,7 +281,7 @@ int comedi_get_buffer_size(void *d, unsi
 int comedi_get_buffer_offset(void *d, unsigned int subdevice)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev->subdevices + subdevice;
+	struct comedi_subdevice *s = dev->subdevices + subdevice;
 	comedi_async *async;
 
 	if (subdevice >= dev->n_subdevices)
--- a/drivers/staging/comedi/kcomedilib/kcomedilib_main.c
+++ b/drivers/staging/comedi/kcomedilib/kcomedilib_main.c
@@ -124,7 +124,7 @@ int comedi_fileno(void *d)
 int comedi_command(void *d, comedi_cmd *cmd)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	comedi_async *async;
 	unsigned runflags;
 
@@ -164,7 +164,7 @@ int comedi_command(void *d, comedi_cmd *
 int comedi_command_test(void *d, comedi_cmd *cmd)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	if (cmd->subdev >= dev->n_subdevices)
 		return -ENODEV;
@@ -186,7 +186,7 @@ int comedi_command_test(void *d, comedi_
 int comedi_do_insn(void *d, comedi_insn *insn)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret = 0;
 
 	if (insn->insn & INSN_MASK_SPECIAL) {
@@ -327,7 +327,7 @@ int comedi_do_insn(void *d, comedi_insn 
 int comedi_lock(void *d, unsigned int subdevice)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long flags;
 	int ret = 0;
 
@@ -370,7 +370,7 @@ int comedi_lock(void *d, unsigned int su
 int comedi_unlock(void *d, unsigned int subdevice)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	unsigned long flags;
 	comedi_async *async;
 	int ret;
@@ -422,7 +422,7 @@ int comedi_unlock(void *d, unsigned int 
 int comedi_cancel(void *d, unsigned int subdevice)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	int ret = 0;
 
 	if (subdevice >= dev->n_subdevices)
@@ -468,7 +468,7 @@ int comedi_register_callback(void *d, un
 	unsigned int mask, int (*cb) (unsigned int, void *), void *arg)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 	comedi_async *async;
 
 	if (subdevice >= dev->n_subdevices)
@@ -504,7 +504,7 @@ int comedi_register_callback(void *d, un
 int comedi_poll(void *d, unsigned int subdevice)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s = dev->subdevices;
+	struct comedi_subdevice *s = dev->subdevices;
 	comedi_async *async;
 
 	if (subdevice >= dev->n_subdevices)
@@ -531,7 +531,7 @@ int comedi_poll(void *d, unsigned int su
 int comedi_map(void *d, unsigned int subdevice, void *ptr)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	if (subdevice >= dev->n_subdevices)
 		return -EINVAL;
@@ -553,7 +553,7 @@ int comedi_map(void *d, unsigned int sub
 int comedi_unmap(void *d, unsigned int subdevice)
 {
 	struct comedi_device *dev = (struct comedi_device *) d;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	if (subdevice >= dev->n_subdevices)
 		return -EINVAL;
--- a/drivers/staging/comedi/range.c
+++ b/drivers/staging/comedi/range.c
@@ -49,7 +49,7 @@ int do_rangeinfo_ioctl(struct comedi_dev
 	comedi_rangeinfo it;
 	int subd, chan;
 	const comedi_lrange *lr;
-	comedi_subdevice *s;
+	struct comedi_subdevice *s;
 
 	if (copy_from_user(&it, arg, sizeof(comedi_rangeinfo)))
 		return -EFAULT;
@@ -84,7 +84,7 @@ int do_rangeinfo_ioctl(struct comedi_dev
 	return 0;
 }
 
-static int aref_invalid(comedi_subdevice *s, unsigned int chanspec)
+static int aref_invalid(struct comedi_subdevice *s, unsigned int chanspec)
 {
 	unsigned int aref;
 
@@ -120,7 +120,7 @@ static int aref_invalid(comedi_subdevice
    This function checks each element in a channel/gain list to make
    make sure it is valid.
 */
-int check_chanlist(comedi_subdevice *s, int n, unsigned int *chanlist)
+int check_chanlist(struct comedi_subdevice *s, int n, unsigned int *chanlist)
 {
 	int i;
 	int chan;
