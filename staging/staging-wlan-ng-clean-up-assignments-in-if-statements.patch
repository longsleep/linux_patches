From svenne@krap.dk  Wed Feb 17 16:05:37 2010
From: Svenne Krap <svenne@krap.dk>
Date: Sun, 14 Feb 2010 18:59:42 +0100
Subject: Staging: wlan-ng: clean up assignments in if statements
To: greg@kroah.com
Cc: Svenne Krap <svenne@krap.dk>
Message-ID: <1266170382-2507-1-git-send-email-svenne@krap.dk>


Trivial changes to code-paths.

Signed-off-by: Svenne Krap <svenne@krap.dk>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>


---
 drivers/staging/wlan-ng/hfa384x_usb.c |   24 ++++++++++++++++--------
 1 file changed, 16 insertions(+), 8 deletions(-)

--- a/drivers/staging/wlan-ng/hfa384x_usb.c
+++ b/drivers/staging/wlan-ng/hfa384x_usb.c
@@ -1909,16 +1909,20 @@ int hfa384x_drvr_flashdl_enable(hfa384x_
 		return -EINVAL;
 
 	/* Retrieve the buffer loc&size and timeout */
-	if ((result = hfa384x_drvr_getconfig(hw, HFA384x_RID_DOWNLOADBUFFER,
-					     &(hw->bufinfo),
-					     sizeof(hw->bufinfo)))) {
+
+	result = hfa384x_drvr_getconfig(hw, HFA384x_RID_DOWNLOADBUFFER,
+		&(hw->bufinfo), sizeof(hw->bufinfo));
+	if (result) {
 		return result;
 	}
 	hw->bufinfo.page = le16_to_cpu(hw->bufinfo.page);
 	hw->bufinfo.offset = le16_to_cpu(hw->bufinfo.offset);
 	hw->bufinfo.len = le16_to_cpu(hw->bufinfo.len);
-	if ((result = hfa384x_drvr_getconfig16(hw, HFA384x_RID_MAXLOADTIME,
-					       &(hw->dltimeout)))) {
+
+	result = hfa384x_drvr_getconfig16(hw, HFA384x_RID_MAXLOADTIME,
+		&(hw->dltimeout));
+
+	if (result) {
 		return result;
 	}
 	hw->dltimeout = le16_to_cpu(hw->dltimeout);
@@ -3073,7 +3077,9 @@ static void hfa384x_usbctlxq_run(hfa384x
 
 		/* Now submit the URB and update the CTLX's state
 		 */
-		if ((result = SUBMIT_URB(&hw->ctlx_urb, GFP_ATOMIC)) == 0) {
+
+		result = SUBMIT_URB(&hw->ctlx_urb, GFP_ATOMIC);
+		if (result == 0) {
 			/* This CTLX is now running on the active queue */
 			head->state = CTLX_REQ_SUBMITTED;
 
@@ -3599,7 +3605,8 @@ static void hfa384x_int_rxmonitor(wlande
 			 skblen - sizeof(p80211_caphdr_t));
 	}
 
-	if ((skb = dev_alloc_skb(skblen)) == NULL) {
+	skb = dev_alloc_skb(skblen);
+	if (skb == NULL) {
 		printk(KERN_ERR
 		       "alloc_skb failed trying to allocate %d bytes\n",
 		       skblen);
@@ -3870,7 +3877,8 @@ retry:
 
 delresp:
 	if (delete_resptimer) {
-		if ((timer_ok = del_timer(&hw->resptimer)) != 0) {
+		timer_ok = del_timer(&hw->resptimer);
+		if (timer_ok != 0) {
 			hw->resp_timer_done = 1;
 		}
 	}
