From wfp5p@virginia.edu Mon Mar 16 17:23:37 2009
From: Bill Pemberton <wfp5p@virginia.edu>
Date: Mon, 16 Mar 2009 22:08:51 -0400
Subject: Staging: comedi: Remove pci_dio_private typedef
To: greg@kroah.com
Message-ID: <20090317020851.14467.77135.stgit@viridian.itc.Virginia.EDU>


Signed-off-by: Bill Pemberton <wfp5p@virginia.edu>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
---

 drivers/staging/comedi/drivers/adv_pci_dio.c |   16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

--- a/drivers/staging/comedi/drivers/adv_pci_dio.c
+++ b/drivers/staging/comedi/drivers/adv_pci_dio.c
@@ -328,10 +328,10 @@ static struct comedi_driver driver_pci_d
       attach:pci_dio_attach,
       detach:pci_dio_detach
 };
-typedef struct pci_dio_private_st pci_dio_private;
-struct pci_dio_private_st {
-	pci_dio_private *prev;	/*  previous private struct */
-	pci_dio_private *next;	/*  next private struct */
+
+struct pci_dio_private {
+	struct pci_dio_private *prev;	/*  previous private struct */
+	struct pci_dio_private *next;	/*  next private struct */
 	struct pci_dev *pcidev;	/*  pointer to board's pci_dev */
 	char valid;		/*  card is usable */
 	char GlobalIrqEnabled;	/*  1= any IRQ source is enabled */
@@ -349,9 +349,9 @@ struct pci_dio_private_st {
 	unsigned short IDIFiltrHigh[8];	/*  IDI's filter value high signal */
 };
 
-static pci_dio_private *pci_priv = NULL;	/* list of allocated cards */
+static struct pci_dio_private *pci_priv = NULL;	/* list of allocated cards */
 
-#define devpriv ((pci_dio_private *)dev->private)
+#define devpriv ((struct pci_dio_private *)dev->private)
 #define this_board ((const struct dio_boardtype *)dev->board_ptr)
 
 /*
@@ -860,7 +860,7 @@ static int pci_dio_add_do(struct comedi_
 static int CheckAndAllocCard(struct comedi_device * dev, struct comedi_devconfig * it,
 	struct pci_dev *pcidev)
 {
-	pci_dio_private *pr, *prev;
+	struct pci_dio_private *pr, *prev;
 
 	for (pr = pci_priv, prev = NULL; pr != NULL; prev = pr, pr = pr->next) {
 		if (pr->pcidev == pcidev) {
@@ -892,7 +892,7 @@ static int pci_dio_attach(struct comedi_
 
 	rt_printk("comedi%d: adv_pci_dio: ", dev->minor);
 
-	if ((ret = alloc_private(dev, sizeof(pci_dio_private))) < 0) {
+	if ((ret = alloc_private(dev, sizeof(struct pci_dio_private))) < 0) {
 		rt_printk(", Error: Cann't allocate private memory!\n");
 		return -ENOMEM;
 	}
