From wfp5p@virginia.edu  Mon Jul 27 14:12:11 2009
From: Bill Pemberton <wfp5p@virginia.edu>
Date: Mon, 27 Jul 2009 16:47:42 -0400
Subject: Staging: hv: remove VMBUS_CONNECTION typedef
To: greg@kroah.com
Cc: hjanssen@microsoft.com
Message-ID: <1248727665-23969-21-git-send-email-wfp5p@virginia.edu>


Signed-off-by: Bill Pemberton <wfp5p@virginia.edu>
Cc: Hank Janssen <hjanssen@microsoft.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
---
 drivers/staging/hv/Connection.c   |    2 +-
 drivers/staging/hv/VmbusPrivate.h |    6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

--- a/drivers/staging/hv/Connection.c
+++ b/drivers/staging/hv/Connection.c
@@ -29,7 +29,7 @@
 /* Globals */
 
 
-VMBUS_CONNECTION gVmbusConnection = {
+struct VMBUS_CONNECTION gVmbusConnection = {
 	.ConnectState		= Disconnected,
 	.NextGpadlHandle	= 0xE1E10,
 };
--- a/drivers/staging/hv/VmbusPrivate.h
+++ b/drivers/staging/hv/VmbusPrivate.h
@@ -63,7 +63,7 @@ enum VMBUS_CONNECT_STATE {
 
 #define MAX_SIZE_CHANNEL_MESSAGE			HV_MESSAGE_PAYLOAD_BYTE_COUNT
 
-typedef struct _VMBUS_CONNECTION {
+struct VMBUS_CONNECTION {
 
 	enum VMBUS_CONNECT_STATE					ConnectState;
 
@@ -94,7 +94,7 @@ typedef struct _VMBUS_CONNECTION {
 	spinlock_t channel_lock;
 
 	HANDLE								WorkQueue;
-} VMBUS_CONNECTION;
+};
 
 
 typedef struct _VMBUS_MSGINFO {
@@ -112,7 +112,7 @@ typedef struct _VMBUS_MSGINFO {
 
 /* Externs */
 
-extern VMBUS_CONNECTION gVmbusConnection;
+extern struct VMBUS_CONNECTION gVmbusConnection;
 
 
 /* General vmbus interface */
