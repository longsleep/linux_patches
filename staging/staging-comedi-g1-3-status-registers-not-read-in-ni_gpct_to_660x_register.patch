From roel.kluin@gmail.com  Wed Jan 27 14:26:28 2010
From: Roel Kluin <roel.kluin@gmail.com>
Date: Tue, 19 Jan 2010 21:46:48 +0100
Subject: Staging: Comedi: G1-3 status registers not read in ni_gpct_to_660x_register()
To: Greg Kroah-Hartman <gregkh@suse.de>, devel@driverdev.osuosl.org,  Andrew Morton <akpm@linux-foundation.org>, Bill Pemberton <wfp5p@virginia.edu>
Message-ID: <4B561A38.2060805@gmail.com>


Read from the right status register

Signed-off-by: Roel Kluin <roel.kluin@gmail.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

---
 drivers/staging/comedi/drivers/ni_660x.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

--- a/drivers/staging/comedi/drivers/ni_660x.c
+++ b/drivers/staging/comedi/drivers/ni_660x.c
@@ -691,13 +691,13 @@ static enum NI_660x_Register ni_gpct_to_
 		ni_660x_register = G0StatusRegister;
 		break;
 	case NITIO_G1_Status_Reg:
-		ni_660x_register = G0StatusRegister;
+		ni_660x_register = G1StatusRegister;
 		break;
 	case NITIO_G2_Status_Reg:
-		ni_660x_register = G0StatusRegister;
+		ni_660x_register = G2StatusRegister;
 		break;
 	case NITIO_G3_Status_Reg:
-		ni_660x_register = G0StatusRegister;
+		ni_660x_register = G3StatusRegister;
 		break;
 	case NITIO_G0_Interrupt_Enable_Reg:
 		ni_660x_register = G0InterruptEnable;
