From khali@linux-fr.org  Thu Jun  4 10:56:36 2009
From: Jean Delvare <khali@linux-fr.org>
Date: Thu, 4 Jun 2009 13:35:15 +0200
Subject: Staging: altpciechdma: Add missing __devexit_p()
To: Greg Kroah-Hartman <gregkh@suse.de>
Message-ID: <20090604133515.030697ea@hyperion.delvare>


The remove function uses __devexit, so the .remove assignment needs
__devexit_p() to fix a build error with hotplug disabled.

Signed-off-by: Jean Delvare <khali@linux-fr.org>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

---
 drivers/staging/altpciechdma/altpciechdma.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/drivers/staging/altpciechdma/altpciechdma.c
+++ b/drivers/staging/altpciechdma/altpciechdma.c
@@ -1143,7 +1143,7 @@ static struct pci_driver pci_driver = {
 	.name = DRV_NAME,
 	.id_table = ids,
 	.probe = probe,
-	.remove = remove,
+	.remove = __devexit_p(remove),
 	/* resume, suspend are optional */
 };
 
