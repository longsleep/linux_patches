From alan@linux.intel.com  Thu Nov 19 14:42:50 2009
From: Alan Cox <alan@linux.intel.com>
Date: Wed, 18 Nov 2009 14:07:15 +0000
Subject: Staging: et131x: kill TxMacTest field
To: greg@kroah.com
Message-ID: <20091118140714.2578.81171.stgit@localhost.localdomain>


It's really a local in the interrupt handler

Signed-off-by: Alan Cox <alan@linux.intel.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

---
 drivers/staging/et131x/et131x_adapter.h |    3 ---
 drivers/staging/et131x/et131x_isr.c     |    3 +--
 2 files changed, 1 insertion(+), 5 deletions(-)

--- a/drivers/staging/et131x/et131x_adapter.h
+++ b/drivers/staging/et131x/et131x_adapter.h
@@ -213,9 +213,6 @@ struct et131x_adapter {
 	u32 MCAddressCount;
 	u8 MCList[NIC_MAX_MCAST_LIST][ETH_ALEN];
 
-	/* MAC test */
-	u32 TxMacTest;
-
 	/* Pointer to the device's PCI register space */
 	ADDRESS_MAP_t __iomem *regs;
 
--- a/drivers/staging/et131x/et131x_isr.c
+++ b/drivers/staging/et131x/et131x_isr.c
@@ -337,10 +337,9 @@ void et131x_isr_handler(struct work_stru
 			 */
 			/* TRAP();*/
 
-			etdev->TxMacTest = readl(&iomem->txmac.tx_test);
 			dev_warn(&etdev->pdev->dev,
 				    "RxDMA_ERR interrupt, error %x\n",
-				    etdev->TxMacTest);
+				    readl(&iomem->txmac.tx_test));
 		}
 
 		/* Handle the Wake on LAN Event */
