From foo@baz Mon Oct 27 14:21:24 PDT 2008
Date: Mon, 27 Oct 2008 14:21:24 -0700
To: Greg KH <greg@kroah.com>
From: Greg Kroah-Hartman <gregkh@suse.de>
Subject: Staging: w35und: remove usb_submit_urb wrapper function

No need for a simple wrapper here.

Cc: Pekka Enberg <penberg@cs.helsinki.fi>
Cc: Pavel Machek <pavel@suse.cz>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

---
 drivers/staging/winbond/linux/wb35reg.c |    2 +-
 drivers/staging/winbond/linux/wb35rx.c  |    2 +-
 drivers/staging/winbond/linux/wb35tx.c  |    4 ++--
 drivers/staging/winbond/linux/wbusb_f.h |    1 -
 4 files changed, 4 insertions(+), 5 deletions(-)

--- a/drivers/staging/winbond/linux/wb35reg.c
+++ b/drivers/staging/winbond/linux/wb35reg.c
@@ -434,7 +434,7 @@ Wb35Reg_EP0VM(phw_data_t pHwData )
 
 	reg->EP0vm_state = VM_RUNNING;
 
-	ret = wb_usb_submit_urb( urb );
+	ret = usb_submit_urb(urb, GFP_ATOMIC);
 
 	if (ret < 0) {
 #ifdef _PE_REG_DUMP_
--- a/drivers/staging/winbond/linux/wb35rx.c
+++ b/drivers/staging/winbond/linux/wb35rx.c
@@ -70,7 +70,7 @@ void Wb35Rx(  phw_data_t pHwData )
 
 	pWb35Rx->EP3vm_state = VM_RUNNING;
 
-	retv = wb_usb_submit_urb(urb);
+	retv = usb_submit_urb(urb, GFP_ATOMIC);
 
 	if (retv != 0) {
 		printk("Rx URB sending error\n");
--- a/drivers/staging/winbond/linux/wb35tx.c
+++ b/drivers/staging/winbond/linux/wb35tx.c
@@ -65,7 +65,7 @@ void Wb35Tx(phw_data_t pHwData)
 			  Wb35Tx_complete, pHwData);
 
 	pWb35Tx->EP4vm_state = VM_RUNNING;
-	retv = wb_usb_submit_urb( pUrb );
+	retv = usb_submit_urb(pUrb, GFP_ATOMIC);
 	if (retv<0) {
 		printk("EP4 Tx Irp sending error\n");
 		goto cleanup;
@@ -240,7 +240,7 @@ void Wb35Tx_EP2VM(phw_data_t pHwData)
 			  pltmp, MAX_INTERRUPT_LENGTH, Wb35Tx_EP2VM_complete, pHwData, 32);
 
 	pWb35Tx->EP2vm_state = VM_RUNNING;
-	retv = wb_usb_submit_urb( pUrb );
+	retv = usb_submit_urb(pUrb, GFP_ATOMIC);
 
 	if (retv < 0) {
 		#ifdef _PE_TX_DUMP_
--- a/drivers/staging/winbond/linux/wbusb_f.h
+++ b/drivers/staging/winbond/linux/wbusb_f.h
@@ -16,7 +16,6 @@ void WbUsb_destroy(phw_data_t pHwData);
 unsigned char WbWLanInitialize(struct wb35_adapter *adapter);
 #define	WbUsb_Stop( _A )
 
-#define wb_usb_submit_urb(_A) usb_submit_urb(_A, GFP_ATOMIC)
 #define wb_usb_alloc_urb(_A) usb_alloc_urb(_A, GFP_ATOMIC)
 
 #define WbUsb_CheckForHang( _P )
