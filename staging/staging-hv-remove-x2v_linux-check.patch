From wfp5p@virginia.edu  Mon Jul 27 14:08:09 2009
From: Bill Pemberton <wfp5p@virginia.edu>
Date: Mon, 27 Jul 2009 16:47:30 -0400
Subject: Staging: hv: Remove X2V_LINUX check
To: greg@kroah.com
Cc: hjanssen@microsoft.com
Message-ID: <1248727665-23969-9-git-send-email-wfp5p@virginia.edu>


Remove preprocessor check for X2V_LINUX in osd.c

Signed-off-by: Bill Pemberton <wfp5p@virginia.edu>
Cc: Hank Janssen <hjanssen@microsoft.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
---
 drivers/staging/hv/osd.c |    8 --------
 1 file changed, 8 deletions(-)

--- a/drivers/staging/hv/osd.c
+++ b/drivers/staging/hv/osd.c
@@ -168,15 +168,7 @@ void PageUnmapVirtualAddress(void* VirtA
 
 void *MemMapIO(unsigned long phys, unsigned long size)
 {
-#if X2V_LINUX
-#ifdef __x86_64__
-	return (void*)(phys + 0xFFFF83000C000000);
-#else /* i386 */
-	return (void*)(phys + 0xfb000000);
-#endif
-#else
 	return (void*)GetVirtualAddress(phys); /* return ioremap_nocache(phys, size); */
-#endif
 }
 
 void MemUnmapIO(void *virt)
