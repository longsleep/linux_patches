From wfp5p@virginia.edu Mon Mar 16 17:33:02 2009
From: Bill Pemberton <wfp5p@virginia.edu>
Date: Mon, 16 Mar 2009 22:18:16 -0400
Subject: Staging: comedi: Remove poll_delay_t typedef
To: greg@kroah.com
Message-ID: <20090317021816.14467.32213.stgit@viridian.itc.Virginia.EDU>


Signed-off-by: Bill Pemberton <wfp5p@virginia.edu>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
---

 drivers/staging/comedi/drivers/jr3_pci.c |   16 +++++++++-------
 1 file changed, 9 insertions(+), 7 deletions(-)

--- a/drivers/staging/comedi/drivers/jr3_pci.c
+++ b/drivers/staging/comedi/drivers/jr3_pci.c
@@ -137,10 +137,12 @@ struct jr3_pci_dev_private {
 };
 
 
-typedef struct {
+struct poll_delay_t {
+
 	int min;
 	int max;
-} poll_delay_t;
+};
+
 
 typedef struct {
 	volatile struct jr3_channel *channel;
@@ -166,9 +168,9 @@ typedef struct {
 	int retries;
 } jr3_pci_subdev_private;
 
-static poll_delay_t poll_delay_min_max(int min, int max)
+static struct poll_delay_t poll_delay_min_max(int min, int max)
 {
-	poll_delay_t result;
+	struct poll_delay_t result;
 
 	result.min = min;
 	result.max = max;
@@ -525,9 +527,9 @@ static int jr3_download_firmware(struct 
 	return result;
 }
 
-static poll_delay_t jr3_pci_poll_subdevice(struct comedi_subdevice * s)
+static struct poll_delay_t jr3_pci_poll_subdevice(struct comedi_subdevice * s)
 {
-	poll_delay_t result = poll_delay_min_max(1000, 2000);
+	struct poll_delay_t result = poll_delay_min_max(1000, 2000);
 	jr3_pci_subdev_private *p = s->private;
 
 	if (p) {
@@ -752,7 +754,7 @@ static void jr3_pci_poll_dev(unsigned lo
 	for (i = 0; i < devpriv->n_channels; i++) {
 		jr3_pci_subdev_private *subdevpriv = dev->subdevices[i].private;
 		if (now > subdevpriv->next_time_min) {
-			poll_delay_t sub_delay;
+			struct poll_delay_t sub_delay;
 
 			sub_delay = jr3_pci_poll_subdevice(&dev->subdevices[i]);
 			subdevpriv->next_time_min =
