From bzolnier@gmail.com  Thu Jul 16 16:25:09 2009
From: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>
Date: Mon, 13 Jul 2009 20:13:55 +0200
Subject: Staging: rtl8192su: remove JOHN_DUMP[_TXDESC] ifdefs
To: "Greg Kroah-Hartman" <gregkh@suse.de>
Cc: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>, linux-kernel@vger.kernel.org
Message-ID: <20090713181355.16765.15642.sendpatchset@localhost.localdomain>


From: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
---
 drivers/staging/rtl8192su/TODO                             |    1 -
 drivers/staging/rtl8192su/ieee80211/ieee80211_crypt_tkip.c |   12 ------------
 drivers/staging/rtl8192su/r8192U_core.c                    |    8 --------
 3 files changed, 21 deletions(-)

--- a/drivers/staging/rtl8192su/ieee80211/ieee80211_crypt_tkip.c
+++ b/drivers/staging/rtl8192su/ieee80211/ieee80211_crypt_tkip.c
@@ -502,18 +502,6 @@ static int ieee80211_tkip_decrypt(struct
 	skb_pull(skb, 8);
 	skb_trim(skb, skb->len - 4);
 
-//john's test
-#ifdef JOHN_DUMP
-if( ((u16*)skb->data)[0] & 0x4000){
-        printk("@@ rx decrypted skb->data");
-        int i;
-        for(i=0;i<skb->len;i++){
-                if( (i%24)==0 ) printk("\n");
-                printk("%2x ", ((u8*)skb->data)[i]);
-        }
-        printk("\n");
-}
-#endif /*JOHN_DUMP*/
 	return keyidx;
 }
 
--- a/drivers/staging/rtl8192su/r8192U_core.c
+++ b/drivers/staging/rtl8192su/r8192U_core.c
@@ -1966,14 +1966,6 @@ short rtl8192SU_tx_cmd(struct net_device
 	idx_pipe = txqueue2outpipe(priv,queue_index);
 	//printk("=============>%s queue_index:%d, outpipe:%d\n", __func__,queue_index,priv->RtOutPipes[idx_pipe]);
 
-#ifdef JOHN_DUMP_TXDESC
-	int i;
-	printk("Len = %d\n", skb->len);
-	for (i = 0; i < 8; i++)
-		printk("%2.2x ", *((u8*)skb->data+i));
-	printk("\n");
-#endif
-
 	usb_fill_bulk_urb(tx_urb,
 	                            priv->udev,
 	                            usb_sndbulkpipe(priv->udev,priv->RtOutPipes[idx_pipe]),
--- a/drivers/staging/rtl8192su/TODO
+++ b/drivers/staging/rtl8192su/TODO
@@ -1,6 +1,5 @@
 TODO:
 - prepare private ieee80211 stack for merge with rtl8187se's version:
-  - remove JOHN_DUMP[_DESC] ifdefs
   - remove [IN]_OPENSUSE_SLED definitions
   - remove superflous container_of definition from ieee80211.h
   - remove rtl8192su's specific dead code
