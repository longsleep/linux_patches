From de692eeaf90169575bffe4ebd934aa6ab22699ae Mon Sep 17 00:00:00 2001
From: Frank Mori Hess <fmhess@users.sourceforge.ne
Date: Sat, 6 Dec 2008 15:43:23 +0000
Subject: Staging: comedi: usbduxfast bugfix

Fixed bug in firmware loading with multiple usbduxfast boards.

From: Frank Mori Hess <fmhess@users.sourceforge.ne
Cc: David Schleef <ds@schleef.org>
Cc: Ian Abbott <abbotti@mev.co.uk>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

---
 drivers/staging/comedi/drivers/usbduxfast.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/drivers/staging/comedi/drivers/usbduxfast.c
+++ b/drivers/staging/comedi/drivers/usbduxfast.c
@@ -1715,7 +1715,7 @@ static int usbduxfast_attach(comedi_devi
 	/* trying to upload the firmware into the chip */
 	if (comedi_aux_data(it->options, 0) &&
 		it->options[COMEDI_DEVCONF_AUX_DATA_LENGTH]) {
-		read_firmware(usbduxfastsub,
+		read_firmware(&usbduxfastsub[index],
 			comedi_aux_data(it->options, 0),
 			it->options[COMEDI_DEVCONF_AUX_DATA_LENGTH]);
 	}
