From alan@linux.intel.com  Thu Aug 27 14:24:52 2009
From: Alan Cox <alan@linux.intel.com>
Date: Thu, 27 Aug 2009 10:59:37 +0100
Subject: Staging: et131x: Eliminate RegistryDMA Cache
To: greg@kroah.com
Message-ID: <20090827095935.23892.29837.stgit@localhost.localdomain>


One writer, of a constant, one user .. it can go.

Signed-off-by: Alan Cox <alan@linux.intel.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
---

 drivers/staging/et131x/et1310_tx.c      |    2 +-
 drivers/staging/et131x/et131x_adapter.h |    1 -
 drivers/staging/et131x/et131x_config.c  |    1 -
 3 files changed, 1 insertion(+), 3 deletions(-)


--- a/drivers/staging/et131x/et1310_tx.c
+++ b/drivers/staging/et131x/et1310_tx.c
@@ -315,7 +315,7 @@ void et131x_tx_dma_enable(struct et131x_
 		 */
 		csr.bits.sngl_epkt_mode = 1;
 		csr.bits.halt = 0;
-		csr.bits.cache_thrshld = etdev->RegistryDMACache;
+		csr.bits.cache_thrshld = PARM_DMA_CACHE_DEF;
 		writel(csr.value, &etdev->regs->txdma.csr.value);
 	}
 
--- a/drivers/staging/et131x/et131x_adapter.h
+++ b/drivers/staging/et131x/et131x_adapter.h
@@ -271,7 +271,6 @@ struct et131x_adapter {
 	/* Validation helpers */
 	u8 RegistryPMWOL;
 	u8 RegistryNMIDisable;
-	u32 RegistryDMACache;
 	u32 RegistrySCGain;
 	u8 RegistryPhyLoopbk;	/* Enable Phy loopback */
 
--- a/drivers/staging/et131x/et131x_config.c
+++ b/drivers/staging/et131x/et131x_config.c
@@ -265,7 +265,6 @@ void et131x_config_parse(struct et131x_a
 	else
 		etdev->RegistryNMIDisable = PARM_NMI_DISABLE_DEF;
 
-	etdev->RegistryDMACache = PARM_DMA_CACHE_DEF;
 	etdev->RegistryPhyLoopbk = PARM_PHY_LOOPBK_DEF;
 
 	/* Set the MAC address to a default */
