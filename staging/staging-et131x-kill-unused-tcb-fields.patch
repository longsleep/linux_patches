From alan@linux.intel.com  Mon Oct 26 14:57:51 2009
From: Alan Cox <alan@linux.intel.com>
Date: Tue, 06 Oct 2009 15:49:52 +0100
Subject: Staging: et131x: kill unused tcb fields
To: greg@kroah.com
Message-ID: <20091006144950.8604.44069.stgit@localhost.localdomain>


Signed-off-by: Alan Cox <alan@linux.intel.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

---
 drivers/staging/et131x/et1310_tx.c |    1 -
 drivers/staging/et131x/et1310_tx.h |    5 ++---
 2 files changed, 2 insertions(+), 4 deletions(-)

--- a/drivers/staging/et131x/et1310_tx.c
+++ b/drivers/staging/et131x/et1310_tx.c
@@ -368,7 +368,6 @@ static int et131x_send_packet(struct sk_
 
 	spin_unlock_irqrestore(&etdev->TCBReadyQLock, flags);
 
-	tcb->len = skb->len;
 	tcb->skb = skb;
 
 	if ((skb->data != NULL) && ((skb->len - skb->data_len) >= 6)) {
--- a/drivers/staging/et131x/et1310_tx.h
+++ b/drivers/staging/et131x/et1310_tx.h
@@ -106,11 +106,10 @@ struct tx_desc {
 struct tcb {
 	struct tcb *next;	/* Next entry in ring */
 	u32 flags;		/* Our flags for the packet */
-	u32 count;
+	u32 count;		/* Used to spot stuck/lost packets */
 	u32 stale;		/* Used to spot stuck/lost packets */
 	struct sk_buff *skb;	/* Network skb we are tied to */
-	u32 len;
-	u32 index;
+	u32 index;		/* Ring indexes */
 	u32 index_start;
 };
 
