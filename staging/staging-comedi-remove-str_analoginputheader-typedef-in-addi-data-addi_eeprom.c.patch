From wfp5p@virginia.edu Wed Mar 25 08:06:33 2009
From: Bill Pemberton <wfp5p@virginia.edu>
Date: Wed, 25 Mar 2009 11:06:30 -0400
Subject: Staging: comedi: Remove str_AnalogInputHeader typedef in addi-data/addi_eeprom.c
To: greg@kroah.com
Cc: abbotti@mev.co.uk, "fmhess@users.sourceforge.netds"@schleef.org
Message-ID: <20090325150629.13323.76708.stgit@viridian.itc.Virginia.EDU>


Signed-off-by: Bill Pemberton <wfp5p@virginia.edu>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
---

 drivers/staging/comedi/drivers/addi-data/addi_eeprom.c |   15 ++++++++-------
 1 file changed, 8 insertions(+), 7 deletions(-)

--- a/drivers/staging/comedi/drivers/addi-data/addi_eeprom.c
+++ b/drivers/staging/comedi/drivers/addi-data/addi_eeprom.c
@@ -106,13 +106,14 @@ typedef struct {
 	unsigned char b_Resolution;
 } str_AnalogOutputHeader;
 
-typedef struct {
+struct str_AnalogInputHeader {
 	unsigned short w_Nchannel;
 	unsigned short w_MinConvertTiming;
 	unsigned short w_MinDelayTiming;
 	unsigned char b_HasDma;
 	unsigned char b_Resolution;
-} str_AnalogInputHeader;
+};
+
 
 		/*****************************************/
 		/*            Read Header Functions              */
@@ -139,7 +140,7 @@ int i_EepromReadAnlogOutputHeader(unsign
 
 int i_EepromReadAnlogInputHeader(unsigned short w_PCIBoardEepromAddress,
 	char *pc_PCIChipInformation, unsigned short w_Address,
-	str_AnalogInputHeader * s_Header);
+	struct str_AnalogInputHeader * s_Header);
 
 		/******************************************/
 		/*      Eeprom Specific Functions                         */
@@ -812,7 +813,7 @@ int i_EepromReadMainHeader(unsigned shor
 	struct str_DigitalOutputHeader s_DigitalOutputHeader;
 	//struct str_TimerMainHeader     s_TimerMainHeader,s_WatchdogMainHeader;
 	str_AnalogOutputHeader s_AnalogOutputHeader;
-	str_AnalogInputHeader s_AnalogInputHeader;
+	struct str_AnalogInputHeader s_AnalogInputHeader;
 
 	// Read size
 	s_MainHeader.w_HeaderSize =
@@ -1099,7 +1100,7 @@ int i_EepromReadAnlogOutputHeader(unsign
 +----------------------------------------------------------------------------+
 | Function Name  : int i_EepromReadAnlogInputHeader(unsigned short 					 |
 |			w_PCIBoardEepromAddress,char *pc_PCIChipInformation,     |
-|			unsigned short w_Address,str_AnalogInputHeader *s_Header)          |
+|			unsigned short w_Address,struct str_AnalogInputHeader *s_Header)          |
 +----------------------------------------------------------------------------+
 | Task              : Read Nalog Output  Header                              |
 +----------------------------------------------------------------------------+
@@ -1107,7 +1108,7 @@ int i_EepromReadAnlogOutputHeader(unsign
 |																	 |
 |		      char *pc_PCIChipInformation  : PCI Chip Type.          |
 |																	 |
-|			 str_AnalogInputHeader *s_Header:Anlog Input Header      |
+|			 struct str_AnalogInputHeader *s_Header:Anlog Input Header      |
 |											   Pointer				 |
 +----------------------------------------------------------------------------+
 | Output Parameters : -                                                      |
@@ -1119,7 +1120,7 @@ int i_EepromReadAnlogOutputHeader(unsign
 // Reads only for ONE  hardware component
 int i_EepromReadAnlogInputHeader(unsigned short w_PCIBoardEepromAddress,
 	char *pc_PCIChipInformation, unsigned short w_Address,
-	str_AnalogInputHeader * s_Header)
+	struct str_AnalogInputHeader * s_Header)
 {
 	unsigned short w_Temp, w_Offset;
 	w_Temp = w_EepromReadWord(w_PCIBoardEepromAddress,
